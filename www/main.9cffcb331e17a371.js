var jw=Object.defineProperty,Ww=Object.defineProperties,Gw=Object.getOwnPropertyDescriptors,oI=Object.getOwnPropertySymbols,zw=Object.prototype.hasOwnProperty,Kw=Object.prototype.propertyIsEnumerable,aI=(ln,at,R)=>at in ln?jw(ln,at,{enumerable:!0,configurable:!0,writable:!0,value:R}):ln[at]=R,cI=(ln,at)=>{for(var R in at||(at={}))zw.call(at,R)&&aI(ln,R,at[R]);if(oI)for(var R of oI(at))Kw.call(at,R)&&aI(ln,R,at[R]);return ln},lI=(ln,at)=>Ww(ln,Gw(at));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{881:(ln,at,R)=>{"use strict";R.d(at,{m:()=>Fe});var c=R(6362),B=R(5708),$=R(1915),Le=R(3184);class Fe{}Fe.\u0275fac=function(le){return new(le||Fe)},Fe.\u0275mod=Le.oAB({type:Fe}),Fe.\u0275inj=Le.cJS({imports:[c.ez,B.Pc,$.UX]})},7556:(ln,at,R)=>{"use strict";R.d(at,{$:()=>_e});var c=R(4929),B=R(9012),$=R(5191),Le=R(253),Fe=R(6317),Ie=R(3184),le=R(3805),Ce=R(5873),$e=R(993),ue=R(8883);class _e{constructor(de,Be,Ge,dt,Me,be){this.afStore=de,this.ngFireAuth=Be,this.router=Ge,this.ngZone=dt,this.fireAuth=Me,this.angularFireMessaging=be,this.form={email:"Your Email",password:"Password",name:"Your Name",status:"What's in your mind ...",phone:"Your Phone Number",profilePicture:"../../../assets/img/avatar.svg",otp:"OTP",googleAuth:"auth",facebookAuth:"auth",phoneAuth:"auth",conversations:{Admin:{chats:[{date:new Date,chats:[{message:"Welcome from Ionic App",date:new Date,type:"user"},{message:"Please go through your privacy settings",date:new Date,type:"user"}]}],lastMessage:"Please go through your privacy settings",lastMessageTime:new Date,displayName:"Admin",phoneNumbers:[{number:"Admin",label:"mobile"}],emails:[],contactId:"0081300F-C478-4D95-B8CF-3EEECE3FFBF2:ABPerson",photoThumbnail:"default",status:"What's in your mind ...",organizationRole:"Admin",unRead:2}},groups:{Admin:{chats:[{date:new Date,chats:[{message:"Welcome from Ionic App",date:new Date,type:"user"},{message:"Please go through your privacy settings",date:new Date,type:"user"}]}],lastMessage:"Please go through your privacy settings",lastMessageTime:new Date,displayName:"Admin",phoneNumbers:[{number:"Admin",label:"mobile"}],emails:[],contactId:"0081300F-C478-4D95-B8CF-3EEECE3FFBF2:ABPerson",photoThumbnail:"default",status:"What's in your mind ...",organizationRole:"Admin",unRead:2}},freshLogin:!0,deviceToken:"No Token"},this.contactList=Object.create({}),this.showLoader=!1,this.formData$=new Le.x,this.currentMesssage=new Fe.X(null),this.ngFireAuth.authState.subscribe(Ee=>{Ee?(this.userData=Ee,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))})}SignIn(){this.ngFireAuth.signInWithEmailAndPassword(this.form.email,this.form.password).then(de=>{this.form.googleAuth=de,this.router.navigate(["/register"])}).catch(de=>{this.RegisterUser()})}requestPermission(){this.angularFireMessaging.requestToken.subscribe(de=>{de&&(this.form.deviceToken=de)})}receiveMessage(){this.angularFireMessaging.messages.subscribe(de=>{de&&(console.log("Message received from server as notification"),this.currentMesssage.next(de))})}RegisterUser(){return this.ngFireAuth.createUserWithEmailAndPassword(this.form.email,this.form.password).then(de=>{this.form.googleAuth=de,this.router.navigate(["/register"])}).catch(de=>{window.alert(de)})}SendVerificationMail(){return this.ngFireAuth.currentUser.then(de=>de.sendEmailVerification().then(()=>{this.router.navigate(["login"])}))}PasswordRecover(de){return this.ngFireAuth.sendPasswordResetEmail(de).then(()=>{window.alert("Password reset email has been sent, please check your inbox.")}).catch(Be=>{window.alert(Be)})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}get isEmailVerified(){return!1!==JSON.parse(localStorage.getItem("user")).emailVerified}GoogleAuth(){this.ngFireAuth.signInWithPopup(new B.hJ).then(de=>{this.form.googleAuth=de,this.router.navigate(["/register"])}).catch(de=>{window.alert(de)})}FacebookAuth(){this.ngFireAuth.signInWithPopup(new B._O).then(de=>{this.form.facebookAuth=de,this.router.navigate(["/register"])}).catch(de=>{window.alert(de)})}SetUserData(de){const Be=this.afStore.doc(`users/${de.uid}`),Ge={uid:de.uid,email:de.email,displayName:de.displayName,photoURL:de.photoURL,emailVerified:de.emailVerified};return Be.set(Ge,{merge:!0})}SignOut(){return this.ngFireAuth.signOut().then(()=>{localStorage.removeItem("user"),$.u.clear(),this.router.navigate(["login"])})}signInWithPhoneNumber(de,Be){return this.showLoader=!0,new Promise((Ge,dt)=>{this.fireAuth.signInWithPhoneNumber(Be,de).then(Me=>{this.form.phoneAuth=Me,Ge(Me),this.showLoader=!1}).catch(Me=>{console.log(Me),dt("SMS not sent"),this.showLoader=!1})})}enterVerificationCode(de){return(0,c.mG)(this,void 0,void 0,function*(){return this.showLoader=!0,new Promise((Be,Ge)=>{this.form.phoneAuth.confirm(de).then(dt=>(0,c.mG)(this,void 0,void 0,function*(){const Me=dt.user;Be(Me),this.showLoader=!1})).catch(dt=>{Ge(dt.message),this.showLoader=!1})})})}loadFormData(de=(new Date).toString()){return(0,c.mG)(this,void 0,void 0,function*(){return new Promise((Be,Ge)=>{$.u.get({key:"form"}).then(dt=>{this.form=dt.value?JSON.parse(dt.value):this.form,this.form&&this.form.freshLogin&&(this.form.conversations={Admin:{chats:[{date:de,chats:[{message:"Welcome from Ionic App",date:de,type:"user"},{message:"Please go through your privacy settings",date:de,type:"user"}]}],lastMessage:"Please go through your privacy settings",lastMessageTime:de,displayName:"Admin",phoneNumbers:[{number:"Admin",label:"mobile"}],emails:[],contactId:"0081300F-C478-4D95-B8CF-3EEECE3FFBF2:ABPerson",photoThumbnail:"default",status:"What's in your mind ...",organizationRole:"Admin",unRead:2}}),this.formData$.next(this.form),Be("")})})})}}_e.\u0275fac=function(de){return new(de||_e)(Ie.LFG(le.ST),Ie.LFG(Ce.zQ),Ie.LFG($e.F0),Ie.LFG(Ie.R0b),Ie.LFG(Ce.zQ),Ie.LFG(ue.BG))},_e.\u0275prov=Ie.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})},4576:(ln,at,R)=>{"use strict";R.d(at,{Y:()=>c});class c{constructor($,Le,Fe){this.method=$,this.params={type:Le,values:Fe}}}},3352:(ln,at,R)=>{"use strict";R.d(at,{W:()=>ct});var c={};R.r(c),R.d(c,{Decoder:()=>Ue,Encoder:()=>tt,PacketType:()=>Te,protocol:()=>Xe});var B=R(4929);const $=Object.create(null);$.open="0",$.close="1",$.ping="2",$.pong="3",$.message="4",$.upgrade="5",$.noop="6";const Le=Object.create(null);Object.keys($).forEach(Z=>{Le[$[Z]]=Z});const Fe={type:"error",data:"parser error"},Ie="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),le="function"==typeof ArrayBuffer,ue=(Z,x)=>{const j=new FileReader;return j.onload=function(){const ye=j.result.split(",")[1];x("b"+ye)},j.readAsDataURL(Z)},_e=({type:Z,data:x},j,ye)=>Ie&&x instanceof Blob?j?ye(x):ue(x,ye):le&&(x instanceof ArrayBuffer||(Z=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(Z):Z&&Z.buffer instanceof ArrayBuffer)(x))?j?ye(x):ue(new Blob([x]),ye):ye($[Z]+(x||"")),xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",de="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let Z=0;Z<xe.length;Z++)de[xe.charCodeAt(Z)]=Z;const dt="function"==typeof ArrayBuffer,be=(Z,x)=>{if(dt){const j=(Z=>{let ye,It,_n,Jn,cr,x=.75*Z.length,j=Z.length,Ct=0;"="===Z[Z.length-1]&&(x--,"="===Z[Z.length-2]&&x--);const Nr=new ArrayBuffer(x),Rr=new Uint8Array(Nr);for(ye=0;ye<j;ye+=4)It=de[Z.charCodeAt(ye)],_n=de[Z.charCodeAt(ye+1)],Jn=de[Z.charCodeAt(ye+2)],cr=de[Z.charCodeAt(ye+3)],Rr[Ct++]=It<<2|_n>>4,Rr[Ct++]=(15&_n)<<4|Jn>>2,Rr[Ct++]=(3&Jn)<<6|63&cr;return Nr})(Z);return Ee(j,x)}return{base64:!0,data:Z}},Ee=(Z,x)=>"blob"===x&&Z instanceof ArrayBuffer?new Blob([Z]):Z,xt=(Z,x)=>{if("string"!=typeof Z)return{type:"message",data:Ee(Z,x)};const j=Z.charAt(0);return"b"===j?{type:"message",data:be(Z.substring(1),x)}:Le[j]?Z.length>1?{type:Le[j],data:Z.substring(1)}:{type:Le[j]}:Fe},mt=String.fromCharCode(30);function me(Z){if(Z)return function De(Z){for(var x in me.prototype)Z[x]=me.prototype[x];return Z}(Z)}me.prototype.on=me.prototype.addEventListener=function(Z,x){return this._callbacks=this._callbacks||{},(this._callbacks["$"+Z]=this._callbacks["$"+Z]||[]).push(x),this},me.prototype.once=function(Z,x){function j(){this.off(Z,j),x.apply(this,arguments)}return j.fn=x,this.on(Z,j),this},me.prototype.off=me.prototype.removeListener=me.prototype.removeAllListeners=me.prototype.removeEventListener=function(Z,x){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var j=this._callbacks["$"+Z];if(!j)return this;if(1==arguments.length)return delete this._callbacks["$"+Z],this;for(var ye,Ct=0;Ct<j.length;Ct++)if((ye=j[Ct])===x||ye.fn===x){j.splice(Ct,1);break}return 0===j.length&&delete this._callbacks["$"+Z],this},me.prototype.emit=function(Z){this._callbacks=this._callbacks||{};for(var x=new Array(arguments.length-1),j=this._callbacks["$"+Z],ye=1;ye<arguments.length;ye++)x[ye-1]=arguments[ye];if(j){ye=0;for(var Ct=(j=j.slice(0)).length;ye<Ct;++ye)j[ye].apply(this,x)}return this},me.prototype.emitReserved=me.prototype.emit,me.prototype.listeners=function(Z){return this._callbacks=this._callbacks||{},this._callbacks["$"+Z]||[]},me.prototype.hasListeners=function(Z){return!!this.listeners(Z).length};const st="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function ie(Z,...x){return x.reduce((j,ye)=>(Z.hasOwnProperty(ye)&&(j[ye]=Z[ye]),j),{})}const ee=setTimeout,oe=clearTimeout;function J(Z,x){x.useNativeTimers?(Z.setTimeoutFn=ee.bind(st),Z.clearTimeoutFn=oe.bind(st)):(Z.setTimeoutFn=setTimeout.bind(st),Z.clearTimeoutFn=clearTimeout.bind(st))}class Ve extends Error{constructor(x,j,ye){super(x),this.description=j,this.context=ye,this.type="TransportError"}}class qe extends me{constructor(x){super(),this.writable=!1,J(this,x),this.opts=x,this.query=x.query,this.readyState="",this.socket=x.socket}onError(x,j,ye){return super.emitReserved("error",new Ve(x,j,ye)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(x){"open"===this.readyState&&this.write(x)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(x){const j=xt(x,this.socket.binaryType);this.onPacket(j)}onPacket(x){super.emitReserved("packet",x)}onClose(x){this.readyState="closed",super.emitReserved("close",x)}}const Se="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),it={};let Ht,lt=0,St=0;function qt(Z){let x="";do{x=Se[Z%64]+x,Z=Math.floor(Z/64)}while(Z>0);return x}function Fn(){const Z=qt(+new Date);return Z!==Ht?(lt=0,Ht=Z):Z+"."+qt(lt++)}for(;St<64;St++)it[Se[St]]=St;function ir(Z){let x="";for(let j in Z)Z.hasOwnProperty(j)&&(x.length&&(x+="&"),x+=encodeURIComponent(j)+"="+encodeURIComponent(Z[j]));return x}let jn=!1;try{jn="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Z){}const Mn=jn;function z(Z){const x=Z.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!x||Mn))return new XMLHttpRequest}catch(j){}if(!x)try{return new(st[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(j){}}function Rt(){}const Vt=null!=new z({xdomain:!1}).responseType;class bt extends me{constructor(x,j){super(),J(this,j),this.opts=j,this.method=j.method||"GET",this.uri=x,this.async=!1!==j.async,this.data=void 0!==j.data?j.data:null,this.create()}create(){const x=ie(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");x.xdomain=!!this.opts.xd,x.xscheme=!!this.opts.xs;const j=this.xhr=new z(x);try{j.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){j.setDisableHeaderCheck&&j.setDisableHeaderCheck(!0);for(let ye in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(ye)&&j.setRequestHeader(ye,this.opts.extraHeaders[ye])}}catch(ye){}if("POST"===this.method)try{j.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(ye){}try{j.setRequestHeader("Accept","*/*")}catch(ye){}"withCredentials"in j&&(j.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(j.timeout=this.opts.requestTimeout),j.onreadystatechange=()=>{4===j.readyState&&(200===j.status||1223===j.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof j.status?j.status:0)},0))},j.send(this.data)}catch(ye){return void this.setTimeoutFn(()=>{this.onError(ye)},0)}"undefined"!=typeof document&&(this.index=bt.requestsCount++,bt.requests[this.index]=this)}onError(x){this.emitReserved("error",x,this.xhr),this.cleanup(!0)}cleanup(x){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Rt,x)try{this.xhr.abort()}catch(j){}"undefined"!=typeof document&&delete bt.requests[this.index],this.xhr=null}}onLoad(){const x=this.xhr.responseText;null!==x&&(this.emitReserved("data",x),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(bt.requestsCount=0,bt.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",rn);else if("function"==typeof addEventListener){addEventListener("onpagehide"in st?"pagehide":"unload",rn,!1)}function rn(){for(let Z in bt.requests)bt.requests.hasOwnProperty(Z)&&bt.requests[Z].abort()}const Et="function"==typeof Promise&&"function"==typeof Promise.resolve?x=>Promise.resolve().then(x):(x,j)=>j(x,0),cn=st.WebSocket||st.MozWebSocket,hr="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const En={websocket:class Wn extends qe{constructor(x){super(x),this.supportsBinary=!x.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const x=this.uri(),j=this.opts.protocols,ye=hr?{}:ie(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(ye.headers=this.opts.extraHeaders);try{this.ws=hr?new cn(x,j,ye):j?new cn(x,j):new cn(x)}catch(Ct){return this.emitReserved("error",Ct)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=x=>this.onClose({description:"websocket connection closed",context:x}),this.ws.onmessage=x=>this.onData(x.data),this.ws.onerror=x=>this.onError("websocket error",x)}write(x){this.writable=!1;for(let j=0;j<x.length;j++){const ye=x[j],Ct=j===x.length-1;_e(ye,this.supportsBinary,It=>{try{this.ws.send(It)}catch(Jn){}Ct&&Et(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let x=this.query||{};const j=this.opts.secure?"wss":"ws";let ye="";this.opts.port&&("wss"===j&&443!==Number(this.opts.port)||"ws"===j&&80!==Number(this.opts.port))&&(ye=":"+this.opts.port),this.opts.timestampRequests&&(x[this.opts.timestampParam]=Fn()),this.supportsBinary||(x.b64=1);const Ct=ir(x);return j+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+ye+this.opts.path+(Ct.length?"?"+Ct:"")}check(){return!!cn}},polling:class hn extends qe{constructor(x){if(super(x),this.polling=!1,"undefined"!=typeof location){const ye="https:"===location.protocol;let Ct=location.port;Ct||(Ct=ye?"443":"80"),this.xd="undefined"!=typeof location&&x.hostname!==location.hostname||Ct!==x.port,this.xs=x.secure!==ye}const j=x&&x.forceBase64;this.supportsBinary=Vt&&!j}get name(){return"polling"}doOpen(){this.poll()}pause(x){this.readyState="pausing";const j=()=>{this.readyState="paused",x()};if(this.polling||!this.writable){let ye=0;this.polling&&(ye++,this.once("pollComplete",function(){--ye||j()})),this.writable||(ye++,this.once("drain",function(){--ye||j()}))}else j()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(x){((Z,x)=>{const j=Z.split(mt),ye=[];for(let Ct=0;Ct<j.length;Ct++){const It=xt(j[Ct],x);if(ye.push(It),"error"===It.type)break}return ye})(x,this.socket.binaryType).forEach(ye=>{if("opening"===this.readyState&&"open"===ye.type&&this.onOpen(),"close"===ye.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(ye)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const x=()=>{this.write([{type:"close"}])};"open"===this.readyState?x():this.once("open",x)}write(x){this.writable=!1,((Z,x)=>{const j=Z.length,ye=new Array(j);let Ct=0;Z.forEach((It,_n)=>{_e(It,!1,Jn=>{ye[_n]=Jn,++Ct===j&&x(ye.join(mt))})})})(x,j=>{this.doWrite(j,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let x=this.query||{};const j=this.opts.secure?"https":"http";let ye="";!1!==this.opts.timestampRequests&&(x[this.opts.timestampParam]=Fn()),!this.supportsBinary&&!x.sid&&(x.b64=1),this.opts.port&&("https"===j&&443!==Number(this.opts.port)||"http"===j&&80!==Number(this.opts.port))&&(ye=":"+this.opts.port);const Ct=ir(x);return j+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+ye+this.opts.path+(Ct.length?"?"+Ct:"")}request(x={}){return Object.assign(x,{xd:this.xd,xs:this.xs},this.opts),new bt(this.uri(),x)}doWrite(x,j){const ye=this.request({method:"POST",data:x});ye.on("success",j),ye.on("error",(Ct,It)=>{this.onError("xhr post error",Ct,It)})}doPoll(){const x=this.request();x.on("data",this.onData.bind(this)),x.on("error",(j,ye)=>{this.onError("xhr poll error",j,ye)}),this.pollXhr=x}}},$n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,bn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Bn(Z){const x=Z,j=Z.indexOf("["),ye=Z.indexOf("]");-1!=j&&-1!=ye&&(Z=Z.substring(0,j)+Z.substring(j,ye).replace(/:/g,";")+Z.substring(ye,Z.length));let Ct=$n.exec(Z||""),It={},_n=14;for(;_n--;)It[bn[_n]]=Ct[_n]||"";return-1!=j&&-1!=ye&&(It.source=x,It.host=It.host.substring(1,It.host.length-1).replace(/;/g,":"),It.authority=It.authority.replace("[","").replace("]","").replace(/;/g,":"),It.ipv6uri=!0),It.pathNames=function yr(Z,x){const j=/\/{2,9}/g,ye=x.replace(j,"/").split("/");return("/"==x.slice(0,1)||0===x.length)&&ye.splice(0,1),"/"==x.slice(-1)&&ye.splice(ye.length-1,1),ye}(0,It.path),It.queryKey=function _r(Z,x){const j={};return x.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(ye,Ct,It){Ct&&(j[Ct]=It)}),j}(0,It.query),It}class pr extends me{constructor(x,j={}){super(),x&&"object"==typeof x&&(j=x,x=null),x?(x=Bn(x),j.hostname=x.host,j.secure="https"===x.protocol||"wss"===x.protocol,j.port=x.port,x.query&&(j.query=x.query)):j.host&&(j.hostname=Bn(j.host).host),J(this,j),this.secure=null!=j.secure?j.secure:"undefined"!=typeof location&&"https:"===location.protocol,j.hostname&&!j.port&&(j.port=this.secure?"443":"80"),this.hostname=j.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=j.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=j.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},j),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function tr(Z){let x={},j=Z.split("&");for(let ye=0,Ct=j.length;ye<Ct;ye++){let It=j[ye].split("=");x[decodeURIComponent(It[0])]=decodeURIComponent(It[1])}return x}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(x){const j=Object.assign({},this.opts.query);j.EIO=4,j.transport=x,this.id&&(j.sid=this.id);const ye=Object.assign({},this.opts.transportOptions[x],this.opts,{query:j,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new En[x](ye)}open(){let x;if(this.opts.rememberUpgrade&&pr.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))x="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);x=this.transports[0]}this.readyState="opening";try{x=this.createTransport(x)}catch(j){return this.transports.shift(),void this.open()}x.open(),this.setTransport(x)}setTransport(x){this.transport&&this.transport.removeAllListeners(),this.transport=x,x.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",j=>this.onClose("transport close",j))}probe(x){let j=this.createTransport(x),ye=!1;pr.priorWebsocketSuccess=!1;const Ct=()=>{ye||(j.send([{type:"ping",data:"probe"}]),j.once("packet",Lr=>{if(!ye)if("pong"===Lr.type&&"probe"===Lr.data){if(this.upgrading=!0,this.emitReserved("upgrading",j),!j)return;pr.priorWebsocketSuccess="websocket"===j.name,this.transport.pause(()=>{ye||"closed"!==this.readyState&&(Rr(),this.setTransport(j),j.send([{type:"upgrade"}]),this.emitReserved("upgrade",j),j=null,this.upgrading=!1,this.flush())})}else{const jr=new Error("probe error");jr.transport=j.name,this.emitReserved("upgradeError",jr)}}))};function It(){ye||(ye=!0,Rr(),j.close(),j=null)}const _n=Lr=>{const jr=new Error("probe error: "+Lr);jr.transport=j.name,It(),this.emitReserved("upgradeError",jr)};function Jn(){_n("transport closed")}function cr(){_n("socket closed")}function Nr(Lr){j&&Lr.name!==j.name&&It()}const Rr=()=>{j.removeListener("open",Ct),j.removeListener("error",_n),j.removeListener("close",Jn),this.off("close",cr),this.off("upgrading",Nr)};j.once("open",Ct),j.once("error",_n),j.once("close",Jn),this.once("close",cr),this.once("upgrading",Nr),j.open()}onOpen(){if(this.readyState="open",pr.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let x=0;const j=this.upgrades.length;for(;x<j;x++)this.probe(this.upgrades[x])}}onPacket(x){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",x),this.emitReserved("heartbeat"),x.type){case"open":this.onHandshake(JSON.parse(x.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const j=new Error("server error");j.code=x.data,this.onError(j);break;case"message":this.emitReserved("data",x.data),this.emitReserved("message",x.data)}}onHandshake(x){this.emitReserved("handshake",x),this.id=x.sid,this.transport.query.sid=x.sid,this.upgrades=this.filterUpgrades(x.upgrades),this.pingInterval=x.pingInterval,this.pingTimeout=x.pingTimeout,this.maxPayload=x.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const x=this.getWritablePackets();this.transport.send(x),this.prevBufferLen=x.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let j=1;for(let ye=0;ye<this.writeBuffer.length;ye++){const Ct=this.writeBuffer[ye].data;if(Ct&&(j+="string"==typeof(Z=Ct)?function Ae(Z){let x=0,j=0;for(let ye=0,Ct=Z.length;ye<Ct;ye++)x=Z.charCodeAt(ye),x<128?j+=1:x<2048?j+=2:x<55296||x>=57344?j+=3:(ye++,j+=4);return j}(Z):Math.ceil(1.33*(Z.byteLength||Z.size))),ye>0&&j>this.maxPayload)return this.writeBuffer.slice(0,ye);j+=2}var Z;return this.writeBuffer}write(x,j,ye){return this.sendPacket("message",x,j,ye),this}send(x,j,ye){return this.sendPacket("message",x,j,ye),this}sendPacket(x,j,ye,Ct){if("function"==typeof j&&(Ct=j,j=void 0),"function"==typeof ye&&(Ct=ye,ye=null),"closing"===this.readyState||"closed"===this.readyState)return;(ye=ye||{}).compress=!1!==ye.compress;const It={type:x,data:j,options:ye};this.emitReserved("packetCreate",It),this.writeBuffer.push(It),Ct&&this.once("flush",Ct),this.flush()}close(){const x=()=>{this.onClose("forced close"),this.transport.close()},j=()=>{this.off("upgrade",j),this.off("upgradeError",j),x()},ye=()=>{this.once("upgrade",j),this.once("upgradeError",j)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?ye():x()}):this.upgrading?ye():x()),this}onError(x){pr.priorWebsocketSuccess=!1,this.emitReserved("error",x),this.onClose("transport error",x)}onClose(x,j){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",x,j),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(x){const j=[];let ye=0;const Ct=x.length;for(;ye<Ct;ye++)~this.transports.indexOf(x[ye])&&j.push(x[ye]);return j}}pr.protocol=4;pr.protocol;const sr="function"==typeof ArrayBuffer,gr=Object.prototype.toString,vr="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===gr.call(Blob),Un="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===gr.call(File);function In(Z){return sr&&(Z instanceof ArrayBuffer||(Z=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(Z):Z.buffer instanceof ArrayBuffer)(Z))||vr&&Z instanceof Blob||Un&&Z instanceof File}function Wt(Z,x){if(!Z||"object"!=typeof Z)return!1;if(Array.isArray(Z)){for(let j=0,ye=Z.length;j<ye;j++)if(Wt(Z[j]))return!0;return!1}if(In(Z))return!0;if(Z.toJSON&&"function"==typeof Z.toJSON&&1===arguments.length)return Wt(Z.toJSON(),!0);for(const j in Z)if(Object.prototype.hasOwnProperty.call(Z,j)&&Wt(Z[j]))return!0;return!1}function Tn(Z){const x=[],j=Z.data,ye=Z;return ye.data=Rn(j,x),ye.attachments=x.length,{packet:ye,buffers:x}}function Rn(Z,x){if(!Z)return Z;if(In(Z)){const j={_placeholder:!0,num:x.length};return x.push(Z),j}if(Array.isArray(Z)){const j=new Array(Z.length);for(let ye=0;ye<Z.length;ye++)j[ye]=Rn(Z[ye],x);return j}if("object"==typeof Z&&!(Z instanceof Date)){const j={};for(const ye in Z)Object.prototype.hasOwnProperty.call(Z,ye)&&(j[ye]=Rn(Z[ye],x));return j}return Z}function Kn(Z,x){return Z.data=lr(Z.data,x),Z.attachments=void 0,Z}function lr(Z,x){if(!Z)return Z;if(Z&&!0===Z._placeholder){if("number"==typeof Z.num&&Z.num>=0&&Z.num<x.length)return x[Z.num];throw new Error("illegal attachments")}if(Array.isArray(Z))for(let j=0;j<Z.length;j++)Z[j]=lr(Z[j],x);else if("object"==typeof Z)for(const j in Z)Object.prototype.hasOwnProperty.call(Z,j)&&(Z[j]=lr(Z[j],x));return Z}const Xe=5;var Te,Z;(Z=Te||(Te={}))[Z.CONNECT=0]="CONNECT",Z[Z.DISCONNECT=1]="DISCONNECT",Z[Z.EVENT=2]="EVENT",Z[Z.ACK=3]="ACK",Z[Z.CONNECT_ERROR=4]="CONNECT_ERROR",Z[Z.BINARY_EVENT=5]="BINARY_EVENT",Z[Z.BINARY_ACK=6]="BINARY_ACK";class tt{constructor(x){this.replacer=x}encode(x){return x.type!==Te.EVENT&&x.type!==Te.ACK||!Wt(x)?[this.encodeAsString(x)]:(x.type=x.type===Te.EVENT?Te.BINARY_EVENT:Te.BINARY_ACK,this.encodeAsBinary(x))}encodeAsString(x){let j=""+x.type;return(x.type===Te.BINARY_EVENT||x.type===Te.BINARY_ACK)&&(j+=x.attachments+"-"),x.nsp&&"/"!==x.nsp&&(j+=x.nsp+","),null!=x.id&&(j+=x.id),null!=x.data&&(j+=JSON.stringify(x.data,this.replacer)),j}encodeAsBinary(x){const j=Tn(x),ye=this.encodeAsString(j.packet),Ct=j.buffers;return Ct.unshift(ye),Ct}}class Ue extends me{constructor(x){super(),this.reviver=x}add(x){let j;if("string"==typeof x){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");j=this.decodeString(x),j.type===Te.BINARY_EVENT||j.type===Te.BINARY_ACK?(this.reconstructor=new Y(j),0===j.attachments&&super.emitReserved("decoded",j)):super.emitReserved("decoded",j)}else{if(!In(x)&&!x.base64)throw new Error("Unknown type: "+x);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");j=this.reconstructor.takeBinaryData(x),j&&(this.reconstructor=null,super.emitReserved("decoded",j))}}decodeString(x){let j=0;const ye={type:Number(x.charAt(0))};if(void 0===Te[ye.type])throw new Error("unknown packet type "+ye.type);if(ye.type===Te.BINARY_EVENT||ye.type===Te.BINARY_ACK){const It=j+1;for(;"-"!==x.charAt(++j)&&j!=x.length;);const _n=x.substring(It,j);if(_n!=Number(_n)||"-"!==x.charAt(j))throw new Error("Illegal attachments");ye.attachments=Number(_n)}if("/"===x.charAt(j+1)){const It=j+1;for(;++j&&","!==x.charAt(j)&&j!==x.length;);ye.nsp=x.substring(It,j)}else ye.nsp="/";const Ct=x.charAt(j+1);if(""!==Ct&&Number(Ct)==Ct){const It=j+1;for(;++j;){const _n=x.charAt(j);if(null==_n||Number(_n)!=_n){--j;break}if(j===x.length)break}ye.id=Number(x.substring(It,j+1))}if(x.charAt(++j)){const It=this.tryParse(x.substr(j));if(!Ue.isPayloadValid(ye.type,It))throw new Error("invalid payload");ye.data=It}return ye}tryParse(x){try{return JSON.parse(x,this.reviver)}catch(j){return!1}}static isPayloadValid(x,j){switch(x){case Te.CONNECT:return"object"==typeof j;case Te.DISCONNECT:return void 0===j;case Te.CONNECT_ERROR:return"string"==typeof j||"object"==typeof j;case Te.EVENT:case Te.BINARY_EVENT:return Array.isArray(j)&&j.length>0;case Te.ACK:case Te.BINARY_ACK:return Array.isArray(j)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Y{constructor(x){this.packet=x,this.buffers=[],this.reconPack=x}takeBinaryData(x){if(this.buffers.push(x),this.buffers.length===this.reconPack.attachments){const j=Kn(this.reconPack,this.buffers);return this.finishedReconstruction(),j}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function je(Z,x,j){return Z.on(x,j),function(){Z.off(x,j)}}const Nt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class on extends me{constructor(x,j,ye){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=x,this.nsp=j,ye&&ye.auth&&(this.auth=ye.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const x=this.io;this.subs=[je(x,"open",this.onopen.bind(this)),je(x,"packet",this.onpacket.bind(this)),je(x,"error",this.onerror.bind(this)),je(x,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...x){return x.unshift("message"),this.emit.apply(this,x),this}emit(x,...j){if(Nt.hasOwnProperty(x))throw new Error('"'+x.toString()+'" is a reserved event name');j.unshift(x);const ye={type:Te.EVENT,data:j,options:{}};if(ye.options.compress=!1!==this.flags.compress,"function"==typeof j[j.length-1]){const _n=this.ids++,Jn=j.pop();this._registerAckCallback(_n,Jn),ye.id=_n}const Ct=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!Ct||!this.connected)||(this.connected?(this.notifyOutgoingListeners(ye),this.packet(ye)):this.sendBuffer.push(ye)),this.flags={},this}_registerAckCallback(x,j){const ye=this.flags.timeout;if(void 0===ye)return void(this.acks[x]=j);const Ct=this.io.setTimeoutFn(()=>{delete this.acks[x];for(let It=0;It<this.sendBuffer.length;It++)this.sendBuffer[It].id===x&&this.sendBuffer.splice(It,1);j.call(this,new Error("operation has timed out"))},ye);this.acks[x]=(...It)=>{this.io.clearTimeoutFn(Ct),j.apply(this,[null,...It])}}packet(x){x.nsp=this.nsp,this.io._packet(x)}onopen(){"function"==typeof this.auth?this.auth(x=>{this.packet({type:Te.CONNECT,data:x})}):this.packet({type:Te.CONNECT,data:this.auth})}onerror(x){this.connected||this.emitReserved("connect_error",x)}onclose(x,j){this.connected=!1,delete this.id,this.emitReserved("disconnect",x,j)}onpacket(x){if(x.nsp===this.nsp)switch(x.type){case Te.CONNECT:if(x.data&&x.data.sid){const Ct=x.data.sid;this.onconnect(Ct)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Te.EVENT:case Te.BINARY_EVENT:this.onevent(x);break;case Te.ACK:case Te.BINARY_ACK:this.onack(x);break;case Te.DISCONNECT:this.ondisconnect();break;case Te.CONNECT_ERROR:this.destroy();const ye=new Error(x.data.message);ye.data=x.data.data,this.emitReserved("connect_error",ye)}}onevent(x){const j=x.data||[];null!=x.id&&j.push(this.ack(x.id)),this.connected?this.emitEvent(j):this.receiveBuffer.push(Object.freeze(j))}emitEvent(x){if(this._anyListeners&&this._anyListeners.length){const j=this._anyListeners.slice();for(const ye of j)ye.apply(this,x)}super.emit.apply(this,x)}ack(x){const j=this;let ye=!1;return function(...Ct){ye||(ye=!0,j.packet({type:Te.ACK,id:x,data:Ct}))}}onack(x){const j=this.acks[x.id];"function"==typeof j&&(j.apply(this,x.data),delete this.acks[x.id])}onconnect(x){this.id=x,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(x=>this.emitEvent(x)),this.receiveBuffer=[],this.sendBuffer.forEach(x=>{this.notifyOutgoingListeners(x),this.packet(x)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(x=>x()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Te.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(x){return this.flags.compress=x,this}get volatile(){return this.flags.volatile=!0,this}timeout(x){return this.flags.timeout=x,this}onAny(x){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(x),this}prependAny(x){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(x),this}offAny(x){if(!this._anyListeners)return this;if(x){const j=this._anyListeners;for(let ye=0;ye<j.length;ye++)if(x===j[ye])return j.splice(ye,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(x){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(x),this}prependAnyOutgoing(x){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(x),this}offAnyOutgoing(x){if(!this._anyOutgoingListeners)return this;if(x){const j=this._anyOutgoingListeners;for(let ye=0;ye<j.length;ye++)if(x===j[ye])return j.splice(ye,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(x){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const j=this._anyOutgoingListeners.slice();for(const ye of j)ye.apply(this,x.data)}}}function pn(Z){Z=Z||{},this.ms=Z.min||100,this.max=Z.max||1e4,this.factor=Z.factor||2,this.jitter=Z.jitter>0&&Z.jitter<=1?Z.jitter:0,this.attempts=0}pn.prototype.duration=function(){var Z=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var x=Math.random(),j=Math.floor(x*this.jitter*Z);Z=0==(1&Math.floor(10*x))?Z-j:Z+j}return 0|Math.min(Z,this.max)},pn.prototype.reset=function(){this.attempts=0},pn.prototype.setMin=function(Z){this.ms=Z},pn.prototype.setMax=function(Z){this.max=Z},pn.prototype.setJitter=function(Z){this.jitter=Z};class Hn extends me{constructor(x,j){var ye;super(),this.nsps={},this.subs=[],x&&"object"==typeof x&&(j=x,x=void 0),(j=j||{}).path=j.path||"/socket.io",this.opts=j,J(this,j),this.reconnection(!1!==j.reconnection),this.reconnectionAttempts(j.reconnectionAttempts||1/0),this.reconnectionDelay(j.reconnectionDelay||1e3),this.reconnectionDelayMax(j.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(ye=j.randomizationFactor)&&void 0!==ye?ye:.5),this.backoff=new pn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==j.timeout?2e4:j.timeout),this._readyState="closed",this.uri=x;const Ct=j.parser||c;this.encoder=new Ct.Encoder,this.decoder=new Ct.Decoder,this._autoConnect=!1!==j.autoConnect,this._autoConnect&&this.open()}reconnection(x){return arguments.length?(this._reconnection=!!x,this):this._reconnection}reconnectionAttempts(x){return void 0===x?this._reconnectionAttempts:(this._reconnectionAttempts=x,this)}reconnectionDelay(x){var j;return void 0===x?this._reconnectionDelay:(this._reconnectionDelay=x,null===(j=this.backoff)||void 0===j||j.setMin(x),this)}randomizationFactor(x){var j;return void 0===x?this._randomizationFactor:(this._randomizationFactor=x,null===(j=this.backoff)||void 0===j||j.setJitter(x),this)}reconnectionDelayMax(x){var j;return void 0===x?this._reconnectionDelayMax:(this._reconnectionDelayMax=x,null===(j=this.backoff)||void 0===j||j.setMax(x),this)}timeout(x){return arguments.length?(this._timeout=x,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(x){if(~this._readyState.indexOf("open"))return this;this.engine=new pr(this.uri,this.opts);const j=this.engine,ye=this;this._readyState="opening",this.skipReconnect=!1;const Ct=je(j,"open",function(){ye.onopen(),x&&x()}),It=je(j,"error",_n=>{ye.cleanup(),ye._readyState="closed",this.emitReserved("error",_n),x?x(_n):ye.maybeReconnectOnOpen()});if(!1!==this._timeout){const _n=this._timeout;0===_n&&Ct();const Jn=this.setTimeoutFn(()=>{Ct(),j.close(),j.emit("error",new Error("timeout"))},_n);this.opts.autoUnref&&Jn.unref(),this.subs.push(function(){clearTimeout(Jn)})}return this.subs.push(Ct),this.subs.push(It),this}connect(x){return this.open(x)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const x=this.engine;this.subs.push(je(x,"ping",this.onping.bind(this)),je(x,"data",this.ondata.bind(this)),je(x,"error",this.onerror.bind(this)),je(x,"close",this.onclose.bind(this)),je(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(x){try{this.decoder.add(x)}catch(j){this.onclose("parse error",j)}}ondecoded(x){Et(()=>{this.emitReserved("packet",x)},this.setTimeoutFn)}onerror(x){this.emitReserved("error",x)}socket(x,j){let ye=this.nsps[x];return ye||(ye=new on(this,x,j),this.nsps[x]=ye),ye}_destroy(x){const j=Object.keys(this.nsps);for(const ye of j)if(this.nsps[ye].active)return;this._close()}_packet(x){const j=this.encoder.encode(x);for(let ye=0;ye<j.length;ye++)this.engine.write(j[ye],x.options)}cleanup(){this.subs.forEach(x=>x()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(x,j){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",x,j),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const x=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const j=this.backoff.duration();this._reconnecting=!0;const ye=this.setTimeoutFn(()=>{x.skipReconnect||(this.emitReserved("reconnect_attempt",x.backoff.attempts),!x.skipReconnect&&x.open(Ct=>{Ct?(x._reconnecting=!1,x.reconnect(),this.emitReserved("reconnect_error",Ct)):x.onreconnect()}))},j);this.opts.autoUnref&&ye.unref(),this.subs.push(function(){clearTimeout(ye)})}}onreconnect(){const x=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",x)}}const Ot={};function X(Z,x){"object"==typeof Z&&(x=Z,Z=void 0);const j=function Mr(Z,x="",j){let ye=Z;j=j||"undefined"!=typeof location&&location,null==Z&&(Z=j.protocol+"//"+j.host),"string"==typeof Z&&("/"===Z.charAt(0)&&(Z="/"===Z.charAt(1)?j.protocol+Z:j.host+Z),/^(https?|wss?):\/\//.test(Z)||(Z=void 0!==j?j.protocol+"//"+Z:"https://"+Z),ye=Bn(Z)),ye.port||(/^(http|ws)$/.test(ye.protocol)?ye.port="80":/^(http|ws)s$/.test(ye.protocol)&&(ye.port="443")),ye.path=ye.path||"/";const It=-1!==ye.host.indexOf(":")?"["+ye.host+"]":ye.host;return ye.id=ye.protocol+"://"+It+":"+ye.port+x,ye.href=ye.protocol+"://"+It+(j&&j.port===ye.port?"":":"+ye.port),ye}(Z,(x=x||{}).path||"/socket.io"),ye=j.source,Ct=j.id,It=j.path,_n=Ot[Ct]&&It in Ot[Ct].nsps;let cr;return x.forceNew||x["force new connection"]||!1===x.multiplex||_n?cr=new Hn(ye,x):(Ot[Ct]||(Ot[Ct]=new Hn(ye,x)),cr=Ot[Ct]),j.query&&!x.query&&(x.query=j.queryKey),cr.socket(j.path,x)}Object.assign(X,{Manager:Hn,Socket:on,io:X,connect:X});var Ut,He=R(4576),At=R(6549);!function(Z){Z[Z.Person=0]="Person",Z[Z.Organization=1]="Organization"}(Ut||(Ut={}));const Sn=(0,At.fo)("Contacts",{web:()=>R.e(422).then(R.bind(R,422)).then(Z=>new Z.ContactsPluginWeb)});var Qe=R(2340),Je=R(5191),zt=R(3184),un=R(5708),xn=R(7556);class ct{constructor(x,j){this.platform=x,this.authService=j,this.day=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.month=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}connect(){this.socket$||(this.socket$=X(Qe.N.server,{transports:["websocket","polling","flashsocket"]}),this.startListeningForIncomingMessages(),this.getNotifications())}startListeningForIncomingMessages(){this.socket$.on("getMessage",x=>{if(x){const j=x.message,ye=x.phone,Ct=this.authService.contactList.accessibleContacts.viaNumber[ye];let It=Object.create({});if(this.authService.form.conversations[ye])It=this.authService.form.conversations[ye].chats;else{const Nr=Object.assign(Object.assign({chats:[],lastMessage:"",lastMessageTime:""},Ct),{unRead:0});this.authService.form.conversations[ye]=Nr,It=[]}console.log("message received + "+x);let _n=!1,Jn=new Date,cr=this.day[Jn.getDay()]+" "+Jn.getDate()+" "+this.month[Jn.getMonth()]+" "+Jn.getFullYear();for(let Nr of It)if(Nr.date===cr){Nr.chats.push({message:j,date:Jn,type:"user"}),_n=!0;break}_n||It.push({date:cr,chats:[{message:j,date:Jn,type:"user"}]}),this.authService.form.conversations[ye].lastMessage=j,this.authService.form.conversations[ye].lastMessageTime=cr,this.authService.form.conversations[ye].unRead=this.authService.form.conversations[ye].unRead+1,this.authService.formData$.next(this.authService.form)}})}sendMessage(x,j){return(0,B.mG)(this,void 0,void 0,function*(){return new Promise((ye,Ct)=>{if(this.authService.form.conversations[x]){const _n=this.authService.form.conversations[x].chats;let Jn=!1,cr=new Date,Nr=this.day[cr.getDay()]+" "+cr.getDate()+" "+this.month[cr.getMonth()]+" "+cr.getFullYear();for(let Rr of _n)if(Rr.date===Nr){Rr.chats.push({message:j,date:cr,type:"me"}),Jn=!0;break}Jn||_n.push({date:Nr,chats:[{message:j,date:cr,type:"me"}]}),this.authService.form.conversations[x].chats=_n,this.authService.form.conversations[x].lastMessage=j,this.authService.form.conversations[x].lastMessageTime=Nr,this.authService.form.conversations[x].unRead=this.authService.form.conversations[x].unRead+1}ye("");let It=new He.Y("subscribe","sendMessage",[x,this.authService.form.phone,this.authService.form.name,this.authService.form.conversations[x]]);this.socket$.emit("subscribe",It,_n=>{this.authService.form.conversations[x].unRead=0;let Jn=this.authService.form.conversations[x];delete this.authService.form.conversations[x];let cr={};cr[x]=Jn,this.authService.form.conversations=Object.assign(Object.assign({},cr),this.authService.form.conversations),this.authService.formData$.next(this.authService.form)})})})}userOnline(){const x=new He.Y("subscribe","online",this.authService.form.phone);this.socket$.emit("subscribe",x,j=>{j.result})}userOffline(){const x=new He.Y("subscribe","offline",this.authService.form.phone);this.socket$.emit("subscribe",x,j=>{j.result&&(Je.u.set({key:"form",value:JSON.stringify(this.authService.form)}),console.log("user is disconnected :- ",this.authService.form))})}userInactive(){const x=new He.Y("subscribe","inactive",this.authService.form.phone);this.socket$.emit("subscribe",x,j=>{j.result&&(Je.u.set({key:"form",value:JSON.stringify(this.authService.form)}),console.log("user is inactive :- ",this.authService.form))})}getNotifications(){const x=new He.Y("subscribe","getNotifications",this.authService.form.phone);this.socket$.emit("subscribe",x,j=>{j.forEach(ye=>{let Ct=ye.conversation;Ct.chats.forEach(_n=>{_n.chats.forEach(Jn=>{Jn.type="user"})});const It=this.authService.contactList.accessibleContacts.viaNumber[ye.from];if(this.authService.form.conversations[ye.from]){const _n=this.authService.form.conversations[ye.from].chats;let Jn=!1;for(let cr=0;cr<_n.length;cr++)if(_n[cr].date===Ct.chats.date){_n[cr].chats.push(Ct.chats.chats),Jn=!0;break}Jn||_n.push(Ct.chats),this.authService.form.conversations[ye.from].chats=_n}else Ct.status=It.status,Ct.contactId=It.contactId,Ct.displayName=It.displayName,Ct.phoneNumbers=It.phoneNumbers,Ct.emails=It.emails,Ct.photoThumbnail=It.photoThumbnail,Ct.organizationName=It.organizationName,Ct.organizationRole=It.organizationRole,Ct.birthday=It.birthday,this.authService.form.conversations[ye.from]=Ct}),this.authService.formData$.next(this.authService.form),console.log("Notifications fetched and saved to form")})}getContacts(){this.platform.is("hybrid")&&Sn.getContacts().then(x=>{console.log("Phone Contacts read successfully ",x.contacts),this.authService.contactList.allContacts=x.contacts;let j=new He.Y("subscribe","accessibleContacts",x.contacts);this.socket$.emit("subscribe",j,ye=>{this.authService.contactList.accessibleContacts=Object.create({}),this.authService.contactList.accessibleContacts.viaName=Object.create({}),this.authService.contactList.accessibleContacts.viaNumber=Object.create({}),console.log("Accessible Contacts ",ye.result),ye.result.forEach(Ct=>{this.authService.contactList.allContacts.forEach(It=>{for(let _n=0;_n<It.phoneNumbers.length;_n++){let Jn=It.phoneNumbers[_n].number.length>10?It.phoneNumbers[_n].number.slice(-10).trim():It.phoneNumbers[_n].number.trim();if(Jn===Ct.phone){let cr={};cr.status=Ct.status,It.photoThumbnail=Ct.profilePicture?Ct.profilePicture:"default",cr=Object.assign(Object.assign({},It),cr),this.authService.contactList.accessibleContacts.viaName[It.displayName]=cr,this.authService.contactList.accessibleContacts.viaNumber[Jn]=cr}}})}),this.authService.formData$.next(this.authService.form)})})}}ct.\u0275fac=function(x){return new(x||ct)(zt.LFG(un.t4),zt.LFG(xn.$))},ct.\u0275prov=zt.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"})},2340:(ln,at,R)=>{"use strict";R.d(at,{N:()=>c});const c={production:!0,server:"https://node-ionic-chat-server.onrender.com",firebaseConfig:{apiKey:"AIzaSyDgjcuF2_6smK5QUfPGuuqElcxfhlM778A",authDomain:"ionic-a0bf2.firebaseapp.com",projectId:"ionic-a0bf2",storageBucket:"ionic-a0bf2.appspot.com",messagingSenderId:"739112703448",appId:"1:739112703448:web:607c3a29ac75fc511dcead",measurementId:"G-NSRNH2VYR7"}}},5478:(ln,at,R)=>{"use strict";var c=R(318),B=R(3184),$=R(993),Le=R(5708),Fe=R(4929);var le=R(833),Ce=R(3280),$e={error:"cordova_not_available"},ue={error:"plugin_not_installed"};function _e(u){if("undefined"!=typeof window&&window.angular){var l=window.document,f=window.angular.element(l.querySelector("[ng-app]")||l.body).injector();if(f)return f.get("$q")(function(A,F){u(A,F)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(A,F){u(A,F)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function xe(u,i,l,f){void 0===f&&(f={});var y,A,F=_e(function(ne,he){y=f.destruct?Ee(u,i,l,f,function(){for(var We=[],wt=0;wt<arguments.length;wt++)We[wt]=arguments[wt];return ne(We)},function(){for(var We=[],wt=0;wt<arguments.length;wt++)We[wt]=arguments[wt];return he(We)}):Ee(u,i,l,f,ne,he),A=he});return y&&y.error&&(F.catch(function(){}),"function"==typeof A&&A(y.error)),F}function de(u,i,l,f){return void 0===f&&(f={}),_e(function(y,A){var F=Ee(u,i,l,f);F?F.error?A(F.error):F.then&&F.then(y).catch(A):A({error:"unexpected_error"})})}function Be(u,i,l,f){return void 0===f&&(f={}),new le.y(function(y){var A;return A=f.destruct?Ee(u,i,l,f,function(){for(var F=[],ne=0;ne<arguments.length;ne++)F[ne]=arguments[ne];return y.next(F)},function(){for(var F=[],ne=0;ne<arguments.length;ne++)F[ne]=arguments[ne];return y.error(F)}):Ee(u,i,l,f,y.next.bind(y),y.error.bind(y)),A&&A.error&&(y.error(A.error),y.complete()),function(){try{if(f.clearFunction)return f.clearWithArgs?Ee(u,f.clearFunction,l,f,y.next.bind(y),y.error.bind(y)):Ee(u,f.clearFunction,[])}catch(F){console.warn("Unable to clear the previous observable watch for",u.constructor.getPluginName(),i),console.warn(F)}}})}function Ge(u,i){return i="undefined"!=typeof window&&i?yt(window,i):i||("undefined"!=typeof window?window:{}),(0,Ce.R)(i,u)}function dt(u,i,l){var f,y,A;return"string"==typeof u?f=u:(f=u.constructor.getPluginRef(),l=u.constructor.getPluginName(),A=u.constructor.getPluginInstallName()),!(!(y=mt(f))||i&&void 0===y[i])||("undefined"!=typeof window&&window.cordova?(function et(u,i,l){console.warn(l?"Native: tried calling "+u+"."+l+", but the "+u+" plugin is not installed.":"Native: tried accessing the "+u+" plugin but it's not installed."),i&&console.warn("Install the "+u+" plugin: 'ionic cordova plugin add "+i+"'")}(l,A,i),ue):(function nt(u,i){"undefined"==typeof process&&console.warn(i?"Native: tried calling "+u+"."+i+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+u+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(l,i),$e))}function be(u,i,l,f){if(void 0===i&&(i={}),i.sync)return u;if("reverse"===i.callbackOrder)u.unshift(f),u.unshift(l);else if("node"===i.callbackStyle)u.push(function(ne,he){ne?f(ne):l(he)});else if("object"===i.callbackStyle&&i.successName&&i.errorName){var y={};y[i.successName]=l,y[i.errorName]=f,u.push(y)}else if(void 0!==i.successIndex||void 0!==i.errorIndex){var A=function(){i.successIndex>u.length?u[i.successIndex]=l:u.splice(i.successIndex,0,l)},F=function(){i.errorIndex>u.length?u[i.errorIndex]=f:u.splice(i.errorIndex,0,f)};i.successIndex>i.errorIndex?(F(),A()):(A(),F())}else u.push(l),u.push(f);return u}function Ee(u,i,l,f,y,A){void 0===f&&(f={}),l=be(l,f,y,A);var F=dt(u,i);if(!0===F){var ne=mt(u.constructor.getPluginRef());return ne[i].apply(ne,l)}return F}function mt(u){return"undefined"!=typeof window?yt(window,u):null}function yt(u,i){for(var l=i.split("."),f=u,y=0;y<l.length;y++){if(!f)return null;f=f[l[y]]}return f}var ee=function(){function u(){}return u.installed=function(){return!0===dt(this.pluginRef)},u.getPlugin=function(){return"undefined"!=typeof window?function st(u,i){for(var l=i.split("."),f=u,y=0;y<l.length;y++){if(!f)return null;f=f[l[y]]}return f}(window,this.pluginRef):null},u.getPluginName=function(){return this.pluginName},u.getPluginRef=function(){return this.pluginRef},u.getPluginInstallName=function(){return this.plugin},u.getSupportedPlatforms=function(){return this.platforms},u.pluginName="",u.pluginRef="",u.plugin="",u.repo="",u.platforms=[],u.install="",u}();function oe(u,i,l,f){return function(u,i,l){return void 0===l&&(l={}),function(){for(var f=[],y=0;y<arguments.length;y++)f[y]=arguments[y];return l.sync?Ee(u,i,f,l):l.observable?Be(u,i,f,l):l.eventObservable&&l.event?Ge(l.event,l.element):l.otherPromise?de(u,i,f,l):xe(u,i,f,l)}}(u,i,l).apply(this,f)}!function Ie(){if("undefined"==typeof process){var u="undefined"!=typeof window?window:{},l=Date.now(),f=!1;u.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-l)+" ms"),f=!0}),setTimeout(function(){!f&&u.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var qe=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return(0,Fe.ZT)(i,u),i.prototype.show=function(){return oe(this,"show",{sync:!0},arguments)},i.prototype.hide=function(){return oe(this,"hide",{sync:!0},arguments)},i.pluginName="SplashScreen",i.plugin="cordova-plugin-splashscreen",i.pluginRef="navigator.splashscreen",i.repo="https://github.com/apache/cordova-plugin-splashscreen",i.platforms=["Amazon Fire OS","Android","iOS","Windows"],i.\u0275fac=function(){var l;return function(y){return(l||(l=B.n5z(i)))(y||i)}}(),i.\u0275prov=B.Yz7({token:i,factory:function(l){return i.\u0275fac(l)}}),i}(ee),Se=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return(0,Fe.ZT)(i,u),i.prototype.overlaysWebView=function(l){return oe(this,"overlaysWebView",{sync:!0},arguments)},i.prototype.styleDefault=function(){return oe(this,"styleDefault",{sync:!0},arguments)},i.prototype.styleLightContent=function(){return oe(this,"styleLightContent",{sync:!0},arguments)},i.prototype.styleBlackTranslucent=function(){return oe(this,"styleBlackTranslucent",{sync:!0},arguments)},i.prototype.styleBlackOpaque=function(){return oe(this,"styleBlackOpaque",{sync:!0},arguments)},i.prototype.backgroundColorByName=function(l){return oe(this,"backgroundColorByName",{sync:!0},arguments)},i.prototype.backgroundColorByHexString=function(l){return oe(this,"backgroundColorByHexString",{sync:!0},arguments)},i.prototype.hide=function(){return oe(this,"hide",{sync:!0},arguments)},i.prototype.show=function(){return oe(this,"show",{sync:!0},arguments)},Object.defineProperty(i.prototype,"isVisible",{get:function(){return function Ae(u,i){return!0===dt(u,i)?mt(u.constructor.getPluginRef())[i]:null}(this,"isVisible")},set:function(l){!function Ve(u,i,l){!0===dt(u,i)&&(mt(u.constructor.getPluginRef())[i]=l)}(this,"isVisible",l)},enumerable:!1,configurable:!0}),i.pluginName="StatusBar",i.plugin="cordova-plugin-statusbar",i.pluginRef="StatusBar",i.repo="https://github.com/apache/cordova-plugin-statusbar",i.platforms=["Android","iOS","Windows"],i.\u0275fac=function(){var l;return function(y){return(l||(l=B.n5z(i)))(y||i)}}(),i.\u0275prov=B.Yz7({token:i,factory:function(l){return i.\u0275fac(l)}}),i}(ee),Ye=R(1879),it=R(5873),lt=R(745),St=R(3609),Ht=R(1989),qt=R(635),an=R(2673),Fn=R(9337),ir=R(2513),tr=R(5003),jn=R(1670),Mn=R(8770),z=R(7748),Rt=R(4692);const Vt="firebasestorage.googleapis.com",hn="storageBucket";class cn extends z.ZR{constructor(i,l,f=0){super(nr(i),`Firebase Storage: ${l} (${nr(i)})`),this.status_=f,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cn.prototype)}get status(){return this.status_}set status(i){this.status_=i}_codeEquals(i){return nr(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function nr(u){return"storage/"+u}function Gn(){return new cn("unknown","An unknown error occurred, please check the error payload for server response.")}function Bn(){return new cn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function yr(){return new cn("canceled","User canceled the upload/download.")}function Mr(){return new cn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function vr(u){return new cn("invalid-argument",u)}function Un(){return new cn("app-deleted","The Firebase app was deleted.")}function In(u){return new cn("invalid-root-operation","The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wt(u,i){return new cn("invalid-format","String does not match format '"+u+"': "+i)}function Tn(u){throw new cn("internal-error","Internal error: "+u)}class Rn{constructor(i,l){this.bucket=i,this.path_=l}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,l){let f;try{f=Rn.makeFromUrl(i,l)}catch(y){return new Rn(i,"")}if(""===f.path)return f;throw function pr(u){return new cn("invalid-default-bucket","Invalid default bucket '"+u+"'.")}(i)}static makeFromUrl(i,l){let f=null;const y="([A-Za-z0-9.\\-_]+)";const ne=new RegExp("^gs://"+y+"(/(.*))?$","i");function We(Ks){Ks.path_=decodeURIComponent(Ks.path)}const Pt=l.replace(/[.]/g,"\\."),us=[{regex:ne,indices:{bucket:1,path:3},postModify:function A(Ks){"/"===Ks.path.charAt(Ks.path.length-1)&&(Ks.path_=Ks.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Pt}/v[A-Za-z0-9_]+/b/${y}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:We},{regex:new RegExp(`^https?://${l===Vt?"(?:storage.googleapis.com|storage.cloud.google.com)":l}/${y}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:We}];for(let Ks=0;Ks<us.length;Ks++){const co=us[Ks],Ta=co.regex.exec(i);if(Ta){const Rd=Ta[co.indices.bucket];let Ko=Ta[co.indices.path];Ko||(Ko=""),f=new Rn(Rd,Ko),co.postModify(f);break}}if(null==f)throw function _r(u){return new cn("invalid-url","Invalid URL '"+u+"'.")}(i);return f}}class Kn{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function Y(u){return"string"==typeof u||u instanceof String}function je(u){return Nt()&&u instanceof Blob}function Nt(){return"undefined"!=typeof Blob&&!(0,z.UG)()}function on(u,i,l,f){if(f<i)throw vr(`Invalid value for '${u}'. Expected ${i} or greater.`);if(f>l)throw vr(`Invalid value for '${u}'. Expected ${l} or less.`)}function pn(u,i,l){let f=i;return null==l&&(f=`https://${i}`),`${l}://${f}/v0${u}`}function Hn(u){const i=encodeURIComponent;let l="?";for(const f in u)if(u.hasOwnProperty(f)){l=l+(i(f)+"="+i(u[f]))+"&"}return l=l.slice(0,-1),l}var Ot,u;function X(u,i){const l=u>=500&&u<600,y=-1!==[408,429].indexOf(u),A=-1!==i.indexOf(u);return l||y||A}(u=Ot||(Ot={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT";class He{constructor(i,l,f,y,A,F,ne,he,We,wt,Pt,Gt=!0){this.url_=i,this.method_=l,this.headers_=f,this.body_=y,this.successCodes_=A,this.additionalRetryCodes_=F,this.callback_=ne,this.errorCallback_=he,this.timeout_=We,this.progressCallback_=wt,this.connectionFactory_=Pt,this.retry=Gt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Qn,dr)=>{this.resolve_=Qn,this.reject_=dr,this.start_()})}start_(){const l=(f,y)=>{const A=this.resolve_,F=this.reject_,ne=y.connection;if(y.wasSuccessCode)try{const he=this.callback_(ne,ne.getResponse());!function Te(u){return void 0!==u}(he)?A():A(he)}catch(he){F(he)}else if(null!==ne){const he=Gn();he.serverResponse=ne.getErrorText(),this.errorCallback_?F(this.errorCallback_(ne,he)):F(he)}else if(y.canceled){F(this.appDelete_?Un():yr())}else{F(Bn())}};this.canceled_?l(0,new At(!1,null,!0)):this.backoffId_=function lr(u,i,l){let f=1,y=null,A=null,F=!1,ne=0;function he(){return 2===ne}let We=!1;function wt(...Ei){We||(We=!0,i.apply(null,Ei))}function Pt(Ei){y=setTimeout(()=>{y=null,u(Qn,he())},Ei)}function Gt(){A&&clearTimeout(A)}function Qn(Ei,...Ls){if(We)return void Gt();if(Ei)return Gt(),void wt.call(null,Ei,...Ls);if(he()||F)return Gt(),void wt.call(null,Ei,...Ls);let us;f<64&&(f*=2),1===ne?(ne=2,us=0):us=1e3*(f+Math.random()),Pt(us)}let dr=!1;function hi(Ei){dr||(dr=!0,Gt(),!We&&(null!==y?(Ei||(ne=2),clearTimeout(y),Pt(0)):Ei||(ne=1)))}return Pt(0),A=setTimeout(()=>{F=!0,hi(!0)},l),hi}((f,y)=>{if(y)return void f(!1,new At(!1,null,!0));const A=this.connectionFactory_();this.pendingConnection_=A;const F=ne=>{const he=ne.loaded,We=ne.lengthComputable?ne.total:-1;null!==this.progressCallback_&&this.progressCallback_(he,We)};null!==this.progressCallback_&&A.addUploadProgressListener(F),A.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&A.removeUploadProgressListener(F),this.pendingConnection_=null;const ne=A.getErrorCode()===Ot.NO_ERROR,he=A.getStatus();if((!ne||X(he,this.additionalRetryCodes_))&&this.retry){const wt=A.getErrorCode()===Ot.ABORT;return void f(!1,new At(!1,null,wt))}const We=-1!==this.successCodes_.indexOf(he);f(!0,new At(We,A))})},l,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&function Xe(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class At{constructor(i,l,f){this.wasSuccessCode=i,this.connection=l,this.canceled=!!f}}function xn(...u){const i=function un(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==i){const l=new i;for(let f=0;f<u.length;f++)l.append(u[f]);return l.getBlob()}if(Nt())return new Blob(u);throw new cn("unsupported-environment","This browser doesn't seem to support creating Blobs")}function Z(u){if("undefined"==typeof atob)throw function gr(u){return new cn("unsupported-environment",`${u} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(u)}const x={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class j{constructor(i,l){this.data=i,this.contentType=l||null}}function ye(u,i){switch(u){case x.RAW:return new j(Ct(i));case x.BASE64:case x.BASE64URL:return new j(_n(u,i));case x.DATA_URL:return new j(function cr(u){const i=new Jn(u);return i.base64?_n(x.BASE64,i.rest):function It(u){let i;try{i=decodeURIComponent(u)}catch(l){throw Wt(x.DATA_URL,"Malformed data URL.")}return Ct(i)}(i.rest)}(i),function Nr(u){return new Jn(u).contentType}(i))}throw Gn()}function Ct(u){const i=[];for(let l=0;l<u.length;l++){let f=u.charCodeAt(l);if(f<=127)i.push(f);else if(f<=2047)i.push(192|f>>6,128|63&f);else if(55296==(64512&f))if(l<u.length-1&&56320==(64512&u.charCodeAt(l+1))){f=65536|(1023&f)<<10|1023&u.charCodeAt(++l),i.push(240|f>>18,128|f>>12&63,128|f>>6&63,128|63&f)}else i.push(239,191,189);else 56320==(64512&f)?i.push(239,191,189):i.push(224|f>>12,128|f>>6&63,128|63&f)}return new Uint8Array(i)}function _n(u,i){switch(u){case x.BASE64:{const y=-1!==i.indexOf("-"),A=-1!==i.indexOf("_");if(y||A)throw Wt(u,"Invalid character '"+(y?"-":"_")+"' found: is it base64url encoded?");break}case x.BASE64URL:{const y=-1!==i.indexOf("+"),A=-1!==i.indexOf("/");if(y||A)throw Wt(u,"Invalid character '"+(y?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let l;try{l=Z(i)}catch(y){throw y.message.includes("polyfill")?y:Wt(u,"Invalid character found")}const f=new Uint8Array(l.length);for(let y=0;y<l.length;y++)f[y]=l.charCodeAt(y);return f}class Jn{constructor(i){this.base64=!1,this.contentType=null;const l=i.match(/^data:([^,]+)?,/);if(null===l)throw Wt(x.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const f=l[1]||null;null!=f&&(this.base64=function Rr(u,i){return u.length>=i.length&&u.substring(u.length-i.length)===i}(f,";base64"),this.contentType=this.base64?f.substring(0,f.length-7):f),this.rest=i.substring(i.indexOf(",")+1)}}class Lr{constructor(i,l){let f=0,y="";je(i)?(this.data_=i,f=i.size,y=i.type):i instanceof ArrayBuffer?(l?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),f=this.data_.length):i instanceof Uint8Array&&(l?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),f=i.length),this.size_=f,this.type_=y}size(){return this.size_}type(){return this.type_}slice(i,l){if(je(this.data_)){const y=function ct(u,i,l){return u.webkitSlice?u.webkitSlice(i,l):u.mozSlice?u.mozSlice(i,l):u.slice?u.slice(i,l):null}(this.data_,i,l);return null===y?null:new Lr(y)}{const f=new Uint8Array(this.data_.buffer,i,l-i);return new Lr(f,!0)}}static getBlob(...i){if(Nt()){const l=i.map(f=>f instanceof Lr?f.data_:f);return new Lr(xn.apply(null,l))}{const l=i.map(F=>Y(F)?ye(x.RAW,F).data:F.data_);let f=0;l.forEach(F=>{f+=F.byteLength});const y=new Uint8Array(f);let A=0;return l.forEach(F=>{for(let ne=0;ne<F.length;ne++)y[A++]=F[ne]}),new Lr(y,!0)}}uploadData(){return this.data_}}function jr(u){let i;try{i=JSON.parse(u)}catch(l){return null}return function Ue(u){return"object"==typeof u&&!Array.isArray(u)}(i)?i:null}function zi(u){const i=u.lastIndexOf("/",u.length-2);return-1===i?u:u.slice(i+1)}function se(u,i){return i}class Re{constructor(i,l,f,y){this.server=i,this.local=l||i,this.writable=!!f,this.xform=y||se}}let pt=null;function $t(){if(pt)return pt;const u=[];u.push(new Re("bucket")),u.push(new Re("generation")),u.push(new Re("metageneration")),u.push(new Re("name","fullPath",!0));const l=new Re("name");l.xform=function i(A,F){return function _t(u){return!Y(u)||u.length<2?u:zi(u)}(F)},u.push(l);const y=new Re("size");return y.xform=function f(A,F){return void 0!==F?Number(F):F},u.push(y),u.push(new Re("timeCreated")),u.push(new Re("updated")),u.push(new Re("md5Hash",null,!0)),u.push(new Re("cacheControl",null,!0)),u.push(new Re("contentDisposition",null,!0)),u.push(new Re("contentEncoding",null,!0)),u.push(new Re("contentLanguage",null,!0)),u.push(new Re("contentType",null,!0)),u.push(new Re("metadata","customMetadata",!0)),pt=u,pt}function ut(u,i,l){const f={type:"file"},y=l.length;for(let A=0;A<y;A++){const F=l[A];f[F.local]=F.xform(f,i[F.server])}return function we(u,i){Object.defineProperty(u,"ref",{get:function l(){const f=u.bucket,y=u.fullPath,A=new Rn(f,y);return i._makeStorageReference(A)}})}(f,u),f}function Mt(u,i,l){const f=jr(i);return null===f?null:ut(u,f,l)}function en(u,i){const l={},f=i.length;for(let y=0;y<f;y++){const A=i[y];A.writable&&(l[A.server]=u[A.local])}return JSON.stringify(l)}const An="prefixes";function ai(u,i,l){const f=jr(l);return null===f?null:function or(u,i,l){const f={prefixes:[],items:[],nextPageToken:l.nextPageToken};if(l[An])for(const y of l[An]){const A=y.replace(/\/$/,""),F=u._makeStorageReference(new Rn(i,A));f.prefixes.push(F)}if(l.items)for(const y of l.items){const A=u._makeStorageReference(new Rn(i,y.name));f.items.push(A)}return f}(u,i,f)}class Fr{constructor(i,l,f,y){this.url=i,this.method=l,this.handler=f,this.timeout=y,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ui(u){if(!u)throw Gn()}function bi(u,i){return function l(f,y){const A=Mt(u,y,i);return ui(null!==A),A}}function As(u,i){return function l(f,y){const A=Mt(u,y,i);return ui(null!==A),function jt(u,i,l,f){const y=jr(i);if(null===y||!Y(y.downloadTokens))return null;const A=y.downloadTokens;if(0===A.length)return null;const F=encodeURIComponent;return A.split(",").map(We=>{const wt=u.bucket,Pt=u.fullPath;return pn("/b/"+F(wt)+"/o/"+F(Pt),l,f)+Hn({alt:"media",token:We})})[0]}(A,y,u.host,u._protocol)}}function Ti(u){return function i(l,f){let y;return y=401===l.getStatus()?l.getErrorText().includes("Firebase App Check token is invalid")?function $n(){return new cn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function En(){return new cn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===l.getStatus()?function Wn(u){return new cn("quota-exceeded","Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===l.getStatus()?function bn(u){return new cn("unauthorized","User does not have permission to access '"+u+"'.")}(u.path):f,y.status=l.getStatus(),y.serverResponse=f.serverResponse,y}}function Pi(u){const i=Ti(u);return function l(f,y){let A=i(f,y);return 404===f.getStatus()&&(A=function hr(u){return new cn("object-not-found","Object '"+u+"' does not exist.")}(u.path)),A.serverResponse=y.serverResponse,A}}function qs(u,i,l){const y=pn(i.fullServerUrl(),u.host,u._protocol),F=u.maxOperationRetryTime,ne=new Fr(y,"GET",bi(u,l),F);return ne.errorHandler=Pi(i),ne}function Ss(u,i,l,f,y){const A={};i.isRoot?A.prefix="":A.prefix=i.path+"/",l&&l.length>0&&(A.delimiter=l),f&&(A.pageToken=f),y&&(A.maxResults=y);const ne=pn(i.bucketOnlyServerUrl(),u.host,u._protocol),We=u.maxOperationRetryTime,wt=new Fr(ne,"GET",function Ys(u,i){return function l(f,y){const A=ai(u,i,y);return ui(null!==A),A}}(u,i.bucket),We);return wt.urlParams=A,wt.errorHandler=Ti(i),wt}function kt(u,i,l){const f=Object.assign({},l);return f.fullPath=u.path,f.size=i.size(),f.contentType||(f.contentType=function gt(u,i){return u&&u.contentType||i&&i.type()||"application/octet-stream"}(null,i)),f}function Qt(u,i,l,f,y){const A=i.bucketOnlyServerUrl(),F={"X-Goog-Upload-Protocol":"multipart"};const he=function ne(){let us="";for(let Ks=0;Ks<2;Ks++)us+=Math.random().toString().slice(2);return us}();F["Content-Type"]="multipart/related; boundary="+he;const We=kt(i,f,y),Pt="--"+he+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+en(We,l)+"\r\n--"+he+"\r\nContent-Type: "+We.contentType+"\r\n\r\n",Gt="\r\n--"+he+"--",Qn=Lr.getBlob(Pt,f,Gt);if(null===Qn)throw Mr();const dr={name:We.fullPath},hi=pn(A,u.host,u._protocol),Ls=u.maxUploadRetryTime,jo=new Fr(hi,"POST",bi(u,l),Ls);return jo.urlParams=dr,jo.headers=F,jo.body=Qn.uploadData(),jo.errorHandler=Ti(i),jo}class vn{constructor(i,l,f,y){this.current=i,this.total=l,this.finalized=!!f,this.metadata=y||null}}function Vn(u,i){let l=null;try{l=u.getResponseHeader("X-Goog-Upload-Status")}catch(y){ui(!1)}return ui(!!l&&-1!==(i||["active"]).indexOf(l)),l}function Xr(u,i,l,f,y,A,F,ne){const he=new vn(0,0);if(F?(he.current=F.current,he.total=F.total):(he.current=0,he.total=f.size()),f.size()!==he.total)throw function sr(){return new cn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const We=he.total-he.current;let wt=We;y>0&&(wt=Math.min(wt,y));const Pt=he.current,Gt=Pt+wt;let Qn="";Qn=0===wt?"finalize":We===wt?"upload, finalize":"upload";const dr={"X-Goog-Upload-Command":Qn,"X-Goog-Upload-Offset":`${he.current}`},hi=f.slice(Pt,Gt);if(null===hi)throw Mr();const jo=i.maxUploadRetryTime,us=new Fr(l,"POST",function Ei(Ks,co){const Ta=Vn(Ks,["active","final"]),Rd=he.current+wt,Ko=f.size();let ds;return ds="final"===Ta?bi(i,A)(Ks,co):null,new vn(Rd,Ko,"final"===Ta,ds)},jo);return us.headers=dr,us.body=hi.uploadData(),us.progressCallback=ne||null,us.errorHandler=Ti(u),us}const Xi={STATE_CHANGED:"state_changed"},Pr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Yi(u){switch(u){case"running":case"pausing":case"canceling":return Pr.RUNNING;case"paused":return Pr.PAUSED;case"success":return Pr.SUCCESS;case"canceled":return Pr.CANCELED;default:return Pr.ERROR}}class Ai{constructor(i,l,f){if(function tt(u){return"function"==typeof u}(i)||null!=l||null!=f)this.next=i,this.error=null!=l?l:void 0,this.complete=null!=f?f:void 0;else{const A=i;this.next=A.next,this.error=A.error,this.complete=A.complete}}}function ii(u){return(...i)=>{Promise.resolve().then(()=>u(...i))}}class Vi extends class Rs{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ot.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ot.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ot.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,l,f,y){if(this.sent_)throw Tn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(l,i,!0),void 0!==y)for(const A in y)y.hasOwnProperty(A)&&this.xhr_.setRequestHeader(A,y[A].toString());return void 0!==f?this.xhr_.send(f):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tn("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}}getResponse(){if(!this.sent_)throw Tn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}{initXhr(){this.xhr_.responseType="text"}}function ti(){return new Vi}class fi{constructor(i,l,f=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=l,this._metadata=f,this._mappings=$t(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=y=>{if(this._request=void 0,this._chunkMultiplier=1,y._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const A=this.isExponentialBackoffExpired();if(X(y.status,[])){if(!A)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();y=Bn()}this._error=y,this._transition("error")}},this._metadataErrorHandler=y=>{this._request=void 0,y._codeEquals("canceled")?this.completeTransitions_():(this._error=y,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((y,A)=>{this._resolve=y,this._reject=A,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const i=this._transferred;return l=>this._updateProgress(i+l)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([l,f])=>{switch(this._state){case"running":i(l,f);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,l)=>{const f=function Ar(u,i,l,f,y){const A=i.bucketOnlyServerUrl(),F=kt(i,f,y),ne={name:F.fullPath},he=pn(A,u.host,u._protocol),wt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${f.size()}`,"X-Goog-Upload-Header-Content-Type":F.contentType,"Content-Type":"application/json; charset=utf-8"},Pt=en(F,l),Gt=u.maxUploadRetryTime,dr=new Fr(he,"POST",function Qn(hi){let Ei;Vn(hi);try{Ei=hi.getResponseHeader("X-Goog-Upload-URL")}catch(Ls){ui(!1)}return ui(Y(Ei)),Ei},Gt);return dr.urlParams=ne,dr.headers=wt,dr.body=Pt,dr.errorHandler=Ti(i),dr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),y=this._ref.storage._makeRequest(f,ti,i,l);this._request=y,y.getPromise().then(A=>{this._request=void 0,this._uploadUrl=A,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((l,f)=>{const y=function ei(u,i,l,f){const ne=u.maxUploadRetryTime,he=new Fr(l,"POST",function A(We){const wt=Vn(We,["active","final"]);let Pt=null;try{Pt=We.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Qn){ui(!1)}Pt||ui(!1);const Gt=Number(Pt);return ui(!isNaN(Gt)),new vn(Gt,f.size(),"final"===wt)},ne);return he.headers={"X-Goog-Upload-Command":"query"},he.errorHandler=Ti(i),he}(this._ref.storage,this._ref._location,i,this._blob),A=this._ref.storage._makeRequest(y,ti,l,f);this._request=A,A.getPromise().then(F=>{this._request=void 0,this._updateProgress(F.current),this._needToFetchStatus=!1,F.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,l=new vn(this._transferred,this._blob.size()),f=this._uploadUrl;this._resolveToken((y,A)=>{let F;try{F=Xr(this._ref._location,this._ref.storage,f,this._blob,i,this._mappings,l,this._makeProgressCallback())}catch(he){return this._error=he,void this._transition("error")}const ne=this._ref.storage._makeRequest(F,ti,y,A,!1);this._request=ne,ne.getPromise().then(he=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(he.current),he.finalized?(this._metadata=he.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,l)=>{const f=qs(this._ref.storage,this._ref._location,this._mappings),y=this._ref.storage._makeRequest(f,ti,i,l);this._request=y,y.getPromise().then(A=>{this._request=void 0,this._metadata=A,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,l)=>{const f=Qt(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),y=this._ref.storage._makeRequest(f,ti,i,l);this._request=y,y.getPromise().then(A=>{this._request=void 0,this._metadata=A,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const l=this._transferred;this._transferred=i,this._transferred!==l&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const l="paused"===this._state;this._state=i,l&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=i,this._notifyObservers();break;case"canceled":this._error=yr(),this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=Yi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,l,f,y){const A=new Ai(l||void 0,f||void 0,y||void 0);return this._addObserver(A),()=>{this._removeObserver(A)}}then(i,l){return this._promise.then(i,l)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const l=this._observers.indexOf(i);-1!==l&&this._observers.splice(l,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(l=>{this._notifyObserver(l)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(Yi(this._state)){case Pr.SUCCESS:ii(this._resolve.bind(null,this.snapshot))();break;case Pr.CANCELED:case Pr.ERROR:ii(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(Yi(this._state)){case Pr.RUNNING:case Pr.PAUSED:i.next&&ii(i.next.bind(i,this.snapshot))();break;case Pr.SUCCESS:i.complete&&ii(i.complete.bind(i))();break;case Pr.CANCELED:case Pr.ERROR:default:i.error&&ii(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class Ze{constructor(i,l){this._service=i,this._location=l instanceof Rn?l:Rn.makeFromUrl(l,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,l){return new Ze(i,l)}get root(){const i=new Rn(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zi(this._location.path)}get storage(){return this._service}get parent(){const i=function Ii(u){if(0===u.length)return null;const i=u.lastIndexOf("/");return-1===i?"":u.slice(0,i)}(this._location.path);if(null===i)return null;const l=new Rn(this._location.bucket,i);return new Ze(this._service,l)}_throwIfRoot(i){if(""===this._location.path)throw In(i)}}function Yn(u,i,l){return Cr.apply(this,arguments)}function Cr(){return Cr=(0,jn.Z)(function*(u,i,l){const y=yield Wr(u,{pageToken:l});i.prefixes.push(...y.prefixes),i.items.push(...y.items),null!=y.nextPageToken&&(yield Yn(u,i,y.nextPageToken))}),Cr.apply(this,arguments)}function Wr(u,i){null!=i&&"number"==typeof i.maxResults&&on("options.maxResults",1,1e3,i.maxResults);const l=i||{},f=Ss(u.storage,u._location,"/",l.pageToken,l.maxResults);return u.storage.makeRequestWithTokens(f,ti)}function Vr(u,i){u._throwIfRoot("updateMetadata");const l=function Ki(u,i,l,f){const A=pn(i.fullServerUrl(),u.host,u._protocol),ne=en(l,f),We=u.maxOperationRetryTime,wt=new Fr(A,"PATCH",bi(u,f),We);return wt.headers={"Content-Type":"application/json; charset=utf-8"},wt.body=ne,wt.errorHandler=Pi(i),wt}(u.storage,u._location,i,$t());return u.storage.makeRequestWithTokens(l,ti)}function ni(u){u._throwIfRoot("getDownloadURL");const i=function Us(u,i,l){const y=pn(i.fullServerUrl(),u.host,u._protocol),F=u.maxOperationRetryTime,ne=new Fr(y,"GET",As(u,l),F);return ne.errorHandler=Pi(i),ne}(u.storage,u._location,$t());return u.storage.makeRequestWithTokens(i,ti).then(l=>{if(null===l)throw function Zr(){return new cn("no-download-url","The given file does not have any download URLs.")}();return l})}function $i(u){u._throwIfRoot("deleteObject");const i=function vt(u,i){const f=pn(i.fullServerUrl(),u.host,u._protocol),A=u.maxOperationRetryTime,ne=new Fr(f,"DELETE",function F(he,We){},A);return ne.successCodes=[200,204],ne.errorHandler=Pi(i),ne}(u.storage,u._location);return u.storage.makeRequestWithTokens(i,ti)}function Er(u,i){const l=function li(u,i){const l=i.split("/").filter(f=>f.length>0).join("/");return 0===u.length?l:u+"/"+l}(u._location.path,i),f=new Rn(u._location.bucket,l);return new Ze(u.storage,f)}function no(u,i){if(u instanceof es){const l=u;if(null==l._bucket)throw function zn(){return new cn("no-default-bucket","No default bucket found. Did you set the '"+hn+"' property when initializing the app?")}();const f=new Ze(l,l._bucket);return null!=i?no(f,i):f}return void 0!==i?Er(u,i):u}function _s(u,i){if(i&&function Ds(u){return/^[A-Za-z]+:\/\//.test(u)}(i)){if(u instanceof es)return function Si(u,i){return new Ze(u,i)}(u,i);throw vr("To use ref(service, url), the first argument must be a Storage instance.")}return no(u,i)}function ki(u,i){const l=null==i?void 0:i[hn];return null==l?null:Rn.makeFromBucketSpec(l,u)}class es{constructor(i,l,f,y,A){this.app=i,this._authProvider=l,this._appCheckProvider=f,this._url=y,this._firebaseVersion=A,this._bucket=null,this._host=Vt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=y?Rn.makeFromBucketSpec(y,this._host):ki(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,null!=this._url?this._bucket=Rn.makeFromBucketSpec(this._url,i):this._bucket=ki(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){on("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){on("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,jn.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const l=i._authProvider.getImmediate({optional:!0});if(l){const f=yield l.getToken();if(null!==f)return f.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,jn.Z)(function*(){const l=i._appCheckProvider.getImmediate({optional:!0});return l?(yield l.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new Ze(this,i)}_makeRequest(i,l,f,y,A=!0){if(this._deleted)return new Kn(Un());{const F=function zt(u,i,l,f,y,A,F=!0){const ne=Hn(u.urlParams),he=u.url+ne,We=Object.assign({},u.headers);return function Qe(u,i){i&&(u["X-Firebase-GMPID"]=i)}(We,i),function Ut(u,i){null!==i&&i.length>0&&(u.Authorization="Firebase "+i)}(We,l),function Sn(u,i){u["X-Firebase-Storage-Version"]="webjs/"+(null!=i?i:"AppManager")}(We,A),function Je(u,i){null!==i&&(u["X-Firebase-AppCheck"]=i)}(We,f),new He(he,u.method,We,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,y,F)}(i,this._appId,f,y,l,this._firebaseVersion,A);return this._requests.add(F),F.getPromise().then(()=>this._requests.delete(F),()=>this._requests.delete(F)),F}}makeRequestWithTokens(i,l){var f=this;return(0,jn.Z)(function*(){const[y,A]=yield Promise.all([f._getAuthToken(),f._getAppCheckToken()]);return f._makeRequest(i,l,y,A).getPromise()})()}}const wo="@firebase/storage",$r="storage";function E(u,i,l){return function Zt(u,i,l){return u._throwIfRoot("uploadBytesResumable"),new fi(u,new Lr(i),l)}(u=(0,z.m9)(u),i,l)}function U(u){return function Qr(u){u._throwIfRoot("getMetadata");const i=qs(u.storage,u._location,$t());return u.storage.makeRequestWithTokens(i,ti)}(u=(0,z.m9)(u))}function gn(u){return function Nn(u){const i={prefixes:[],items:[]};return Yn(u,i).then(()=>i)}(u=(0,z.m9)(u))}function te(u,i){return _s(u=(0,z.m9)(u),i)}function ot(u,i,l,f={}){!function Li(u,i,l,f={}){u.host=`${i}:${l}`,u._protocol="http";const{mockUserToken:y}=f;y&&(u._overrideAuthToken="string"==typeof y?y:(0,z.Sg)(y,u.app.options.projectId))}(u,i,l,f)}function pi(u,{instanceIdentifier:i}){const l=u.getProvider("app").getImmediate(),f=u.getProvider("auth-internal"),y=u.getProvider("app-check-internal");return new es(l,f,y,i,Mn.SDK_VERSION)}!function Os(){(0,Mn._registerComponent)(new Rt.wA($r,pi,"PUBLIC").setMultipleInstances(!0)),(0,Mn.registerVersion)(wo,"0.9.14",""),(0,Mn.registerVersion)(wo,"0.9.14","esm2017")}();class ys{constructor(i,l,f){this._delegate=i,this.task=l,this.ref=f}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class bo{constructor(i,l){this._delegate=i,this._ref=l,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ys(this._delegate.snapshot,this,this._ref)}then(i,l){return this._delegate.then(f=>{if(i)return i(new ys(f,this,this._ref))},l)}on(i,l,f,y){let A;return l&&(A="function"==typeof l?F=>l(new ys(F,this,this._ref)):{next:l.next?F=>l.next(new ys(F,this,this._ref)):void 0,complete:l.complete||void 0,error:l.error||void 0}),this._delegate.on(i,A,f||void 0,y||void 0)}}class Sa{constructor(i,l){this._delegate=i,this._service=l}get prefixes(){return this._delegate.prefixes.map(i=>new $s(i,this._service))}get items(){return this._delegate.items.map(i=>new $s(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class $s{constructor(i,l){this._delegate=i,this.storage=l}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const l=function D(u,i){return Er(u,i)}(this._delegate,i);return new $s(l,this.storage)}get root(){return new $s(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new $s(i,this.storage)}put(i,l){return this._throwIfRoot("put"),new bo(E(this._delegate,i,l),this)}putString(i,l=x.RAW,f){this._throwIfRoot("putString");const y=ye(l,i),A=Object.assign({},f);return null==A.contentType&&null!=y.contentType&&(A.contentType=y.contentType),new bo(new fi(this._delegate,new Lr(y.data,!0),A),this)}listAll(){return gn(this._delegate).then(i=>new Sa(i,this.storage))}list(i){return function Bt(u,i){return Wr(u=(0,z.m9)(u),i)}(this._delegate,i||void 0).then(l=>new Sa(l,this.storage))}getMetadata(){return U(this._delegate)}updateMetadata(i){return function ae(u,i){return Vr(u=(0,z.m9)(u),i)}(this._delegate,i)}getDownloadURL(){return function ur(u){return ni(u=(0,z.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function xr(u){return $i(u=(0,z.m9)(u))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw In(i)}}class qo{constructor(i,l){this.app=i,this._delegate=l}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(ac(i))throw vr("ref() expected a child path but got a URL, use refFromURL instead.");return new $s(te(this._delegate,i),this)}refFromURL(i){if(!ac(i))throw vr("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Rn.makeFromUrl(i,this._delegate.host)}catch(l){throw vr("refFromUrl() expected a valid full URL but got an invalid one.")}return new $s(te(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,l,f={}){ot(this._delegate,i,l,f)}}function ac(u){return/^[A-Za-z]+:\/\//.test(u)}function Wa(u,{instanceIdentifier:i}){const l=u.getProvider("app-compat").getImmediate(),f=u.getProvider("storage").getImmediate({identifier:i});return new qo(l,f)}!function cc(u){const i={TaskState:Pr,TaskEvent:Xi,StringFormat:x,Storage:qo,Reference:$s};u.INTERNAL.registerComponent(new Rt.wA("storage-compat",Wa,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.1.22")}(tr.Z);var Ga=R(3670),lc=R(6362),V=R(8427);function T(u){return new le.y(i=>{const l=F=>i.next(F);l(u.snapshot);const A=u.on("state_changed",l);return u.then(F=>{l(F),i.complete()},F=>{l(u.snapshot),(F=>{i.error(F)})(F)}),function(){A()}}).pipe((0,Ht.b)(0))}function re(u){const i=T(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,qt.U)(l=>l.bytesTransferred/l.totalBytes*100))}}function Pe(u){return{getDownloadURL:()=>(0,lt.of)(void 0).pipe(ir.fc,(0,an.w)(()=>u.getDownloadURL()),ir.iC),getMetadata:()=>(0,lt.of)(void 0).pipe(ir.fc,(0,an.w)(()=>u.getMetadata()),ir.iC),delete:()=>(0,St.D)(u.delete()),child:i=>Pe(u.child(i)),updateMetadata:i=>(0,St.D)(u.updateMetadata(i)),put:(i,l)=>re(u.put(i,l)),putString:(i,l,f)=>re(u.putString(i,l,f)),list:i=>(0,St.D)(u.list(i)),listAll:()=>(0,St.D)(u.listAll())}}const Tt=new B.OlP("angularfire2.storageBucket"),Xt=new B.OlP("angularfire2.storage.maxUploadRetryTime"),On=new B.OlP("angularfire2.storage.maxOperationRetryTime"),wr=new B.OlP("angularfire2.storage.use-emulator");class di{constructor(i,l,f,y,A,F,ne,he,We,wt){const Pt=(0,Ye.on)(i,A,l);this.storage=(0,Ye.cc)(`${Pt.name}.storage.${f}`,"AngularFireStorage",Pt.name,()=>{const Gt=A.runOutsideAngular(()=>Pt.storage(f||void 0)),Qn=We;return Qn&&Gt.useEmulator(...Qn),ne&&Gt.setMaxUploadRetryTime(ne),he&&Gt.setMaxOperationRetryTime(he),Gt},[ne,he])}ref(i){return Pe(this.storage.ref(i))}refFromURL(i){return Pe(this.storage.refFromURL(i))}upload(i,l,f){return Pe(this.storage.ref(i)).put(l,f)}}di.\u0275fac=function(i){return new(i||di)(B.LFG(Ye.Dh),B.LFG(Ye.xv,8),B.LFG(Tt,8),B.LFG(B.Lbi),B.LFG(B.R0b),B.LFG(ir.HU),B.LFG(Xt,8),B.LFG(On,8),B.LFG(wr,8),B.LFG(Ga.nm,8))},di.\u0275prov=B.Yz7({token:di,factory:di.\u0275fac,providedIn:"any"});class _i{constructor(i,l,f){this.storage=i,this.state=f,this.asyncPipe=new lc.Ov(l)}transform(i){var l;if(i!==this.path){this.path=i;const f=(0,c.Cb)(`|getDownloadURL|${i}`),y=null===(l=this.state)||void 0===l?void 0:l.get(f,void 0);this.downloadUrl$=y?(0,lt.of)(y):this.storage.ref(i).getDownloadURL().pipe((0,Fn.b)(A=>{var F;return null===(F=this.state)||void 0===F?void 0:F.set(f,A)}))}return this.asyncPipe.transform(this.downloadUrl$)}ngOnDestroy(){this.asyncPipe.ngOnDestroy()}}_i.\u0275fac=function(i){return new(i||_i)(B.Y36(di,16),B.Y36(B.sBO,16),B.Y36(c.ki,24))},_i.\u0275pipe=B.Yjl({name:"getDownloadURL",type:_i,pure:!1});class yi{}yi.\u0275fac=function(i){return new(i||yi)},yi.\u0275mod=B.oAB({type:yi}),yi.\u0275inj=B.cJS({});class Gr{constructor(){V.Z.registerVersion("angularfire",ir.q4.full,"gcs-compat")}}Gr.\u0275fac=function(i){return new(i||Gr)},Gr.\u0275mod=B.oAB({type:Gr}),Gr.\u0275inj=B.cJS({providers:[di],imports:[yi]});var os=R(3805),Oi=R(6936),xi=R(6646),Lo=R(1203),mo=R(4351),la=R(8977),Zo=R(1944),Ps=R(3945),Ji=R(4987),ua=R(9173),Ku=R(9635),da=R(420);R(7608);var wl=R(8118);const Vd="@firebase/database",ha="0.13.10";let Qc="";function uc(u){Qc=u}class Jc{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,l){null==l?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,z.Wl)(l))}get(i){const l=this.domStorage_.getItem(this.prefixedName_(i));return null==l?null:(0,z.cI)(l)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class Dl{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,l){null==l?delete this.cache_[i]:this.cache_[i]=l}get(i){return(0,z.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const bs=function(u){try{if("undefined"!=typeof window&&void 0!==window[u]){const i=window[u];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new Jc(i)}}catch(i){}return new Dl},Hs=bs("localStorage"),Xo=bs("sessionStorage"),_o=new wl.Yd("@firebase/database"),bl=function(){let u=1;return function(){return u++}}(),Pn=function(u){const i=(0,z.dS)(u),l=new z.gQ;l.update(i);const f=l.digest();return z.US.encodeByteArray(f)},qi=function(...u){let i="";for(let l=0;l<u.length;l++){const f=u[l];Array.isArray(f)||f&&"object"==typeof f&&"number"==typeof f.length?i+=qi.apply(null,f):i+="object"==typeof f?(0,z.Wl)(f):f,i+=" "}return i};let To=null,gs=!0;const Ir=function(u,i){(0,z.hu)(!i||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(_o.logLevel=wl.in.VERBOSE,To=_o.log.bind(_o),i&&Xo.set("logging_enabled",!0)):"function"==typeof u?To=u:(To=null,Xo.remove("logging_enabled"))},ar=function(...u){if(!0===gs&&(gs=!1,null===To&&!0===Xo.get("logging_enabled")&&Ir(!0)),To){const i=qi.apply(null,u);To(i)}},Qo=function(u){return function(...i){ar(u,...i)}},rr=function(...u){const i="FIREBASE INTERNAL ERROR: "+qi(...u);_o.error(i)},tn=function(...u){const i=`FIREBASE FATAL ERROR: ${qi(...u)}`;throw _o.error(i),new Error(i)},fn=function(...u){const i="FIREBASE WARNING: "+qi(...u);_o.warn(i)},za=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},Wo="[MIN_NAME]",ro="[MAX_NAME]",Zs=function(u,i){if(u===i)return 0;if(u===Wo||i===ro)return-1;if(i===Wo||u===ro)return 1;{const l=Jr(u),f=Jr(i);return null!==l?null!==f?l-f==0?u.length-i.length:l-f:-1:null!==f?1:u<i?-1:1}},Yu=function(u,i){return u===i?0:u<i?-1:1},Ka=function(u,i){if(i&&u in i)return i[u];throw new Error("Missing required key ("+u+") in object: "+(0,z.Wl)(i))},fa=function(u){if("object"!=typeof u||null===u)return(0,z.Wl)(u);const i=[];for(const f in u)i.push(f);i.sort();let l="{";for(let f=0;f<i.length;f++)0!==f&&(l+=","),l+=(0,z.Wl)(i[f]),l+=":",l+=fa(u[i[f]]);return l+="}",l},hc=function(u,i){const l=u.length;if(l<=i)return[u];const f=[];for(let y=0;y<l;y+=i)y+i>l?f.push(u.substring(y,l)):f.push(u.substring(y,y+i));return f};function Xs(u,i){for(const l in u)u.hasOwnProperty(l)&&i(l,u[l])}const Sc=function(u){(0,z.hu)(!za(u),"Invalid JSON number");const f=1023;let y,A,F,ne,he;0===u?(A=0,F=0,y=1/u==-1/0?1:0):(y=u<0,(u=Math.abs(u))>=Math.pow(2,1-f)?(ne=Math.min(Math.floor(Math.log(u)/Math.LN2),f),A=ne+f,F=Math.round(u*Math.pow(2,52-ne)-Math.pow(2,52))):(A=0,F=Math.round(u/Math.pow(2,-1074))));const We=[];for(he=52;he;he-=1)We.push(F%2?1:0),F=Math.floor(F/2);for(he=11;he;he-=1)We.push(A%2?1:0),A=Math.floor(A/2);We.push(y?1:0),We.reverse();const wt=We.join("");let Pt="";for(he=0;he<64;he+=8){let Gt=parseInt(wt.substr(he,8),2).toString(16);1===Gt.length&&(Gt="0"+Gt),Pt+=Gt}return Pt.toLowerCase()};const Kr=new RegExp("^-?(0*)\\d{1,10}$"),Br=-2147483648,Ya=2147483647,Jr=function(u){if(Kr.test(u)){const i=Number(u);if(i>=Br&&i<=Ya)return i}return null},yo=function(u){try{u()}catch(i){setTimeout(()=>{const l=i.stack||"";throw fn("Exception was thrown by user callback.",l),i},Math.floor(0))}},Xn=function(u,i){const l=setTimeout(u,i);return"number"==typeof l&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(l):"object"==typeof l&&l.unref&&l.unref(),l};class ea{constructor(i,l){this.appName_=i,this.appCheckProvider=l,this.appCheck=null==l?void 0:l.getImmediate({optional:!0}),this.appCheck||null==l||l.get().then(f=>this.appCheck=f)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((l,f)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(l,f):l(null)},0)})}addTokenChangeListener(i){var l;null===(l=this.appCheckProvider)||void 0===l||l.get().then(f=>f.addTokenListener(i))}notifyForInvalidToken(){fn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fo{constructor(i,l,f){this.appName_=i,this.firebaseOptions_=l,this.authProvider_=f,this.auth_=null,this.auth_=f.getImmediate({optional:!0}),this.auth_||f.onInit(y=>this.auth_=y)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(l=>l&&"auth/token-not-initialized"===l.code?(ar("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,f)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(l,f):l(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(l=>l.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(l=>l.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?i+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?i+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':i+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fn(i)}}class Qs{constructor(i){this.accessToken=i}getToken(i){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(i){i(this.accessToken)}removeTokenChangeListener(i){}notifyForInvalidToken(){}}Qs.OWNER="owner";const fc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,lu="websocket",pa="long_polling";class So{constructor(i,l,f,y,A=!1,F="",ne=!1){this.secure=l,this.namespace=f,this.webSocketOnly=y,this.nodeAdmin=A,this.persistenceKey=F,this.includeNamespaceInQueryParams=ne,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hs.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Hs.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){const i=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${i}${this.host}/${l}`}}function Oc(u,i,l){let f;if((0,z.hu)("string"==typeof i,"typeof type must == string"),(0,z.hu)("object"==typeof l,"typeof params must == object"),i===lu)f=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(i!==pa)throw new Error("Unknown connection type: "+i);f=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function nn(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(l.ns=u.namespace);const y=[];return Xs(l,(A,F)=>{y.push(A+"="+F)}),f+y.join("&")}class Hi{constructor(){this.counters_={}}incrementCounter(i,l=1){(0,z.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=l}get(){return(0,z.p$)(this.counters_)}}const Ra={},ta={};function ga(u){const i=u.toString();return Ra[i]||(Ra[i]=new Hi),Ra[i]}class xs{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,l){this.closeAfterResponse=i,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,l){for(this.pendingResponses[i]=l;this.pendingResponses[this.currentResponseNum];){const f=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let y=0;y<f.length;++y)f[y]&&yo(()=>{this.onMessage_(f[y])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ce{constructor(i,l,f,y,A,F,ne){this.connId=i,this.repoInfo=l,this.applicationId=f,this.appCheckToken=y,this.authToken=A,this.transportSessionId=F,this.lastSessionId=ne,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qo(i),this.stats_=ga(l),this.urlFn=he=>(this.appCheckToken&&(he.ac=this.appCheckToken),Oc(l,pa,he))}open(i,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new xs(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,z.Yr)()||"complete"===document.readyState)u();else{let i=!1;const l=function(){document.body?i||(i=!0,u()):setTimeout(l,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&l()}),window.attachEvent("onload",l))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ve((...A)=>{const[F,ne,he,We,wt]=A;if(this.incrementIncomingBytes_(A),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===F)this.id=ne,this.password=he;else{if("close"!==F)throw new Error("Unrecognized command received: "+F);ne?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ne,()=>{this.onClosed_()})):this.onClosed_()}},(...A)=>{const[F,ne]=A;this.incrementIncomingBytes_(A),this.myPacketOrderer.handleResponse(F,ne)},()=>{this.onClosed_()},this.urlFn);const f={start:"t"};f.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(f.cb=this.scriptTagHolder.uniqueCallbackIdentifier),f.v="5",this.transportSessionId&&(f.s=this.transportSessionId),this.lastSessionId&&(f.ls=this.lastSessionId),this.applicationId&&(f.p=this.applicationId),this.appCheckToken&&(f.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&fc.test(location.hostname)&&(f.r="f");const y=this.urlFn(f);this.log_("Connecting via long-poll to "+y),this.scriptTagHolder.addTag(y,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ce.forceAllow_=!0}static forceDisallow(){ce.forceDisallow_=!0}static isAvailable(){return!(0,z.Yr)()&&(!!ce.forceAllow_||!(ce.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const l=(0,z.Wl)(i);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const f=(0,z.h$)(l),y=hc(f,1840);for(let A=0;A<y.length;A++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,y.length,y[A]),this.curSegmentNum++}addDisconnectPingFrame(i,l){if((0,z.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const f={dframe:"t"};f.id=i,f.pw=l,this.myDisconnFrame.src=this.urlFn(f),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const l=(0,z.Wl)(i).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class ve{constructor(i,l,f,y){if(this.onDisconnect=f,this.urlFn=y,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,z.Yr)())this.commandCB=i,this.onMessageCB=l;else{this.uniqueCallbackIdentifier=bl(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=l,this.myIFrame=ve.createIFrame_();let A="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){A='<script>document.domain="'+document.domain+'";<\/script>'}const F="<html><body>"+A+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(F),this.myIFrame.doc.close()}catch(ne){ar("frame writing exception"),ne.stack&&ar(ne.stack),ar(ne)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||ar("No IE domain setting required")}catch(l){const f=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+f+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,l){for(this.myID=i,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let l=this.urlFn(i),f="",y=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+f.length<=1870;){const F=this.pendingSegs.shift();f=f+"&seg"+y+"="+F.seg+"&ts"+y+"="+F.ts+"&d"+y+"="+F.d,y++}return l+=f,this.addLongPollTag_(l,this.currentSerial),!0}return!1}enqueueSegment(i,l,f){this.pendingSegs.push({seg:i,ts:l,d:f}),this.alive&&this.newRequest_()}addLongPollTag_(i,l){this.outstandingRequests.add(l);const f=()=>{this.outstandingRequests.delete(l),this.newRequest_()},y=setTimeout(f,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(y),f()})}addTag(i,l){(0,z.Yr)()?this.doNodeLongPoll(i,l):setTimeout(()=>{try{if(!this.sendNewPolls)return;const f=this.myIFrame.doc.createElement("script");f.type="text/javascript",f.async=!0,f.src=i,f.onload=f.onreadystatechange=function(){const y=f.readyState;(!y||"loaded"===y||"complete"===y)&&(f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),l())},f.onerror=()=>{ar("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(f)}catch(f){}},Math.floor(1))}}let qn=null;"undefined"!=typeof MozWebSocket?qn=MozWebSocket:"undefined"!=typeof WebSocket&&(qn=WebSocket);class Ln{constructor(i,l,f,y,A,F,ne){this.connId=i,this.applicationId=f,this.appCheckToken=y,this.authToken=A,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qo(this.connId),this.stats_=ga(l),this.connURL=Ln.connectionURL_(l,F,ne,y,f),this.nodeAdmin=l.nodeAdmin}static connectionURL_(i,l,f,y,A){const F={v:"5"};return!(0,z.Yr)()&&"undefined"!=typeof location&&location.hostname&&fc.test(location.hostname)&&(F.r="f"),l&&(F.s=l),f&&(F.ls=f),y&&(F.ac=y),A&&(F.p=A),Oc(i,lu,F)}open(i,l){this.onDisconnect=l,this.onMessage=i,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hs.set("previous_websocket_failure",!0);try{let f;if((0,z.Yr)()){const y=this.nodeAdmin?"AdminNode":"Node";f={headers:{"User-Agent":`Firebase/5/${Qc}/${process.platform}/${y}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(f.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(f.headers["X-Firebase-AppCheck"]=this.appCheckToken);const A=process.env,F=0===this.connURL.indexOf("wss://")?A.HTTPS_PROXY||A.https_proxy:A.HTTP_PROXY||A.http_proxy;F&&(f.proxy={origin:F})}this.mySock=new qn(this.connURL,[],f)}catch(f){this.log_("Error instantiating WebSocket.");const y=f.message||f.data;return y&&this.log_(y),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=f=>{this.handleIncomingFrame(f)},this.mySock.onerror=f=>{this.log_("WebSocket error.  Closing connection.");const y=f.message||f.data;y&&this.log_(y),this.onClosed_()}}start(){}static forceDisallow(){Ln.forceDisallow_=!0}static isAvailable(){let i=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,f=navigator.userAgent.match(l);f&&f.length>1&&parseFloat(f[1])<4.4&&(i=!0)}return!i&&null!==qn&&!Ln.forceDisallow_}static previouslyFailed(){return Hs.isInMemoryStorage||!0===Hs.get("previous_websocket_failure")}markConnectionHealthy(){Hs.remove("previous_websocket_failure")}appendFrame_(i){if(this.frames.push(i),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const f=(0,z.cI)(l);this.onMessage(f)}}handleNewFrameCount_(i){this.totalFrames=i,this.frames=[]}extractFrameCount_(i){if((0,z.hu)(null===this.frames,"We already have a frame buffer"),i.length<=6){const l=Number(i);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),i}handleIncomingFrame(i){if(null===this.mySock)return;const l=i.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(l);else{const f=this.extractFrameCount_(l);null!==f&&this.appendFrame_(f)}}send(i){this.resetKeepAlive();const l=(0,z.Wl)(i);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const f=hc(l,16384);f.length>1&&this.sendString_(String(f.length));for(let y=0;y<f.length;y++)this.sendString_(f[y])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(i){try{this.mySock.send(i)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ln.responsesRequiredToBeHealthy=2,Ln.healthyTimeout=3e4;class Or{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[ce,Ln]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(i){const l=Ln&&Ln.isAvailable();let f=l&&!Ln.previouslyFailed();if(i.webSocketOnly&&(l||fn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),f=!0),f)this.transports_=[Ln];else{const y=this.transports_=[];for(const A of Or.ALL_TRANSPORTS)A&&A.isAvailable()&&y.push(A);Or.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Or.globalTransportInitialized_=!1;class zo{constructor(i,l,f,y,A,F,ne,he,We,wt){this.id=i,this.repoInfo_=l,this.applicationId_=f,this.appCheckToken_=y,this.authToken_=A,this.onMessage_=F,this.onReady_=ne,this.onDisconnect_=he,this.onKill_=We,this.lastSessionId=wt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qo("c:"+this.id+":"),this.transportManager_=new Or(l),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),f=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,f)},Math.floor(0));const y=i.healthyTimeout||0;y>0&&(this.healthyTimeout_=Xn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(y)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return l=>{i===this.conn_?this.onConnectionLost_(l):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return l=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(l):i===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(i){const l={t:"d",d:i};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const l=i.t;"a"===l?this.upgradeIfSecondaryHealthy_():"r"===l?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===l&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const l=Ka("t",i),f=Ka("d",i);if("c"===l)this.onSecondaryControl_(f);else{if("d"!==l)throw new Error("Unknown protocol layer: "+l);this.pendingDataMessages.push(f)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const l=Ka("t",i),f=Ka("d",i);"c"===l?this.onControl_(f):"d"===l&&this.onDataMessage_(f)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const l=Ka("t",i);if("d"in i){const f=i.d;if("h"===l)this.onHandshake_(f);else if("n"===l){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let y=0;y<this.pendingDataMessages.length;++y)this.onDataMessage_(this.pendingDataMessages[y]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===l?this.onConnectionShutdown_(f):"r"===l?this.onReset_(f):"e"===l?rr("Server Error: "+f):"o"===l?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rr("Unknown control packet command: "+l)}}onHandshake_(i){const l=i.ts,f=i.v,y=i.h;this.sessionId=i.s,this.repoInfo_.host=y,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),"5"!==f&&fn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),f=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,f),Xn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,l){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class qu{put(i,l,f,y){}merge(i,l,f,y){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,l,f){}onDisconnectMerge(i,l,f){}onDisconnectCancel(i,l){}reportStats(i){}}class Sl{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,z.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...l){if(Array.isArray(this.listeners_[i])){const f=[...this.listeners_[i]];for(let y=0;y<f.length;y++)f[y].callback.apply(f[y].context,l)}}on(i,l,f){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:l,context:f});const y=this.getInitialEvent(i);y&&l.apply(f,y)}off(i,l,f){this.validateEventType_(i);const y=this.listeners_[i]||[];for(let A=0;A<y.length;A++)if(y[A].callback===l&&(!f||f===y[A].context))return void y.splice(A,1)}validateEventType_(i){(0,z.hu)(this.allowedEvents_.find(l=>l===i),"Unknown event: "+i)}}class tl extends Sl{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,z.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tl}getInitialEvent(i){return(0,z.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class wi{constructor(i,l){if(void 0===l){this.pieces_=i.split("/");let f=0;for(let y=0;y<this.pieces_.length;y++)this.pieces_[y].length>0&&(this.pieces_[f]=this.pieces_[y],f++);this.pieces_.length=f,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=l}toString(){let i="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)""!==this.pieces_[l]&&(i+="/"+this.pieces_[l]);return i||"/"}}function vi(){return new wi("")}function gi(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Ma(u){return u.pieces_.length-u.pieceNum_}function Fi(u){let i=u.pieceNum_;return i<u.pieces_.length&&i++,new wi(u.pieces_,i)}function kc(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function nl(u,i=0){return u.pieces_.slice(u.pieceNum_+i)}function as(u){if(u.pieceNum_>=u.pieces_.length)return null;const i=[];for(let l=u.pieceNum_;l<u.pieces_.length-1;l++)i.push(u.pieces_[l]);return new wi(i,0)}function Zi(u,i){const l=[];for(let f=u.pieceNum_;f<u.pieces_.length;f++)l.push(u.pieces_[f]);if(i instanceof wi)for(let f=i.pieceNum_;f<i.pieces_.length;f++)l.push(i.pieces_[f]);else{const f=i.split("/");for(let y=0;y<f.length;y++)f[y].length>0&&l.push(f[y])}return new wi(l,0)}function ri(u){return u.pieceNum_>=u.pieces_.length}function js(u,i){const l=gi(u),f=gi(i);if(null===l)return i;if(l===f)return js(Fi(u),Fi(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+u+")")}function Lg(u,i){const l=nl(u,0),f=nl(i,0);for(let y=0;y<l.length&&y<f.length;y++){const A=Zs(l[y],f[y]);if(0!==A)return A}return l.length===f.length?0:l.length<f.length?-1:1}function Lc(u,i){if(Ma(u)!==Ma(i))return!1;for(let l=u.pieceNum_,f=i.pieceNum_;l<=u.pieces_.length;l++,f++)if(u.pieces_[l]!==i.pieces_[f])return!1;return!0}function Eo(u,i){let l=u.pieceNum_,f=i.pieceNum_;if(Ma(u)>Ma(i))return!1;for(;l<u.pieces_.length;){if(u.pieces_[l]!==i.pieces_[f])return!1;++l,++f}return!0}class Hd{constructor(i,l){this.errorPrefix_=l,this.parts_=nl(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let f=0;f<this.parts_.length;f++)this.byteLength_+=(0,z.ug)(this.parts_[f]);fo(this)}}function fo(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+na(u))}function na(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class Zu extends Sl{constructor(){let i,l;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(l="visibilitychange",i="hidden"):void 0!==document.mozHidden?(l="mozvisibilitychange",i="mozHidden"):void 0!==document.msHidden?(l="msvisibilitychange",i="msHidden"):void 0!==document.webkitHidden&&(l="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const f=!document[i];f!==this.visible_&&(this.visible_=f,this.trigger("visible",f))},!1)}static getInstance(){return new Zu}getInitialEvent(i){return(0,z.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const du=1e3;class Ws extends qu{constructor(i,l,f,y,A,F,ne,he){if(super(),this.repoInfo_=i,this.applicationId_=l,this.onDataUpdate_=f,this.onConnectStatus_=y,this.onServerInfoUpdate_=A,this.authTokenProvider_=F,this.appCheckTokenProvider_=ne,this.authOverride_=he,this.id=Ws.nextPersistentConnectionId_++,this.log_=Qo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=du,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,he&&!(0,z.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zu.getInstance().on("visible",this.onVisible_,this),-1===i.host.indexOf("fblocal")&&tl.getInstance().on("online",this.onOnline_,this)}sendRequest(i,l,f){const y=++this.requestNumber_,A={r:y,a:i,b:l};this.log_((0,z.Wl)(A)),(0,z.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(A),f&&(this.requestCBHash_[y]=f)}get(i){this.initConnection_();const l=new z.BH,y={action:"g",request:{p:i._path.toString(),q:i._queryObject},onComplete:F=>{const ne=F.d;"ok"===F.s?l.resolve(ne):l.reject(ne)}};this.outstandingGets_.push(y),this.outstandingGetCount_++;const A=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(A),l.promise}listen(i,l,f,y){this.initConnection_();const A=i._queryIdentifier,F=i._path.toString();this.log_("Listen called for "+F+" "+A),this.listens.has(F)||this.listens.set(F,new Map),(0,z.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,z.hu)(!this.listens.get(F).has(A),"listen() called twice for same path/queryId.");const ne={onComplete:y,hashFn:l,query:i,tag:f};this.listens.get(F).set(A,ne),this.connected_&&this.sendListen_(ne)}sendGet_(i){const l=this.outstandingGets_[i];this.sendRequest("g",l.request,f=>{delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(f)})}sendListen_(i){const l=i.query,f=l._path.toString(),y=l._queryIdentifier;this.log_("Listen on "+f+" for "+y);const A={p:f};i.tag&&(A.q=l._queryObject,A.t=i.tag),A.h=i.hashFn(),this.sendRequest("q",A,ne=>{const he=ne.d,We=ne.s;Ws.warnOnListenWarnings_(he,l),(this.listens.get(f)&&this.listens.get(f).get(y))===i&&(this.log_("listen response",ne),"ok"!==We&&this.removeListen_(f,y),i.onComplete&&i.onComplete(We,he))})}static warnOnListenWarnings_(i,l){if(i&&"object"==typeof i&&(0,z.r3)(i,"w")){const f=(0,z.DV)(i,"w");if(Array.isArray(f)&&~f.indexOf("no_index")){const y='".indexOn": "'+l._queryParams.getIndex().toString()+'"',A=l._path.toString();fn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${y} at ${A} to your security rules for better performance.`)}}}refreshAuthToken(i){this.authToken_=i,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(i)}reduceReconnectDelayIfAdminCredential_(i){(i&&40===i.length||(0,z.GJ)(i))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(i){this.appCheckToken_=i,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const i=this.authToken_,l=(0,z.w9)(i)?"auth":"gauth",f={cred:i};null===this.authOverride_?f.noauth=!0:"object"==typeof this.authOverride_&&(f.authvar=this.authOverride_),this.sendRequest(l,f,y=>{const A=y.s,F=y.d||"error";this.authToken_===i&&("ok"===A?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(A,F))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},i=>{const l=i.s,f=i.d||"error";"ok"===l?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,f)})}unlisten(i,l){const f=i._path.toString(),y=i._queryIdentifier;this.log_("Unlisten called for "+f+" "+y),(0,z.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(f,y)&&this.connected_&&this.sendUnlisten_(f,y,i._queryObject,l)}sendUnlisten_(i,l,f,y){this.log_("Unlisten on "+i+" for "+l);const A={p:i};y&&(A.q=f,A.t=y),this.sendRequest("n",A)}onDisconnectPut(i,l,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",i,l,f):this.onDisconnectRequestQueue_.push({pathString:i,action:"o",data:l,onComplete:f})}onDisconnectMerge(i,l,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",i,l,f):this.onDisconnectRequestQueue_.push({pathString:i,action:"om",data:l,onComplete:f})}onDisconnectCancel(i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",i,null,l):this.onDisconnectRequestQueue_.push({pathString:i,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(i,l,f,y){const A={p:l,d:f};this.log_("onDisconnect "+i,A),this.sendRequest(i,A,F=>{y&&setTimeout(()=>{y(F.s,F.d)},Math.floor(0))})}put(i,l,f,y){this.putInternal("p",i,l,f,y)}merge(i,l,f,y){this.putInternal("m",i,l,f,y)}putInternal(i,l,f,y,A){this.initConnection_();const F={p:l,d:f};void 0!==A&&(F.h=A),this.outstandingPuts_.push({action:i,request:F,onComplete:y}),this.outstandingPutCount_++;const ne=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(ne):this.log_("Buffering put: "+l)}sendPut_(i){const l=this.outstandingPuts_[i].action,f=this.outstandingPuts_[i].request,y=this.outstandingPuts_[i].onComplete;this.outstandingPuts_[i].queued=this.connected_,this.sendRequest(l,f,A=>{this.log_(l+" response",A),delete this.outstandingPuts_[i],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),y&&y(A.s,A.d)})}reportStats(i){if(this.connected_){const l={c:i};this.log_("reportStats",l),this.sendRequest("s",l,f=>{if("ok"!==f.s){const A=f.d;this.log_("reportStats","Error sending stats: "+A)}})}}onDataMessage_(i){if("r"in i){this.log_("from server: "+(0,z.Wl)(i));const l=i.r,f=this.requestCBHash_[l];f&&(delete this.requestCBHash_[l],f(i.b))}else{if("error"in i)throw"A server-side error has occurred: "+i.error;"a"in i&&this.onDataPush_(i.a,i.b)}}onDataPush_(i,l){this.log_("handleServerMessage",i,l),"d"===i?this.onDataUpdate_(l.p,l.d,!1,l.t):"m"===i?this.onDataUpdate_(l.p,l.d,!0,l.t):"c"===i?this.onListenRevoked_(l.p,l.q):"ac"===i?this.onAuthRevoked_(l.s,l.d):"apc"===i?this.onAppCheckRevoked_(l.s,l.d):"sd"===i?this.onSecurityDebugPacket_(l):rr("Unrecognized action received from server: "+(0,z.Wl)(i)+"\nAre you using the latest client?")}onReady_(i,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(i),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(i){(0,z.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(i))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(i){i&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=du,this.realtime_||this.scheduleConnect_(0)),this.visible_=i}onOnline_(i){i?(this.log_("Browser went online."),this.reconnectDelay_=du,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=du),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const i=(new Date).getTime()-this.lastConnectionAttemptTime_;let l=Math.max(0,this.reconnectDelay_-i);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var i=this;return(0,jn.Z)(function*(){if(i.shouldReconnect_()){i.log_("Making a connection attempt"),i.lastConnectionAttemptTime_=(new Date).getTime(),i.lastConnectionEstablishedTime_=null;const l=i.onDataMessage_.bind(i),f=i.onReady_.bind(i),y=i.onRealtimeDisconnect_.bind(i),A=i.id+":"+Ws.nextConnectionId_++,F=i.lastSessionId;let ne=!1,he=null;const We=function(){he?he.close():(ne=!0,y())},wt=function(Gt){(0,z.hu)(he,"sendRequest call when we're not connected not allowed."),he.sendRequest(Gt)};i.realtime_={close:We,sendRequest:wt};const Pt=i.forceTokenRefresh_;i.forceTokenRefresh_=!1;try{const[Gt,Qn]=yield Promise.all([i.authTokenProvider_.getToken(Pt),i.appCheckTokenProvider_.getToken(Pt)]);ne?ar("getToken() completed but was canceled"):(ar("getToken() completed. Creating connection."),i.authToken_=Gt&&Gt.accessToken,i.appCheckToken_=Qn&&Qn.token,he=new zo(A,i.repoInfo_,i.applicationId_,i.appCheckToken_,i.authToken_,l,f,y,dr=>{fn(dr+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},F))}catch(Gt){i.log_("Failed to get token: "+Gt),ne||(i.repoInfo_.nodeAdmin&&fn(Gt),We())}}})()}interrupt(i){ar("Interrupting connection for reason: "+i),this.interruptReasons_[i]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(i){ar("Resuming connection for reason: "+i),delete this.interruptReasons_[i],(0,z.xb)(this.interruptReasons_)&&(this.reconnectDelay_=du,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(i){const l=i-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let i=0;i<this.outstandingPuts_.length;i++){const l=this.outstandingPuts_[i];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(i,l){let f;f=l?l.map(A=>fa(A)).join("$"):"default";const y=this.removeListen_(i,f);y&&y.onComplete&&y.onComplete("permission_denied")}removeListen_(i,l){const f=new wi(i).toString();let y;if(this.listens.has(f)){const A=this.listens.get(f);y=A.get(l),A.delete(l),0===A.size&&this.listens.delete(f)}else y=void 0;return y}onAuthRevoked_(i,l){ar("Auth token revoked: "+i+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===i||"permission_denied"===i)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(i,l){ar("App check token revoked: "+i+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===i||"permission_denied"===i)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(i){this.securityDebugCallback_?this.securityDebugCallback_(i):"msg"in i&&console.log("FIREBASE: "+i.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const i of this.listens.values())for(const l of i.values())this.sendListen_(l);for(let i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){const i=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(i.action,i.pathString,i.data,i.onComplete)}for(let i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)}sendConnectStats_(){const i={};let l="js";(0,z.Yr)()&&(l=this.repoInfo_.nodeAdmin?"admin_node":"node"),i["sdk."+l+"."+Qc.replace(/\./g,"-")]=1,(0,z.uI)()?i["framework.cordova"]=1:(0,z.b$)()&&(i["framework.reactnative"]=1),this.reportStats(i)}shouldReconnect_(){const i=tl.getInstance().currentlyOnline();return(0,z.xb)(this.interruptReasons_)&&i}}Ws.nextPersistentConnectionId_=0,Ws.nextConnectionId_=0;class mi{constructor(i,l){this.name=i,this.node=l}static Wrap(i,l){return new mi(i,l)}}class rl{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,l){const f=new mi(Wo,i),y=new mi(Wo,l);return 0!==this.compare(f,y)}minPost(){return mi.MIN}}let Za;class Xa extends rl{static get __EMPTY_NODE(){return Za}static set __EMPTY_NODE(i){Za=i}compare(i,l){return Zs(i.name,l.name)}isDefinedOn(i){throw(0,z.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,l){return!1}minPost(){return mi.MIN}maxPost(){return new mi(ro,Za)}makePost(i,l){return(0,z.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new mi(i,Za)}toString(){return".key"}}const Pa=new Xa;class _c{constructor(i,l,f,y,A=null){this.isReverse_=y,this.resultGenerator_=A,this.nodeStack_=[];let F=1;for(;!i.isEmpty();)if(F=l?f(i.key,l):1,y&&(F*=-1),F<0)i=this.isReverse_?i.left:i.right;else{if(0===F){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let l,i=this.nodeStack_.pop();if(l=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}class Ns{constructor(i,l,f,y,A){this.key=i,this.value=l,this.color=null!=f?f:Ns.RED,this.left=null!=y?y:Io.EMPTY_NODE,this.right=null!=A?A:Io.EMPTY_NODE}copy(i,l,f,y,A){return new Ns(null!=i?i:this.key,null!=l?l:this.value,null!=f?f:this.color,null!=y?y:this.left,null!=A?A:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||!!i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,l,f){let y=this;const A=f(i,y.key);return y=A<0?y.copy(null,null,null,y.left.insert(i,l,f),null):0===A?y.copy(null,l,null,null,null):y.copy(null,null,null,null,y.right.insert(i,l,f)),y.fixUp_()}removeMin_(){if(this.left.isEmpty())return Io.EMPTY_NODE;let i=this;return!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.removeMin_(),null),i.fixUp_()}remove(i,l){let f,y;if(f=this,l(i,f.key)<0)!f.left.isEmpty()&&!f.left.isRed_()&&!f.left.left.isRed_()&&(f=f.moveRedLeft_()),f=f.copy(null,null,null,f.left.remove(i,l),null);else{if(f.left.isRed_()&&(f=f.rotateRight_()),!f.right.isEmpty()&&!f.right.isRed_()&&!f.right.left.isRed_()&&(f=f.moveRedRight_()),0===l(i,f.key)){if(f.right.isEmpty())return Io.EMPTY_NODE;y=f.right.min_(),f=f.copy(y.key,y.value,null,null,f.right.removeMin_())}f=f.copy(null,null,null,null,f.right.remove(i,l))}return f.fixUp_()}isRed_(){return this.color}fixUp_(){let i=this;return i.right.isRed_()&&!i.left.isRed_()&&(i=i.rotateLeft_()),i.left.isRed_()&&i.left.left.isRed_()&&(i=i.rotateRight_()),i.left.isRed_()&&i.right.isRed_()&&(i=i.colorFlip_()),i}moveRedLeft_(){let i=this.colorFlip_();return i.right.left.isRed_()&&(i=i.copy(null,null,null,null,i.right.rotateRight_()),i=i.rotateLeft_(),i=i.colorFlip_()),i}moveRedRight_(){let i=this.colorFlip_();return i.left.left.isRed_()&&(i=i.rotateRight_(),i=i.colorFlip_()),i}rotateLeft_(){const i=this.copy(null,null,Ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight_(){const i=this.copy(null,null,Ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip_(){const i=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,l)}checkMaxDepth_(){const i=this.check_();return Math.pow(2,i)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const i=this.left.check_();if(i!==this.right.check_())throw new Error("Black depths differ");return i+(this.isRed_()?0:1)}}Ns.RED=!0,Ns.BLACK=!1;class Io{constructor(i,l=Io.EMPTY_NODE){this.comparator_=i,this.root_=l}insert(i,l){return new Io(this.comparator_,this.root_.insert(i,l,this.comparator_).copy(null,null,Ns.BLACK,null,null))}remove(i){return new Io(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Ns.BLACK,null,null))}get(i){let l,f=this.root_;for(;!f.isEmpty();){if(l=this.comparator_(i,f.key),0===l)return f.value;l<0?f=f.left:l>0&&(f=f.right)}return null}getPredecessorKey(i){let l,f=this.root_,y=null;for(;!f.isEmpty();){if(l=this.comparator_(i,f.key),0===l){if(f.left.isEmpty())return y?y.key:null;for(f=f.left;!f.right.isEmpty();)f=f.right;return f.key}l<0?f=f.left:l>0&&(y=f,f=f.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new _c(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,l){return new _c(this.root_,i,this.comparator_,!1,l)}getReverseIteratorFrom(i,l){return new _c(this.root_,i,this.comparator_,!0,l)}getReverseIterator(i){return new _c(this.root_,null,this.comparator_,!0,i)}}function Xu(u,i){return Zs(u.name,i.name)}function xa(u,i){return Zs(u,i)}let Ms;Io.EMPTY_NODE=new class hu{copy(i,l,f,y,A){return this}insert(i,l,f){return new Ns(i,l,null)}remove(i,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ml=function(u){return"number"==typeof u?"number:"+Sc(u):"string:"+u},Qu=function(u){if(u.isLeafNode()){const i=u.val();(0,z.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,z.r3)(i,".sv"),"Priority must be a string or number.")}else(0,z.hu)(u===Ms||u.isEmpty(),"priority of unexpected type.");(0,z.hu)(u===Ms||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ju,_a,yc;class ks{constructor(i,l=ks.__childrenNodeConstructor.EMPTY_NODE){this.value_=i,this.priorityNode_=l,this.lazyHash_=null,(0,z.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Qu(this.priorityNode_)}static set __childrenNodeConstructor(i){Ju=i}static get __childrenNodeConstructor(){return Ju}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(i){return new ks(this.value_,i)}getImmediateChild(i){return".priority"===i?this.priorityNode_:ks.__childrenNodeConstructor.EMPTY_NODE}getChild(i){return ri(i)?this:".priority"===gi(i)?this.priorityNode_:ks.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(i,l){return null}updateImmediateChild(i,l){return".priority"===i?this.updatePriority(l):l.isEmpty()&&".priority"!==i?this:ks.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(i,l).updatePriority(this.priorityNode_)}updateChild(i,l){const f=gi(i);return null===f?l:l.isEmpty()&&".priority"!==f?this:((0,z.hu)(".priority"!==f||1===Ma(i),".priority must be the last token in a path"),this.updateImmediateChild(f,ks.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fi(i),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(i,l){return!1}val(i){return i&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let i="";this.priorityNode_.isEmpty()||(i+="priority:"+Ml(this.priorityNode_.val())+":");const l=typeof this.value_;i+=l+":",i+="number"===l?Sc(this.value_):this.value_,this.lazyHash_=Pn(i)}return this.lazyHash_}getValue(){return this.value_}compareTo(i){return i===ks.__childrenNodeConstructor.EMPTY_NODE?1:i instanceof ks.__childrenNodeConstructor?-1:((0,z.hu)(i.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(i))}compareToLeafNode_(i){const l=typeof i.value_,f=typeof this.value_,y=ks.VALUE_TYPE_ORDER.indexOf(l),A=ks.VALUE_TYPE_ORDER.indexOf(f);return(0,z.hu)(y>=0,"Unknown leaf type: "+l),(0,z.hu)(A>=0,"Unknown leaf type: "+f),y===A?"object"===f?0:this.value_<i.value_?-1:this.value_===i.value_?0:1:A-y}withIndex(){return this}isIndexed(){return!0}equals(i){if(i===this)return!0;if(i.isLeafNode()){const l=i;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}return!1}}ks.VALUE_TYPE_ORDER=["object","boolean","number","string"];const cs=new class af extends rl{compare(i,l){const f=i.node.getPriority(),y=l.node.getPriority(),A=f.compareTo(y);return 0===A?Zs(i.name,l.name):A}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,l){return!i.getPriority().equals(l.getPriority())}minPost(){return mi.MIN}maxPost(){return new mi(ro,new ks("[PRIORITY-POST]",yc))}makePost(i,l){const f=_a(i);return new mi(l,new ks("[PRIORITY-POST]",f))}toString(){return".priority"}},ed=Math.log(2);class Ip{constructor(i){var A;this.count=(A=i+1,parseInt(Math.log(A)/ed,10)),this.current_=this.count-1;const y=(A=>parseInt(Array(A+1).join("1"),2))(this.count);this.bits_=i+1&y}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Pl=function(u,i,l,f){u.sort(i);const y=function(he,We){const wt=We-he;let Pt,Gt;if(0===wt)return null;if(1===wt)return Pt=u[he],Gt=l?l(Pt):Pt,new Ns(Gt,Pt.node,Ns.BLACK,null,null);{const Qn=parseInt(wt/2,10)+he,dr=y(he,Qn),hi=y(Qn+1,We);return Pt=u[Qn],Gt=l?l(Pt):Pt,new Ns(Gt,Pt.node,Ns.BLACK,dr,hi)}},ne=function(he){let We=null,wt=null,Pt=u.length;const Gt=function(dr,hi){const Ei=Pt-dr,Ls=Pt;Pt-=dr;const jo=y(Ei+1,Ls),us=u[Ei],Ks=l?l(us):us;Qn(new Ns(Ks,us.node,hi,null,jo))},Qn=function(dr){We?(We.left=dr,We=dr):(wt=dr,We=dr)};for(let dr=0;dr<he.count;++dr){const hi=he.nextBitIsOne(),Ei=Math.pow(2,he.count-(dr+1));hi?Gt(Ei,Ns.BLACK):(Gt(Ei,Ns.BLACK),Gt(Ei,Ns.RED))}return wt}(new Ip(u.length));return new Io(f||i,ne)};let td;const Na={};class M{constructor(i,l){this.indexes_=i,this.indexSet_=l}static get Default(){return(0,z.hu)(Na&&cs,"ChildrenNode.ts has not been loaded"),td=td||new M({".priority":Na},{".priority":cs}),td}get(i){const l=(0,z.DV)(this.indexes_,i);if(!l)throw new Error("No index defined for "+i);return l instanceof Io?l:null}hasIndex(i){return(0,z.r3)(this.indexSet_,i.toString())}addIndex(i,l){(0,z.hu)(i!==Pa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const f=[];let y=!1;const A=l.getIterator(mi.Wrap);let ne,F=A.getNext();for(;F;)y=y||i.isDefinedOn(F.node),f.push(F),F=A.getNext();ne=y?Pl(f,i.getCompare()):Na;const he=i.toString(),We=Object.assign({},this.indexSet_);We[he]=i;const wt=Object.assign({},this.indexes_);return wt[he]=ne,new M(wt,We)}addToIndexes(i,l){const f=(0,z.UI)(this.indexes_,(y,A)=>{const F=(0,z.DV)(this.indexSet_,A);if((0,z.hu)(F,"Missing index implementation for "+A),y===Na){if(F.isDefinedOn(i.node)){const ne=[],he=l.getIterator(mi.Wrap);let We=he.getNext();for(;We;)We.name!==i.name&&ne.push(We),We=he.getNext();return ne.push(i),Pl(ne,F.getCompare())}return Na}{const ne=l.get(i.name);let he=y;return ne&&(he=he.remove(new mi(i.name,ne))),he.insert(i,i.node)}});return new M(f,this.indexSet_)}removeFromIndexes(i,l){const f=(0,z.UI)(this.indexes_,y=>{if(y===Na)return y;{const A=l.get(i.name);return A?y.remove(new mi(i.name,A)):y}});return new M(f,this.indexSet_)}}let g;class C{constructor(i,l,f){this.children_=i,this.priorityNode_=l,this.indexMap_=f,this.lazyHash_=null,this.priorityNode_&&Qu(this.priorityNode_),this.children_.isEmpty()&&(0,z.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return g||(g=new C(new Io(xa),null,M.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||g}updatePriority(i){return this.children_.isEmpty()?this:new C(this.children_,i,this.indexMap_)}getImmediateChild(i){if(".priority"===i)return this.getPriority();{const l=this.children_.get(i);return null===l?g:l}}getChild(i){const l=gi(i);return null===l?this:this.getImmediateChild(l).getChild(Fi(i))}hasChild(i){return null!==this.children_.get(i)}updateImmediateChild(i,l){if((0,z.hu)(l,"We should always be passing snapshot nodes"),".priority"===i)return this.updatePriority(l);{const f=new mi(i,l);let y,A;l.isEmpty()?(y=this.children_.remove(i),A=this.indexMap_.removeFromIndexes(f,this.children_)):(y=this.children_.insert(i,l),A=this.indexMap_.addToIndexes(f,this.children_));const F=y.isEmpty()?g:this.priorityNode_;return new C(y,F,A)}}updateChild(i,l){const f=gi(i);if(null===f)return l;{(0,z.hu)(".priority"!==gi(i)||1===Ma(i),".priority must be the last token in a path");const y=this.getImmediateChild(f).updateChild(Fi(i),l);return this.updateImmediateChild(f,y)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(i){if(this.isEmpty())return null;const l={};let f=0,y=0,A=!0;if(this.forEachChild(cs,(F,ne)=>{l[F]=ne.val(i),f++,A&&C.INTEGER_REGEXP_.test(F)?y=Math.max(y,Number(F)):A=!1}),!i&&A&&y<2*f){const F=[];for(const ne in l)F[ne]=l[ne];return F}return i&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(null===this.lazyHash_){let i="";this.getPriority().isEmpty()||(i+="priority:"+Ml(this.getPriority().val())+":"),this.forEachChild(cs,(l,f)=>{const y=f.hash();""!==y&&(i+=":"+l+":"+y)}),this.lazyHash_=""===i?"":Pn(i)}return this.lazyHash_}getPredecessorChildName(i,l,f){const y=this.resolveIndex_(f);if(y){const A=y.getPredecessorKey(new mi(i,l));return A?A.name:null}return this.children_.getPredecessorKey(i)}getFirstChildName(i){const l=this.resolveIndex_(i);if(l){const f=l.minKey();return f&&f.name}return this.children_.minKey()}getFirstChild(i){const l=this.getFirstChildName(i);return l?new mi(l,this.children_.get(l)):null}getLastChildName(i){const l=this.resolveIndex_(i);if(l){const f=l.maxKey();return f&&f.name}return this.children_.maxKey()}getLastChild(i){const l=this.getLastChildName(i);return l?new mi(l,this.children_.get(l)):null}forEachChild(i,l){const f=this.resolveIndex_(i);return f?f.inorderTraversal(y=>l(y.name,y.node)):this.children_.inorderTraversal(l)}getIterator(i){return this.getIteratorFrom(i.minPost(),i)}getIteratorFrom(i,l){const f=this.resolveIndex_(l);if(f)return f.getIteratorFrom(i,y=>y);{const y=this.children_.getIteratorFrom(i.name,mi.Wrap);let A=y.peek();for(;null!=A&&l.compare(A,i)<0;)y.getNext(),A=y.peek();return y}}getReverseIterator(i){return this.getReverseIteratorFrom(i.maxPost(),i)}getReverseIteratorFrom(i,l){const f=this.resolveIndex_(l);if(f)return f.getReverseIteratorFrom(i,y=>y);{const y=this.children_.getReverseIteratorFrom(i.name,mi.Wrap);let A=y.peek();for(;null!=A&&l.compare(A,i)>0;)y.getNext(),A=y.peek();return y}}compareTo(i){return this.isEmpty()?i.isEmpty()?0:-1:i.isLeafNode()||i.isEmpty()?1:i===pe?-1:0}withIndex(i){if(i===Pa||this.indexMap_.hasIndex(i))return this;{const l=this.indexMap_.addIndex(i,this.children_);return new C(this.children_,this.priorityNode_,l)}}isIndexed(i){return i===Pa||this.indexMap_.hasIndex(i)}equals(i){if(i===this)return!0;if(i.isLeafNode())return!1;{const l=i;if(this.getPriority().equals(l.getPriority())){if(this.children_.count()===l.children_.count()){const f=this.getIterator(cs),y=l.getIterator(cs);let A=f.getNext(),F=y.getNext();for(;A&&F;){if(A.name!==F.name||!A.node.equals(F.node))return!1;A=f.getNext(),F=y.getNext()}return null===A&&null===F}return!1}return!1}}resolveIndex_(i){return i===Pa?null:this.indexMap_.get(i.toString())}}C.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const pe=new class N extends C{constructor(){super(new Io(xa),C.EMPTY_NODE,M.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return C.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(mi,{MIN:{value:new mi(Wo,C.EMPTY_NODE)},MAX:{value:new mi(ro,pe)}}),Xa.__EMPTY_NODE=C.EMPTY_NODE,ks.__childrenNodeConstructor=C,function Ol(u){Ms=u}(pe),function of(u){yc=u}(pe);function Ft(u,i=null){if(null===u)return C.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(i=u[".priority"]),(0,z.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u){return new ks(u,Ft(i))}if(u instanceof Array){let l=C.EMPTY_NODE;return Xs(u,(f,y)=>{if((0,z.r3)(u,f)&&"."!==f.substring(0,1)){const A=Ft(y);(A.isLeafNode()||!A.isEmpty())&&(l=l.updateImmediateChild(f,A))}}),l.updatePriority(Ft(i))}{const l=[];let f=!1;if(Xs(u,(F,ne)=>{if("."!==F.substring(0,1)){const he=Ft(ne);he.isEmpty()||(f=f||!he.getPriority().isEmpty(),l.push(new mi(F,he)))}}),0===l.length)return C.EMPTY_NODE;const A=Pl(l,Xu,F=>F.name,xa);if(f){const F=Pl(l,cs.getCompare());return new C(A,Ft(i),new M({".priority":F},{".priority":cs}))}return new C(A,Ft(i),M.Default)}}!function sf(u){_a=u}(Ft);class wn extends rl{constructor(i){super(),this.indexPath_=i,(0,z.hu)(!ri(i)&&".priority"!==gi(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,l){const f=this.extractChild(i.node),y=this.extractChild(l.node),A=f.compareTo(y);return 0===A?Zs(i.name,l.name):A}makePost(i,l){const f=Ft(i),y=C.EMPTY_NODE.updateChild(this.indexPath_,f);return new mi(l,y)}maxPost(){const i=C.EMPTY_NODE.updateChild(this.indexPath_,pe);return new mi(ro,i)}toString(){return nl(this.indexPath_,0).join("/")}}const Ur=new class Dr extends rl{compare(i,l){const f=i.node.compareTo(l.node);return 0===f?Zs(i.name,l.name):f}isDefinedOn(i){return!0}indexedValueChanged(i,l){return!i.equals(l)}minPost(){return mi.MIN}maxPost(){return mi.MAX}makePost(i,l){const f=Ft(i);return new mi(l,f)}toString(){return".value"}},br="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nd=function(){let u=0;const i=[];return function(l){const f=l===u;let y;u=l;const A=new Array(8);for(y=7;y>=0;y--)A[y]=br.charAt(l%64),l=Math.floor(l/64);(0,z.hu)(0===l,"Cannot push at time == 0");let F=A.join("");if(f){for(y=11;y>=0&&63===i[y];y--)i[y]=0;i[y]++}else for(y=0;y<12;y++)i[y]=Math.floor(64*Math.random());for(y=0;y<12;y++)F+=br.charAt(i[y]);return(0,z.hu)(20===F.length,"nextPushId: Length should be 20."),F}}(),Fc=function(u){if(u===""+Ya)return"-";const i=Jr(u);if(null!=i)return""+(i+1);const l=new Array(u.length);for(let F=0;F<l.length;F++)l[F]=u.charAt(F);if(l.length<786)return l.push("-"),l.join("");let f=l.length-1;for(;f>=0&&"z"===l[f];)f--;if(-1===f)return ro;const y=l[f],A=br.charAt(br.indexOf(y)+1);return l[f]=A,l.slice(0,f+1).join("")},rd=function(u){if(u===""+Br)return Wo;const i=Jr(u);if(null!=i)return""+(i-1);const l=new Array(u.length);for(let f=0;f<l.length;f++)l[f]=u.charAt(f);return"-"===l[l.length-1]?1===l.length?""+Ya:(delete l[l.length-1],l.join("")):(l[l.length-1]=br.charAt(br.indexOf(l[l.length-1])-1),l.join("")+"z".repeat(786-l.length))};function id(u){return{type:"value",snapshotNode:u}}function ya(u,i){return{type:"child_added",snapshotNode:i,childName:u}}function Bo(u,i){return{type:"child_removed",snapshotNode:i,childName:u}}function Bc(u,i,l){return{type:"child_changed",snapshotNode:i,childName:u,oldSnap:l}}class il{constructor(i){this.index_=i}updateChild(i,l,f,y,A,F){(0,z.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ne=i.getImmediateChild(l);return ne.getChild(y).equals(f.getChild(y))&&ne.isEmpty()===f.isEmpty()||(null!=F&&(f.isEmpty()?i.hasChild(l)?F.trackChildChange(Bo(l,ne)):(0,z.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ne.isEmpty()?F.trackChildChange(ya(l,f)):F.trackChildChange(Bc(l,f,ne))),i.isLeafNode()&&f.isEmpty())?i:i.updateImmediateChild(l,f).withIndex(this.index_)}updateFullNode(i,l,f){return null!=f&&(i.isLeafNode()||i.forEachChild(cs,(y,A)=>{l.hasChild(y)||f.trackChildChange(Bo(y,A))}),l.isLeafNode()||l.forEachChild(cs,(y,A)=>{if(i.hasChild(y)){const F=i.getImmediateChild(y);F.equals(A)||f.trackChildChange(Bc(y,A,F))}else f.trackChildChange(ya(y,A))})),l.withIndex(this.index_)}updatePriority(i,l){return i.isEmpty()?C.EMPTY_NODE:i.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ia{constructor(i){this.indexedFilter_=new il(i.getIndex()),this.index_=i.getIndex(),this.startPost_=ia.getStartPost_(i),this.endPost_=ia.getEndPost_(i)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0}updateChild(i,l,f,y,A,F){return this.matches(new mi(l,f))||(f=C.EMPTY_NODE),this.indexedFilter_.updateChild(i,l,f,y,A,F)}updateFullNode(i,l,f){l.isLeafNode()&&(l=C.EMPTY_NODE);let y=l.withIndex(this.index_);y=y.updatePriority(C.EMPTY_NODE);const A=this;return l.forEachChild(cs,(F,ne)=>{A.matches(new mi(F,ne))||(y=y.updateImmediateChild(F,C.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,y,f)}updatePriority(i,l){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const l=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),l)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const l=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),l)}return i.getIndex().maxPost()}}class zd{constructor(i){this.rangedFilter_=new ia(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}updateChild(i,l,f,y,A,F){return this.rangedFilter_.matches(new mi(l,f))||(f=C.EMPTY_NODE),i.getImmediateChild(l).equals(f)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,l,f,y,A,F):this.fullLimitUpdateChild_(i,l,f,A,F)}updateFullNode(i,l,f){let y;if(l.isLeafNode()||l.isEmpty())y=C.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<l.numChildren()&&l.isIndexed(this.index_)){let A;y=C.EMPTY_NODE.withIndex(this.index_),A=this.reverse_?l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let F=0;for(;A.hasNext()&&F<this.limit_;){const ne=A.getNext();let he;if(he=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),ne)<=0:this.index_.compare(ne,this.rangedFilter_.getEndPost())<=0,!he)break;y=y.updateImmediateChild(ne.name,ne.node),F++}}else{let A,F,ne,he;if(y=l.withIndex(this.index_),y=y.updatePriority(C.EMPTY_NODE),this.reverse_){he=y.getReverseIterator(this.index_),A=this.rangedFilter_.getEndPost(),F=this.rangedFilter_.getStartPost();const Pt=this.index_.getCompare();ne=(Gt,Qn)=>Pt(Qn,Gt)}else he=y.getIterator(this.index_),A=this.rangedFilter_.getStartPost(),F=this.rangedFilter_.getEndPost(),ne=this.index_.getCompare();let We=0,wt=!1;for(;he.hasNext();){const Pt=he.getNext();!wt&&ne(A,Pt)<=0&&(wt=!0),wt&&We<this.limit_&&ne(Pt,F)<=0?We++:y=y.updateImmediateChild(Pt.name,C.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,y,f)}updatePriority(i,l){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,l,f,y,A){let F;if(this.reverse_){const Pt=this.index_.getCompare();F=(Gt,Qn)=>Pt(Qn,Gt)}else F=this.index_.getCompare();const ne=i;(0,z.hu)(ne.numChildren()===this.limit_,"");const he=new mi(l,f),We=this.reverse_?ne.getFirstChild(this.index_):ne.getLastChild(this.index_),wt=this.rangedFilter_.matches(he);if(ne.hasChild(l)){const Pt=ne.getImmediateChild(l);let Gt=y.getChildAfterChild(this.index_,We,this.reverse_);for(;null!=Gt&&(Gt.name===l||ne.hasChild(Gt.name));)Gt=y.getChildAfterChild(this.index_,Gt,this.reverse_);const Qn=null==Gt?1:F(Gt,he);if(wt&&!f.isEmpty()&&Qn>=0)return null!=A&&A.trackChildChange(Bc(l,f,Pt)),ne.updateImmediateChild(l,f);{null!=A&&A.trackChildChange(Bo(l,Pt));const hi=ne.updateImmediateChild(l,C.EMPTY_NODE);return null!=Gt&&this.rangedFilter_.matches(Gt)?(null!=A&&A.trackChildChange(ya(Gt.name,Gt.node)),hi.updateImmediateChild(Gt.name,Gt.node)):hi}}return f.isEmpty()?i:wt&&F(We,he)>=0?(null!=A&&(A.trackChildChange(Bo(We.name,We.node)),A.trackChildChange(ya(l,f))),ne.updateImmediateChild(l,f).updateImmediateChild(We.name,C.EMPTY_NODE)):i}}class sa{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cs}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,z.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,z.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,z.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,z.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ro}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,z.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===cs}copy(){const i=new sa;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Kd(u,i,l){const f=u.copy();return f.startSet_=!0,void 0===i&&(i=null),f.indexStartValue_=i,null!=l?(f.startNameSet_=!0,f.indexStartName_=l):(f.startNameSet_=!1,f.indexStartName_=""),f}function Cp(u,i,l){const f=u.copy();return f.endSet_=!0,void 0===i&&(i=null),f.indexEndValue_=i,void 0!==l?(f.endNameSet_=!0,f.indexEndName_=l):(f.endNameSet_=!1,f.indexEndName_=""),f}function Yd(u,i){const l=u.copy();return l.index_=i,l}function sd(u){const i={};if(u.isDefault())return i;let l;return u.index_===cs?l="$priority":u.index_===Ur?l="$value":u.index_===Pa?l="$key":((0,z.hu)(u.index_ instanceof wn,"Unrecognized index type!"),l=u.index_.toString()),i.orderBy=(0,z.Wl)(l),u.startSet_&&(i.startAt=(0,z.Wl)(u.indexStartValue_),u.startNameSet_&&(i.startAt+=","+(0,z.Wl)(u.indexStartName_))),u.endSet_&&(i.endAt=(0,z.Wl)(u.indexEndValue_),u.endNameSet_&&(i.endAt+=","+(0,z.Wl)(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?i.limitToFirst=u.limit_:i.limitToLast=u.limit_),i}function Bg(u){const i={};if(u.startSet_&&(i.sp=u.indexStartValue_,u.startNameSet_&&(i.sn=u.indexStartName_)),u.endSet_&&(i.ep=u.indexEndValue_,u.endNameSet_&&(i.en=u.indexEndName_)),u.limitSet_){i.l=u.limit_;let l=u.viewFrom_;""===l&&(l=u.isViewFromLeft()?"l":"r"),i.vf=l}return u.index_!==cs&&(i.i=u.index_.toString()),i}class Ja extends qu{constructor(i,l,f,y){super(),this.repoInfo_=i,this.onDataUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=y,this.log_=Qo("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,l){return void 0!==l?"tag$"+l:((0,z.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,l,f,y){const A=i._path.toString();this.log_("Listen called for "+A+" "+i._queryIdentifier);const F=Ja.getListenId_(i,f),ne={};this.listens_[F]=ne;const he=sd(i._queryParams);this.restRequest_(A+".json",he,(We,wt)=>{let Pt=wt;if(404===We&&(Pt=null,We=null),null===We&&this.onDataUpdate_(A,Pt,!1,f),(0,z.DV)(this.listens_,F)===ne){let Gt;Gt=We?401===We?"permission_denied":"rest_error:"+We:"ok",y(Gt,null)}})}unlisten(i,l){const f=Ja.getListenId_(i,l);delete this.listens_[f]}get(i){const l=sd(i._queryParams),f=i._path.toString(),y=new z.BH;return this.restRequest_(f+".json",l,(A,F)=>{let ne=F;404===A&&(ne=null,A=null),null===A?(this.onDataUpdate_(f,ne,!1,null),y.resolve(ne)):y.reject(new Error(ne))}),y.promise}refreshAuthToken(i){}restRequest_(i,l={},f){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([y,A])=>{y&&y.accessToken&&(l.auth=y.accessToken),A&&A.token&&(l.ac=A.token);const F=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,z.xO)(l);this.log_("Sending REST request for "+F);const ne=new XMLHttpRequest;ne.onreadystatechange=()=>{if(f&&4===ne.readyState){this.log_("REST Response for "+F+" received. status:",ne.status,"response:",ne.responseText);let he=null;if(ne.status>=200&&ne.status<300){try{he=(0,z.cI)(ne.responseText)}catch(We){fn("Failed to parse JSON response for "+F+": "+ne.responseText)}f(null,he)}else 401!==ne.status&&404!==ne.status&&fn("Got unsuccessful REST response for "+F+" Status: "+ne.status),f(ne.status);f=null}},ne.open("GET",F,!0),ne.send()})}}class od{constructor(){this.rootNode_=C.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,l){this.rootNode_=this.rootNode_.updateChild(i,l)}}function Uc(){return{value:null,children:new Map}}function fu(u,i,l){if(ri(i))u.value=l,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(i,l);else{const f=gi(i);u.children.has(f)||u.children.set(f,Uc());fu(u.children.get(f),i=Fi(i),l)}}function lf(u,i){if(ri(i))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const l=u.value;return u.value=null,l.forEachChild(cs,(f,y)=>{fu(u,new wi(f),y)}),lf(u,i)}}if(u.children.size>0){const l=gi(i);return i=Fi(i),u.children.has(l)&&lf(u.children.get(l),i)&&u.children.delete(l),0===u.children.size}return!0}function ci(u,i,l){null!==u.value?l(i,u.value):function n_(u,i){u.children.forEach((l,f)=>{i(f,l)})}(u,(f,y)=>{ci(y,new wi(i.toString()+"/"+f),l)})}class qd{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),l=Object.assign({},i);return this.last_&&Xs(this.last_,(f,y)=>{l[f]=l[f]-y}),this.last_=i,l}}class Ug{constructor(i,l){this.server_=l,this.statsToReport_={},this.statsListener_=new qd(i);const f=1e4+2e4*Math.random();Xn(this.reportStats_.bind(this),Math.floor(f))}reportStats_(){const i=this.statsListener_.get(),l={};let f=!1;Xs(i,(y,A)=>{A>0&&(0,z.r3)(this.statsToReport_,y)&&(l[y]=A,f=!0)}),f&&this.server_.reportStats(l),Xn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ea;function Vc(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}!function(u){u[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ea||(Ea={}));class Xd{constructor(i,l,f){this.path=i,this.affectedTree=l,this.revert=f,this.type=Ea.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(ri(this.path)){if(null!=this.affectedTree.value)return(0,z.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new wi(i));return new Xd(vi(),l,this.revert)}}return(0,z.hu)(gi(this.path)===i,"operationForChild called for unrelated child."),new Xd(Fi(this.path),this.affectedTree,this.revert)}}class mu{constructor(i,l){this.source=i,this.path=l,this.type=Ea.LISTEN_COMPLETE}operationForChild(i){return ri(this.path)?new mu(this.source,vi()):new mu(this.source,Fi(this.path))}}class $c{constructor(i,l,f){this.source=i,this.path=l,this.snap=f,this.type=Ea.OVERWRITE}operationForChild(i){return ri(this.path)?new $c(this.source,vi(),this.snap.getImmediateChild(i)):new $c(this.source,Fi(this.path),this.snap)}}class ad{constructor(i,l,f){this.source=i,this.path=l,this.children=f,this.type=Ea.MERGE}operationForChild(i){if(ri(this.path)){const l=this.children.subtree(new wi(i));return l.isEmpty()?null:l.value?new $c(this.source,vi(),l.value):new ad(this.source,vi(),l)}return(0,z.hu)(gi(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new ad(this.source,Fi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ia{constructor(i,l,f){this.node_=i,this.fullyInitialized_=l,this.filtered_=f}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(ri(i))return this.isFullyInitialized()&&!this.filtered_;const l=gi(i);return this.isCompleteForChild(l)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class Qd{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function zs(u,i,l,f,y,A){const F=f.filter(ne=>ne.type===l);F.sort((ne,he)=>function Vg(u,i,l){if(null==i.childName||null==l.childName)throw(0,z.g5)("Should only compare child_ events.");const f=new mi(i.childName,i.snapshotNode),y=new mi(l.childName,l.snapshotNode);return u.index_.compare(f,y)}(u,ne,he)),F.forEach(ne=>{const he=function Jd(u,i,l){return"value"===i.type||"child_removed"===i.type||(i.prevName=l.getPredecessorChildName(i.childName,i.snapshotNode,u.index_)),i}(u,ne,A);y.forEach(We=>{We.respondsTo(ne.type)&&i.push(We.createEvent(he,u.query_))})})}function kl(u,i){return{eventCache:u,serverCache:i}}function oa(u,i,l,f){return kl(new Ia(i,l,f),u.serverCache)}function sl(u,i,l,f){return kl(u.eventCache,new Ia(i,l,f))}function eh(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function vc(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let df;class ls{constructor(i,l=(()=>(df||(df=new Io(Yu)),df))()){this.value=i,this.children=l}static fromObject(i){let l=new ls(null);return Xs(i,(f,y)=>{l=l.set(new wi(f),y)}),l}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,l){if(null!=this.value&&l(this.value))return{path:vi(),value:this.value};if(ri(i))return null;{const f=gi(i),y=this.children.get(f);if(null!==y){const A=y.findRootMostMatchingPathAndValue(Fi(i),l);return null!=A?{path:Zi(new wi(f),A.path),value:A.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(ri(i))return this;{const l=gi(i),f=this.children.get(l);return null!==f?f.subtree(Fi(i)):new ls(null)}}set(i,l){if(ri(i))return new ls(l,this.children);{const f=gi(i),A=(this.children.get(f)||new ls(null)).set(Fi(i),l),F=this.children.insert(f,A);return new ls(this.value,F)}}remove(i){if(ri(i))return this.children.isEmpty()?new ls(null):new ls(null,this.children);{const l=gi(i),f=this.children.get(l);if(f){const y=f.remove(Fi(i));let A;return A=y.isEmpty()?this.children.remove(l):this.children.insert(l,y),null===this.value&&A.isEmpty()?new ls(null):new ls(this.value,A)}return this}}get(i){if(ri(i))return this.value;{const l=gi(i),f=this.children.get(l);return f?f.get(Fi(i)):null}}setTree(i,l){if(ri(i))return l;{const f=gi(i),A=(this.children.get(f)||new ls(null)).setTree(Fi(i),l);let F;return F=A.isEmpty()?this.children.remove(f):this.children.insert(f,A),new ls(this.value,F)}}fold(i){return this.fold_(vi(),i)}fold_(i,l){const f={};return this.children.inorderTraversal((y,A)=>{f[y]=A.fold_(Zi(i,y),l)}),l(i,this.value,f)}findOnPath(i,l){return this.findOnPath_(i,vi(),l)}findOnPath_(i,l,f){const y=!!this.value&&f(l,this.value);if(y)return y;if(ri(i))return null;{const A=gi(i),F=this.children.get(A);return F?F.findOnPath_(Fi(i),Zi(l,A),f):null}}foreachOnPath(i,l){return this.foreachOnPath_(i,vi(),l)}foreachOnPath_(i,l,f){if(ri(i))return this;{this.value&&f(l,this.value);const y=gi(i),A=this.children.get(y);return A?A.foreachOnPath_(Fi(i),Zi(l,y),f):new ls(null)}}foreach(i){this.foreach_(vi(),i)}foreach_(i,l){this.children.inorderTraversal((f,y)=>{y.foreach_(Zi(i,f),l)}),this.value&&l(i,this.value)}foreachChild(i){this.children.inorderTraversal((l,f)=>{f.value&&i(l,f.value)})}}class Ec{constructor(i){this.writeTree_=i}static empty(){return new Ec(new ls(null))}}function cd(u,i,l){if(ri(i))return new Ec(new ls(l));{const f=u.writeTree_.findRootMostValueAndPath(i);if(null!=f){const y=f.path;let A=f.value;const F=js(y,i);return A=A.updateChild(F,l),new Ec(u.writeTree_.set(y,A))}{const y=new ls(l),A=u.writeTree_.setTree(i,y);return new Ec(A)}}}function yu(u,i,l){let f=u;return Xs(l,(y,A)=>{f=cd(f,Zi(i,y),A)}),f}function th(u,i){if(ri(i))return Ec.empty();{const l=u.writeTree_.setTree(i,new ls(null));return new Ec(l)}}function Hg(u,i){return null!=Ll(u,i)}function Ll(u,i){const l=u.writeTree_.findRootMostValueAndPath(i);return null!=l?u.writeTree_.get(l.path).getChild(js(l.path,i)):null}function ol(u){const i=[],l=u.writeTree_.value;return null!=l?l.isLeafNode()||l.forEachChild(cs,(f,y)=>{i.push(new mi(f,y))}):u.writeTree_.children.inorderTraversal((f,y)=>{null!=y.value&&i.push(new mi(f,y.value))}),i}function al(u,i){if(ri(i))return u;{const l=Ll(u,i);return new Ec(null!=l?new ls(l):u.writeTree_.subtree(i))}}function Fl(u){return u.writeTree_.isEmpty()}function ec(u,i){return jg(vi(),u.writeTree_,i)}function jg(u,i,l){if(null!=i.value)return l.updateChild(u,i.value);{let f=null;return i.children.inorderTraversal((y,A)=>{".priority"===y?((0,z.hu)(null!==A.value,"Priority writes must always be leaf nodes"),f=A.value):l=jg(Zi(u,y),A,l)}),!l.getChild(u).isEmpty()&&null!==f&&(l=l.updateChild(Zi(u,".priority"),f)),l}}function Dp(u,i){return Mp(i,u)}function bp(u,i){const l=u.allWrites.findIndex(ne=>ne.writeId===i);(0,z.hu)(l>=0,"removeWrite called with nonexistent writeId.");const f=u.allWrites[l];u.allWrites.splice(l,1);let y=f.visible,A=!1,F=u.allWrites.length-1;for(;y&&F>=0;){const ne=u.allWrites[F];ne.visible&&(F>=l&&Wg(ne,f.path)?y=!1:Eo(f.path,ne.path)&&(A=!0)),F--}if(y){if(A)return function Tp(u){u.visibleWrites=Gg(u.allWrites,Uo,vi()),u.allWrites.length>0?u.lastWriteId=u.allWrites[u.allWrites.length-1].writeId:u.lastWriteId=-1}(u),!0;if(f.snap)u.visibleWrites=th(u.visibleWrites,f.path);else{Xs(f.children,he=>{u.visibleWrites=th(u.visibleWrites,Zi(f.path,he))})}return!0}return!1}function Wg(u,i){if(u.snap)return Eo(u.path,i);for(const l in u.children)if(u.children.hasOwnProperty(l)&&Eo(Zi(u.path,l),i))return!0;return!1}function Uo(u){return u.visible}function Gg(u,i,l){let f=Ec.empty();for(let y=0;y<u.length;++y){const A=u[y];if(i(A)){const F=A.path;let ne;if(A.snap)Eo(l,F)?(ne=js(l,F),f=cd(f,ne,A.snap)):Eo(F,l)&&(ne=js(F,l),f=cd(f,vi(),A.snap.getChild(ne)));else{if(!A.children)throw(0,z.g5)("WriteRecord should have .snap or .children");if(Eo(l,F))ne=js(l,F),f=yu(f,ne,A.children);else if(Eo(F,l))if(ne=js(F,l),ri(ne))f=yu(f,vi(),A.children);else{const he=(0,z.DV)(A.children,gi(ne));if(he){const We=he.getChild(Fi(ne));f=cd(f,vi(),We)}}}}}return f}function Ap(u,i,l,f,y){if(f||y){const A=al(u.visibleWrites,i);if(!y&&Fl(A))return l;if(!y&&null==l&&!Hg(A,vi()))return null;{const F=function(We){return(We.visible||y)&&(!f||!~f.indexOf(We.writeId))&&(Eo(We.path,i)||Eo(i,We.path))};return ec(Gg(u.allWrites,F,i),l||C.EMPTY_NODE)}}{const A=Ll(u.visibleWrites,i);if(null!=A)return A;{const F=al(u.visibleWrites,i);if(Fl(F))return l;if(null==l&&!Hg(F,vi()))return null;return ec(F,l||C.EMPTY_NODE)}}}function Rp(u,i,l,f){return Ap(u.writeTree,u.treePath,i,l,f)}function zg(u,i){return function tc(u,i,l){let f=C.EMPTY_NODE;const y=Ll(u.visibleWrites,i);if(y)return y.isLeafNode()||y.forEachChild(cs,(A,F)=>{f=f.updateImmediateChild(A,F)}),f;if(l){const A=al(u.visibleWrites,i);return l.forEachChild(cs,(F,ne)=>{const he=ec(al(A,new wi(F)),ne);f=f.updateImmediateChild(F,he)}),ol(A).forEach(F=>{f=f.updateImmediateChild(F.name,F.node)}),f}return ol(al(u.visibleWrites,i)).forEach(F=>{f=f.updateImmediateChild(F.name,F.node)}),f}(u.writeTree,u.treePath,i)}function s_(u,i,l,f){return function i_(u,i,l,f,y){(0,z.hu)(f||y,"Either existingEventSnap or existingServerSnap must exist");const A=Zi(i,l);if(Hg(u.visibleWrites,A))return null;{const F=al(u.visibleWrites,A);return Fl(F)?y.getChild(l):ec(F,y.getChild(l))}}(u.writeTree,u.treePath,i,l,f)}function ff(u,i){return function hf(u,i){return Ll(u.visibleWrites,i)}(u.writeTree,Zi(u.treePath,i))}function Kg(u,i,l,f,y,A){return function Y_(u,i,l,f,y,A,F){let ne;const he=al(u.visibleWrites,i),We=Ll(he,vi());if(null!=We)ne=We;else{if(null==l)return[];ne=ec(he,l)}if(ne=ne.withIndex(F),ne.isEmpty()||ne.isLeafNode())return[];{const wt=[],Pt=F.getCompare(),Gt=A?ne.getReverseIteratorFrom(f,F):ne.getIteratorFrom(f,F);let Qn=Gt.getNext();for(;Qn&&wt.length<y;)0!==Pt(Qn,f)&&wt.push(Qn),Qn=Gt.getNext();return wt}}(u.writeTree,u.treePath,i,l,f,y,A)}function nh(u,i,l){return function Sp(u,i,l,f){const y=Zi(i,l),A=Ll(u.visibleWrites,y);if(null!=A)return A;if(f.isCompleteForChild(l))return ec(al(u.visibleWrites,y),f.getNode().getImmediateChild(l));return null}(u.writeTree,u.treePath,i,l)}function Op(u,i){return Mp(Zi(u.treePath,i),u.writeTree)}function Mp(u,i){return{treePath:u,writeTree:i}}class Yg{constructor(){this.changeMap=new Map}trackChildChange(i){const l=i.type,f=i.childName;(0,z.hu)("child_added"===l||"child_changed"===l||"child_removed"===l,"Only child changes supported for tracking"),(0,z.hu)(".priority"!==f,"Only non-priority child changes can be tracked.");const y=this.changeMap.get(f);if(y){const A=y.type;if("child_added"===l&&"child_removed"===A)this.changeMap.set(f,Bc(f,i.snapshotNode,y.snapshotNode));else if("child_removed"===l&&"child_added"===A)this.changeMap.delete(f);else if("child_removed"===l&&"child_changed"===A)this.changeMap.set(f,Bo(f,y.oldSnap));else if("child_changed"===l&&"child_added"===A)this.changeMap.set(f,ya(f,i.snapshotNode));else{if("child_changed"!==l||"child_changed"!==A)throw(0,z.g5)("Illegal combination of changes: "+i+" occurred after "+y);this.changeMap.set(f,Bc(f,i.snapshotNode,y.oldSnap))}}else this.changeMap.set(f,i)}getChanges(){return Array.from(this.changeMap.values())}}const qg=new class Pp{getCompleteChild(i){return null}getChildAfterChild(i,l,f){return null}};class rh{constructor(i,l,f=null){this.writes_=i,this.viewCache_=l,this.optCompleteServerCache_=f}getCompleteChild(i){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(i))return l.getNode().getImmediateChild(i);{const f=null!=this.optCompleteServerCache_?new Ia(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nh(this.writes_,i,f)}}getChildAfterChild(i,l,f){const y=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vc(this.viewCache_),A=Kg(this.writes_,y,l,1,f,i);return 0===A.length?null:A[0]}}function o_(u,i,l,f,y){const A=new Yg;let F,ne;if(l.type===Ea.OVERWRITE){const We=l;We.source.fromUser?F=sh(u,i,We.path,We.snap,f,y,A):((0,z.hu)(We.source.fromServer,"Unknown source."),ne=We.source.tagged||i.serverCache.isFiltered()&&!ri(We.path),F=gf(u,i,We.path,We.snap,f,y,ne,A))}else if(l.type===Ea.MERGE){const We=l;We.source.fromUser?F=function xp(u,i,l,f,y,A,F){let ne=i;return f.foreach((he,We)=>{const wt=Zi(l,he);Co(i,gi(wt))&&(ne=sh(u,ne,wt,We,y,A,F))}),f.foreach((he,We)=>{const wt=Zi(l,he);Co(i,gi(wt))||(ne=sh(u,ne,wt,We,y,A,F))}),ne}(u,i,We.path,We.children,f,y,A):((0,z.hu)(We.source.fromServer,"Unknown source."),ne=We.source.tagged||i.serverCache.isFiltered(),F=oh(u,i,We.path,We.children,f,y,ne,A))}else if(l.type===Ea.ACK_USER_WRITE){const We=l;F=We.revert?function Jg(u,i,l,f,y,A){let F;if(null!=ff(f,l))return i;{const ne=new rh(f,i,y),he=i.eventCache.getNode();let We;if(ri(l)||".priority"===gi(l)){let wt;if(i.serverCache.isFullyInitialized())wt=Rp(f,vc(i));else{const Pt=i.serverCache.getNode();(0,z.hu)(Pt instanceof C,"serverChildren would be complete if leaf node"),wt=zg(f,Pt)}We=u.filter.updateFullNode(he,wt,A)}else{const wt=gi(l);let Pt=nh(f,wt,i.serverCache);null==Pt&&i.serverCache.isCompleteForChild(wt)&&(Pt=he.getImmediateChild(wt)),We=null!=Pt?u.filter.updateChild(he,wt,Pt,Fi(l),ne,A):i.eventCache.getNode().hasChild(wt)?u.filter.updateChild(he,wt,C.EMPTY_NODE,Fi(l),ne,A):he,We.isEmpty()&&i.serverCache.isFullyInitialized()&&(F=Rp(f,vc(i)),F.isLeafNode()&&(We=u.filter.updateFullNode(We,F,A)))}return F=i.serverCache.isFullyInitialized()||null!=ff(f,vi()),oa(i,We,F,u.filter.filtersNodes())}}(u,i,We.path,f,y,A):function Bl(u,i,l,f,y,A,F){if(null!=ff(y,l))return i;const ne=i.serverCache.isFiltered(),he=i.serverCache;if(null!=f.value){if(ri(l)&&he.isFullyInitialized()||he.isCompleteForPath(l))return gf(u,i,l,he.getNode().getChild(l),y,A,ne,F);if(ri(l)){let We=new ls(null);return he.getNode().forEachChild(Pa,(wt,Pt)=>{We=We.set(new wi(wt),Pt)}),oh(u,i,l,We,y,A,ne,F)}return i}{let We=new ls(null);return f.foreach((wt,Pt)=>{const Gt=Zi(l,wt);he.isCompleteForPath(Gt)&&(We=We.set(wt,he.getNode().getChild(Gt)))}),oh(u,i,l,We,y,A,ne,F)}}(u,i,We.path,We.affectedTree,f,y,A)}else{if(l.type!==Ea.LISTEN_COMPLETE)throw(0,z.g5)("Unknown operation type: "+l.type);F=function Qg(u,i,l,f,y){const A=i.serverCache,F=sl(i,A.getNode(),A.isFullyInitialized()||ri(l),A.isFiltered());return pf(u,F,l,f,qg,y)}(u,i,l.path,f,A)}const he=A.getChanges();return function Xg(u,i,l){const f=i.eventCache;if(f.isFullyInitialized()){const y=f.getNode().isLeafNode()||f.getNode().isEmpty(),A=eh(u);(l.length>0||!u.eventCache.isFullyInitialized()||y&&!f.getNode().equals(A)||!f.getNode().getPriority().equals(A.getPriority()))&&l.push(id(eh(i)))}}(i,F,he),{viewCache:F,changes:he}}function pf(u,i,l,f,y,A){const F=i.eventCache;if(null!=ff(f,l))return i;{let ne,he;if(ri(l))if((0,z.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const We=vc(i),Pt=zg(f,We instanceof C?We:C.EMPTY_NODE);ne=u.filter.updateFullNode(i.eventCache.getNode(),Pt,A)}else{const We=Rp(f,vc(i));ne=u.filter.updateFullNode(i.eventCache.getNode(),We,A)}else{const We=gi(l);if(".priority"===We){(0,z.hu)(1===Ma(l),"Can't have a priority with additional path components");const wt=F.getNode();he=i.serverCache.getNode();const Pt=s_(f,l,wt,he);ne=null!=Pt?u.filter.updatePriority(wt,Pt):F.getNode()}else{const wt=Fi(l);let Pt;if(F.isCompleteForChild(We)){he=i.serverCache.getNode();const Gt=s_(f,l,F.getNode(),he);Pt=null!=Gt?F.getNode().getImmediateChild(We).updateChild(wt,Gt):F.getNode().getImmediateChild(We)}else Pt=nh(f,We,i.serverCache);ne=null!=Pt?u.filter.updateChild(F.getNode(),We,Pt,wt,y,A):F.getNode()}}return oa(i,ne,F.isFullyInitialized()||ri(l),u.filter.filtersNodes())}}function gf(u,i,l,f,y,A,F,ne){const he=i.serverCache;let We;const wt=F?u.filter:u.filter.getIndexedFilter();if(ri(l))We=wt.updateFullNode(he.getNode(),f,null);else if(wt.filtersNodes()&&!he.isFiltered()){const Qn=he.getNode().updateChild(l,f);We=wt.updateFullNode(he.getNode(),Qn,null)}else{const Qn=gi(l);if(!he.isCompleteForPath(l)&&Ma(l)>1)return i;const dr=Fi(l),Ei=he.getNode().getImmediateChild(Qn).updateChild(dr,f);We=".priority"===Qn?wt.updatePriority(he.getNode(),Ei):wt.updateChild(he.getNode(),Qn,Ei,dr,qg,null)}const Pt=sl(i,We,he.isFullyInitialized()||ri(l),wt.filtersNodes());return pf(u,Pt,l,y,new rh(y,Pt,A),ne)}function sh(u,i,l,f,y,A,F){const ne=i.eventCache;let he,We;const wt=new rh(y,i,A);if(ri(l))We=u.filter.updateFullNode(i.eventCache.getNode(),f,F),he=oa(i,We,!0,u.filter.filtersNodes());else{const Pt=gi(l);if(".priority"===Pt)We=u.filter.updatePriority(i.eventCache.getNode(),f),he=oa(i,We,ne.isFullyInitialized(),ne.isFiltered());else{const Gt=Fi(l),Qn=ne.getNode().getImmediateChild(Pt);let dr;if(ri(Gt))dr=f;else{const hi=wt.getCompleteChild(Pt);dr=null!=hi?".priority"===kc(Gt)&&hi.getChild(as(Gt)).isEmpty()?hi:hi.updateChild(Gt,f):C.EMPTY_NODE}if(Qn.equals(dr))he=i;else{he=oa(i,u.filter.updateChild(ne.getNode(),Pt,dr,Gt,wt,F),ne.isFullyInitialized(),u.filter.filtersNodes())}}}return he}function Co(u,i){return u.eventCache.isCompleteForChild(i)}function ld(u,i,l){return l.foreach((f,y)=>{i=i.updateChild(f,y)}),i}function oh(u,i,l,f,y,A,F,ne){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let We,he=i;We=ri(l)?f:new ls(null).setTree(l,f);const wt=i.serverCache.getNode();return We.children.inorderTraversal((Pt,Gt)=>{if(wt.hasChild(Pt)){const dr=ld(0,i.serverCache.getNode().getImmediateChild(Pt),Gt);he=gf(u,he,new wi(Pt),dr,y,A,F,ne)}}),We.children.inorderTraversal((Pt,Gt)=>{const Qn=!i.serverCache.isCompleteForChild(Pt)&&null===Gt.value;if(!wt.hasChild(Pt)&&!Qn){const hi=ld(0,i.serverCache.getNode().getImmediateChild(Pt),Gt);he=gf(u,he,new wi(Pt),hi,y,A,F,ne)}}),he}class em{constructor(i,l){this.query_=i,this.eventRegistrations_=[];const f=this.query_._queryParams,y=new il(f.getIndex()),A=function Gs(u){return u.loadsAllData()?new il(u.getIndex()):u.hasLimit()?new zd(u):new ia(u)}(f);this.processor_=function ih(u){return{filter:u}}(A);const F=l.serverCache,ne=l.eventCache,he=y.updateFullNode(C.EMPTY_NODE,F.getNode(),null),We=A.updateFullNode(C.EMPTY_NODE,ne.getNode(),null),wt=new Ia(he,F.isFullyInitialized(),y.filtersNodes()),Pt=new Ia(We,ne.isFullyInitialized(),A.filtersNodes());this.viewCache_=kl(Pt,wt),this.eventGenerator_=new Qd(this.query_)}get query(){return this.query_}}function cl(u,i){const l=vc(u.viewCache_);return l&&(u.query._queryParams.loadsAllData()||!ri(i)&&!l.getImmediateChild(gi(i)).isEmpty())?l.getChild(i):null}function ll(u){return 0===u.eventRegistrations_.length}function Mo(u,i,l){const f=[];if(l){(0,z.hu)(null==i,"A cancel should cancel all event registrations.");const y=u.query._path;u.eventRegistrations_.forEach(A=>{const F=A.createCancelEvent(l,y);F&&f.push(F)})}if(i){let y=[];for(let A=0;A<u.eventRegistrations_.length;++A){const F=u.eventRegistrations_[A];if(F.matches(i)){if(i.hasAnyCallback()){y=y.concat(u.eventRegistrations_.slice(A+1));break}}else y.push(F)}u.eventRegistrations_=y}else u.eventRegistrations_=[];return f}function Ul(u,i,l,f){i.type===Ea.MERGE&&null!==i.source.queryId&&((0,z.hu)(vc(u.viewCache_),"We should always have a full cache before handling merges"),(0,z.hu)(eh(u.viewCache_),"Missing event cache, even though we have a server cache"));const y=u.viewCache_,A=o_(u.processor_,y,i,l,f);return function Zg(u,i){(0,z.hu)(i.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,z.hu)(i.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,A.viewCache),(0,z.hu)(A.viewCache.serverCache.isFullyInitialized()||!y.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=A.viewCache,Np(u,A.changes,A.viewCache.eventCache.getNode(),null)}function Np(u,i,l,f){const y=f?[f]:u.eventRegistrations_;return function _u(u,i,l,f){const y=[],A=[];return i.forEach(F=>{"child_changed"===F.type&&u.index_.indexedValueChanged(F.oldSnap,F.snapshotNode)&&A.push(function xl(u,i){return{type:"child_moved",snapshotNode:i,childName:u}}(F.childName,F.snapshotNode))}),zs(u,y,"child_removed",i,f,l),zs(u,y,"child_added",i,f,l),zs(u,y,"child_moved",A,f,l),zs(u,y,"child_changed",i,f,l),zs(u,y,"value",i,f,l),y}(u.eventGenerator_,i,l,y)}let ah,vf;class kp{constructor(){this.views=new Map}}function Vl(u,i,l,f){const y=i.source.queryId;if(null!==y){const A=u.views.get(y);return(0,z.hu)(null!=A,"SyncTree gave us an op for an invalid query."),Ul(A,i,l,f)}{let A=[];for(const F of u.views.values())A=A.concat(Ul(F,i,l,f));return A}}function $l(u,i,l,f,y){const A=i._queryIdentifier,F=u.views.get(A);if(!F){let ne=Rp(l,y?f:null),he=!1;ne?he=!0:f instanceof C?(ne=zg(l,f),he=!1):(ne=C.EMPTY_NODE,he=!1);const We=kl(new Ia(ne,he,!1),new Ia(f,y,!1));return new em(i,We)}return F}function a_(u,i,l,f,y,A){const F=$l(u,i,f,y,A);return u.views.has(i._queryIdentifier)||u.views.set(i._queryIdentifier,F),function Iu(u,i){u.eventRegistrations_.push(i)}(F,l),function _f(u,i){const l=u.viewCache_.eventCache,f=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(cs,(A,F)=>{f.push(ya(A,F))}),l.isFullyInitialized()&&f.push(id(l.getNode())),Np(u,f,l.getNode(),i)}(F,l)}function nm(u,i,l,f){const y=i._queryIdentifier,A=[];let F=[];const ne=wa(u);if("default"===y)for(const[he,We]of u.views.entries())F=F.concat(Mo(We,l,f)),ll(We)&&(u.views.delete(he),We.query._queryParams.loadsAllData()||A.push(We.query));else{const he=u.views.get(y);he&&(F=F.concat(Mo(he,l,f)),ll(he)&&(u.views.delete(y),he.query._queryParams.loadsAllData()||A.push(he.query)))}return ne&&!wa(u)&&A.push(new(function Lp(){return(0,z.hu)(ah,"Reference.ts has not been loaded"),ah}())(i._repo,i._path)),{removed:A,events:F}}function rm(u){const i=[];for(const l of u.views.values())l.query._queryParams.loadsAllData()||i.push(l);return i}function Hl(u,i){let l=null;for(const f of u.views.values())l=l||cl(f,i);return l}function Cu(u,i){if(i._queryParams.loadsAllData())return Hc(u);{const f=i._queryIdentifier;return u.views.get(f)}}function Ca(u,i){return null!=Cu(u,i)}function wa(u){return null!=Hc(u)}function Hc(u){for(const i of u.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let sm=1;class ul{constructor(i){this.listenProvider_=i,this.syncPointTree_=new ls(null),this.pendingWriteTree_=function q_(){return{visibleWrites:Ec.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ch(u,i,l,f,y){return function vu(u,i,l,f,y){(0,z.hu)(f>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===y&&(y=!0),u.allWrites.push({path:i,snap:l,writeId:f,visible:y}),y&&(u.visibleWrites=cd(u.visibleWrites,i,l)),u.lastWriteId=f}(u.pendingWriteTree_,i,l,f,y),y?La(u,new $c({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,l)):[]}function Ef(u,i,l,f){!function Eu(u,i,l,f){(0,z.hu)(f>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:i,children:l,writeId:f,visible:!0}),u.visibleWrites=yu(u.visibleWrites,i,l),u.lastWriteId=f}(u.pendingWriteTree_,i,l,f);const y=ls.fromObject(l);return La(u,new ad({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,y))}function nc(u,i,l=!1){const f=function r_(u,i){for(let l=0;l<u.allWrites.length;l++){const f=u.allWrites[l];if(f.writeId===i)return f}return null}(u.pendingWriteTree_,i);if(bp(u.pendingWriteTree_,i)){let A=new ls(null);return null!=f.snap?A=A.set(vi(),!0):Xs(f.children,F=>{A=A.set(new wi(F),!0)}),La(u,new Xd(f.path,A,l))}return[]}function dl(u,i,l){return La(u,new $c({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,l))}function Vo(u,i,l,f,y=!1){const A=i._path,F=u.syncPointTree_.get(A);let ne=[];if(F&&("default"===i._queryIdentifier||Ca(F,i))){const he=nm(F,i,l,f);(function yf(u){return 0===u.views.size})(F)&&(u.syncPointTree_=u.syncPointTree_.remove(A));const We=he.removed;if(ne=he.events,!y){const wt=-1!==We.findIndex(Gt=>Gt._queryParams.loadsAllData()),Pt=u.syncPointTree_.findOnPath(A,(Gt,Qn)=>wa(Qn));if(wt&&!Pt){const Gt=u.syncPointTree_.subtree(A);if(!Gt.isEmpty()){const Qn=function c_(u){return u.fold((i,l,f)=>{if(l&&wa(l))return[Hc(l)];{let y=[];return l&&(y=rm(l)),Xs(f,(A,F)=>{y=y.concat(F)}),y}})}(Gt);for(let dr=0;dr<Qn.length;++dr){const hi=Qn[dr],Ei=hi.query,Ls=wf(u,hi);u.listenProvider_.startListening(hd(Ei),jc(u,Ei),Ls.hashFn,Ls.onComplete)}}}!Pt&&We.length>0&&!f&&(wt?u.listenProvider_.stopListening(hd(i),null):We.forEach(Gt=>{const Qn=u.queryToTagMap.get(dh(Gt));u.listenProvider_.stopListening(hd(Gt),Qn)}))}!function Bp(u,i){for(let l=0;l<i.length;++l){const f=i[l];if(!f._queryParams.loadsAllData()){const y=dh(f),A=u.queryToTagMap.get(y);u.queryToTagMap.delete(y),u.tagToQueryMap.delete(A)}}}(u,We)}return ne}function uh(u,i,l,f){const y=Wc(u,f);if(null!=y){const A=Df(y),F=A.path,ne=A.queryId,he=js(F,i);return Fp(u,F,new $c(Vc(ne),he,l))}return[]}function wu(u,i,l,f=!1){const y=i._path;let A=null,F=!1;u.syncPointTree_.foreachOnPath(y,(Gt,Qn)=>{const dr=js(Gt,y);A=A||Hl(Qn,dr),F=F||wa(Qn)});let he,ne=u.syncPointTree_.get(y);ne?(F=F||wa(ne),A=A||Hl(ne,vi())):(ne=new kp,u.syncPointTree_=u.syncPointTree_.set(y,ne)),null!=A?he=!0:(he=!1,A=C.EMPTY_NODE,u.syncPointTree_.subtree(y).foreachChild((Qn,dr)=>{const hi=Hl(dr,vi());hi&&(A=A.updateImmediateChild(Qn,hi))}));const We=Ca(ne,i);if(!We&&!i._queryParams.loadsAllData()){const Gt=dh(i);(0,z.hu)(!u.queryToTagMap.has(Gt),"View does not exist, but we have a tag");const Qn=function hh(){return sm++}();u.queryToTagMap.set(Gt,Qn),u.tagToQueryMap.set(Qn,Gt)}let Pt=a_(ne,i,l,Dp(u.pendingWriteTree_,y),A,he);if(!We&&!F&&!f){const Gt=Cu(ne,i);Pt=Pt.concat(function bf(u,i,l){const f=i._path,y=jc(u,i),A=wf(u,l),F=u.listenProvider_.startListening(hd(i),y,A.hashFn,A.onComplete),ne=u.syncPointTree_.subtree(f);if(y)(0,z.hu)(!wa(ne.value),"If we're adding a query, it shouldn't be shadowed");else{const he=ne.fold((We,wt,Pt)=>{if(!ri(We)&&wt&&wa(wt))return[Hc(wt).query];{let Gt=[];return wt&&(Gt=Gt.concat(rm(wt).map(Qn=>Qn.query))),Xs(Pt,(Qn,dr)=>{Gt=Gt.concat(dr)}),Gt}});for(let We=0;We<he.length;++We){const wt=he[We];u.listenProvider_.stopListening(hd(wt),jc(u,wt))}}return F}(u,i,Gt))}return Pt}function If(u,i,l){const y=u.pendingWriteTree_,A=u.syncPointTree_.findOnPath(i,(F,ne)=>{const We=Hl(ne,js(F,i));if(We)return We});return Ap(y,i,A,l,!0)}function ka(u,i){const l=i._path;let f=null;u.syncPointTree_.foreachOnPath(l,(We,wt)=>{const Pt=js(We,l);f=f||Hl(wt,Pt)});let y=u.syncPointTree_.get(l);y?f=f||Hl(y,vi()):(y=new kp,u.syncPointTree_=u.syncPointTree_.set(l,y));const A=null!=f,F=A?new Ia(f,!0,!1):null;return function ao(u){return eh(u.viewCache_)}($l(y,i,Dp(u.pendingWriteTree_,i._path),A?F.getNode():C.EMPTY_NODE,A))}function La(u,i){return Cf(i,u.syncPointTree_,null,Dp(u.pendingWriteTree_,vi()))}function Cf(u,i,l,f){if(ri(u.path))return jl(u,i,l,f);{const y=i.get(vi());null==l&&null!=y&&(l=Hl(y,vi()));let A=[];const F=gi(u.path),ne=u.operationForChild(F),he=i.children.get(F);if(he&&ne){const We=l?l.getImmediateChild(F):null,wt=Op(f,F);A=A.concat(Cf(ne,he,We,wt))}return y&&(A=A.concat(Vl(y,u,f,l))),A}}function jl(u,i,l,f){const y=i.get(vi());null==l&&null!=y&&(l=Hl(y,vi()));let A=[];return i.children.inorderTraversal((F,ne)=>{const he=l?l.getImmediateChild(F):null,We=Op(f,F),wt=u.operationForChild(F);wt&&(A=A.concat(jl(wt,ne,he,We)))}),y&&(A=A.concat(Vl(y,u,f,l))),A}function wf(u,i){const l=i.query,f=jc(u,l);return{hashFn:()=>(function mf(u){return u.viewCache_.serverCache.getNode()}(i)||C.EMPTY_NODE).hash(),onComplete:y=>{if("ok"===y)return f?function om(u,i,l){const f=Wc(u,l);if(f){const y=Df(f),A=y.path,F=y.queryId,ne=js(A,i);return Fp(u,A,new mu(Vc(F),ne))}return[]}(u,l._path,f):function ud(u,i){return La(u,new mu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(u,l._path);{const A=function au(u,i){let l="Unknown Error";"too_big"===u?l="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?l="Client doesn't have permission to access the desired data.":"unavailable"===u&&(l="The service is unavailable");const f=new Error(u+" at "+i._path.toString()+": "+l);return f.code=u.toUpperCase(),f}(y,l);return Vo(u,l,null,A)}}}}function jc(u,i){const l=dh(i);return u.queryToTagMap.get(l)}function dh(u){return u._path.toString()+"$"+u._queryIdentifier}function Wc(u,i){return u.tagToQueryMap.get(i)}function Df(u){const i=u.indexOf("$");return(0,z.hu)(-1!==i&&i<u.length-1,"Bad queryKey."),{queryId:u.substr(i+1),path:new wi(u.substr(0,i))}}function Fp(u,i,l){const f=u.syncPointTree_.get(i);(0,z.hu)(f,"Missing sync point for query tag that we're tracking");return Vl(f,l,Dp(u.pendingWriteTree_,i),null)}function hd(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function im(){return(0,z.hu)(vf,"Reference.ts has not been loaded"),vf}())(u._repo,u._path):u}class Up{constructor(i){this.node_=i}getImmediateChild(i){const l=this.node_.getImmediateChild(i);return new Up(l)}node(){return this.node_}}class Tf{constructor(i,l){this.syncTree_=i,this.path_=l}getImmediateChild(i){const l=Zi(this.path_,i);return new Tf(this.syncTree_,l)}node(){return If(this.syncTree_,this.path_)}}const Af=function(u,i,l){return u&&"object"==typeof u?((0,z.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?Fa(u[".sv"],i,l):"object"==typeof u[".sv"]?fd(u[".sv"],i):void(0,z.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},Fa=function(u,i,l){if("timestamp"===u)return l.timestamp;(0,z.hu)(!1,"Unexpected server value: "+u)},fd=function(u,i,l){u.hasOwnProperty("increment")||(0,z.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const f=u.increment;"number"!=typeof f&&(0,z.hu)(!1,"Unexpected increment value: "+f);const y=i.node();if((0,z.hu)(null!=y,"Expected ChildrenNode.EMPTY_NODE for nulls"),!y.isLeafNode())return f;const F=y.getValue();return"number"!=typeof F?f:F+f},Sf=function(u,i,l,f){return cm(i,new Tf(l,u),f)},Rf=function(u,i,l){return cm(u,new Up(i),l)};function cm(u,i,l){const f=u.getPriority().val(),y=Af(f,i.getImmediateChild(".priority"),l);let A;if(u.isLeafNode()){const F=u,ne=Af(F.getValue(),i,l);return ne!==F.getValue()||y!==F.getPriority().val()?new ks(ne,Ft(y)):u}{const F=u;return A=F,y!==F.getPriority().val()&&(A=A.updatePriority(new ks(y))),F.forEachChild(cs,(ne,he)=>{const We=cm(he,i.getImmediateChild(ne),l);We!==he&&(A=A.updateImmediateChild(ne,We))}),A}}class Du{constructor(i="",l=null,f={children:{},childCount:0}){this.name=i,this.parent=l,this.node=f}}function Of(u,i){let l=i instanceof wi?i:new wi(i),f=u,y=gi(l);for(;null!==y;){const A=(0,z.DV)(f.node.children,y)||{children:{},childCount:0};f=new Du(y,f,A),l=Fi(l),y=gi(l)}return f}function Wl(u){return u.node.value}function pd(u,i){u.node.value=i,gh(u)}function po(u){return u.node.childCount>0}function fh(u,i){Xs(u.node.children,(l,f)=>{i(new Du(l,u,f))})}function ph(u,i,l,f){l&&!f&&i(u),fh(u,y=>{ph(y,i,!0,f)}),l&&f&&i(u)}function bu(u){return new wi(null===u.parent?u.name:bu(u.parent)+"/"+u.name)}function gh(u){null!==u.parent&&function mh(u,i,l){const f=function Vp(u){return void 0===Wl(u)&&!po(u)}(l),y=(0,z.r3)(u.node.children,i);f&&y?(delete u.node.children[i],u.node.childCount--,gh(u)):!f&&!y&&(u.node.children[i]=l.node,u.node.childCount++,gh(u))}(u.parent,u.name,u)}const $p=/[\[\].#$\/\u0000-\u001F\u007F]/,gd=/[\[\].#$\u0000-\u001F\u007F]/,_h=10485760,Tu=function(u){return"string"==typeof u&&0!==u.length&&!$p.test(u)},md=function(u){return"string"==typeof u&&0!==u.length&&!gd.test(u)},Gl=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!za(u)||u&&"object"==typeof u&&(0,z.r3)(u,".sv")},Da=function(u,i,l,f){f&&void 0===i||Au((0,z.gK)(u,"value"),i,l)},Au=function(u,i,l){const f=l instanceof wi?new Hd(l,u):l;if(void 0===i)throw new Error(u+"contains undefined "+na(f));if("function"==typeof i)throw new Error(u+"contains a function "+na(f)+" with contents = "+i.toString());if(za(i))throw new Error(u+"contains "+i.toString()+" "+na(f));if("string"==typeof i&&i.length>_h/3&&(0,z.ug)(i)>_h)throw new Error(u+"contains a string greater than "+_h+" utf8 bytes "+na(f)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let y=!1,A=!1;if(Xs(i,(F,ne)=>{if(".value"===F)y=!0;else if(".priority"!==F&&".sv"!==F&&(A=!0,!Tu(F)))throw new Error(u+" contains an invalid key ("+F+") "+na(f)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function nf(u,i){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(i),u.byteLength_+=(0,z.ug)(i),fo(u)})(f,F),Au(u,ne,f),function jd(u){const i=u.parts_.pop();u.byteLength_-=(0,z.ug)(i),u.parts_.length>0&&(u.byteLength_-=1)}(f)}),y&&A)throw new Error(u+' contains ".value" child '+na(f)+" in addition to actual children.")}},xf=function(u,i,l,f){if(f&&void 0===i)return;const y=(0,z.gK)(u,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(y+" must be an object containing the children to replace.");const A=[];Xs(i,(F,ne)=>{const he=new wi(F);if(Au(y,ne,Zi(l,he)),".priority"===kc(he)&&!Gl(ne))throw new Error(y+"contains an invalid value for '"+he.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");A.push(he)}),function(u,i){let l,f;for(l=0;l<i.length;l++){f=i[l];const A=nl(f);for(let F=0;F<A.length;F++)if((".priority"!==A[F]||F!==A.length-1)&&!Tu(A[F]))throw new Error(u+"contains an invalid key ("+A[F]+") in path "+f.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(Lg);let y=null;for(l=0;l<i.length;l++){if(f=i[l],null!==y&&Eo(y,f))throw new Error(u+"contains a path "+y.toString()+" that is ancestor of another path "+f.toString());y=f}}(y,A)},Nf=function(u,i,l){if(!l||void 0!==i){if(za(i))throw new Error((0,z.gK)(u,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gl(i))throw new Error((0,z.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},zl=function(u,i,l,f){if(!(f&&void 0===l||Tu(l)))throw new Error((0,z.gK)(u,i)+'was an invalid key = "'+l+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},yh=function(u,i,l,f){if(!(f&&void 0===l||md(l)))throw new Error((0,z.gK)(u,i)+'was an invalid path = "'+l+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Js=function(u,i){if(".info"===gi(i))throw new Error(u+" failed = Can't modify data under /.info/")},Hp=function(u,i){const l=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Tu(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==l.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),md(u)}(l))throw new Error((0,z.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class um{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hl(u,i){let l=null;for(let f=0;f<i.length;f++){const y=i[f],A=y.getPath();null!==l&&!Lc(A,l.path)&&(u.eventLists_.push(l),l=null),null===l&&(l={events:[],path:A}),l.events.push(y)}l&&u.eventLists_.push(l)}function Su(u,i,l){hl(u,l),vh(u,f=>Lc(f,i))}function aa(u,i,l){hl(u,l),vh(u,f=>Eo(f,i)||Eo(i,f))}function vh(u,i){u.recursionDepth_++;let l=!0;for(let f=0;f<u.eventLists_.length;f++){const y=u.eventLists_[f];if(y){i(y.path)?(jp(u.eventLists_[f]),u.eventLists_[f]=null):l=!1}}l&&(u.eventLists_=[]),u.recursionDepth_--}function jp(u){for(let i=0;i<u.events.length;i++){const l=u.events[i];if(null!==l){u.events[i]=null;const f=l.getEventRunner();To&&ar("event: "+l.toString()),yo(f)}}}const Wp="repo_interrupt";class l_{constructor(i,l,f,y){this.repoInfo_=i,this.forceRestClient_=l,this.authTokenProvider_=f,this.appCheckProvider_=y,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new um,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uc(),this.transactionQueueTree_=new Du,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function si(u,i,l){if(u.stats_=ga(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new Ja(u.repoInfo_,(f,y,A,F)=>{kf(u,f,y,A,F)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>zp(u,!0),0);else{if(null!=l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,z.Wl)(l)}catch(f){throw new Error("Invalid authOverride provided: "+f)}}u.persistentConnection_=new Ws(u.repoInfo_,i,(f,y,A,F)=>{kf(u,f,y,A,F)},f=>{zp(u,f)},f=>{!function Kp(u,i){Xs(i,(l,f)=>{Ru(u,l,f)})}(u,f)},u.authTokenProvider_,u.appCheckProvider_,l),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(f=>{u.server_.refreshAuthToken(f)}),u.appCheckProvider_.addTokenChangeListener(f=>{u.server_.refreshAppCheckToken(f.token)}),u.statsReporter_=function Tl(u,i){const l=u.toString();return ta[l]||(ta[l]=i()),ta[l]}(u.repoInfo_,()=>new Ug(u.stats_,u.server_)),u.infoData_=new od,u.infoSyncTree_=new ul({startListening:(f,y,A,F)=>{let ne=[];const he=u.infoData_.getNode(f._path);return he.isEmpty()||(ne=dl(u.infoSyncTree_,f._path,he),setTimeout(()=>{F("ok")},0)),ne},stopListening:()=>{}}),Ru(u,"connected",!1),u.serverSyncTree_=new ul({startListening:(f,y,A,F)=>(u.server_.listen(f,A,y,(ne,he)=>{const We=F(ne,he);aa(u.eventQueue_,f._path,We)}),[]),stopListening:(f,y)=>{u.server_.unlisten(f,y)}})}function Gp(u){const l=u.infoData_.getNode(new wi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+l}function Kl(u){return function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u}({timestamp:Gp(u)})}function kf(u,i,l,f,y){u.dataUpdateCount++;const A=new wi(i);l=u.interceptServerDataCallback_?u.interceptServerDataCallback_(i,l):l;let F=[];if(y)if(f){const he=(0,z.UI)(l,We=>Ft(We));F=function dd(u,i,l,f){const y=Wc(u,f);if(y){const A=Df(y),F=A.path,ne=A.queryId,he=js(F,i),We=ls.fromObject(l);return Fp(u,F,new ad(Vc(ne),he,We))}return[]}(u.serverSyncTree_,A,he,y)}else{const he=Ft(l);F=uh(u.serverSyncTree_,A,he,y)}else if(f){const he=(0,z.UI)(l,We=>Ft(We));F=function lh(u,i,l){const f=ls.fromObject(l);return La(u,new ad({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,f))}(u.serverSyncTree_,A,he)}else{const he=Ft(l);F=dl(u.serverSyncTree_,A,he)}let ne=A;F.length>0&&(ne=Ba(u,A)),aa(u.eventQueue_,ne,F)}function zp(u,i){Ru(u,"connected",i),!1===i&&function qp(u){Gc(u,"onDisconnectEvents");const i=Kl(u),l=Uc();ci(u.onDisconnect_,vi(),(y,A)=>{const F=Sf(y,A,u.serverSyncTree_,i);fu(l,y,F)});let f=[];ci(l,vi(),(y,A)=>{f=f.concat(dl(u.serverSyncTree_,y,A));const F=ql(u,y);Ba(u,F)}),u.onDisconnect_=Uc(),aa(u.eventQueue_,vi(),f)}(u)}function Ru(u,i,l){const f=new wi("/.info/"+i),y=Ft(l);u.infoData_.updateSnapshot(f,y);const A=dl(u.infoSyncTree_,f,y);aa(u.eventQueue_,f,A)}function Yl(u){return u.nextWriteId_++}function Ih(u,i,l,f,y){Gc(u,"set",{path:i.toString(),value:l,priority:f});const A=Kl(u),F=Ft(l,f),ne=If(u.serverSyncTree_,i),he=Rf(F,ne,A),We=Yl(u),wt=ch(u.serverSyncTree_,i,he,We,!0);hl(u.eventQueue_,wt),u.server_.put(i.toString(),F.val(!0),(Gt,Qn)=>{const dr="ok"===Gt;dr||fn("set at "+i+" failed: "+Gt);const hi=nc(u.serverSyncTree_,We,!dr);aa(u.eventQueue_,i,hi),zc(u,y,Gt,Qn)});const Pt=ql(u,i);Ba(u,Pt),aa(u.eventQueue_,Pt,[])}function Zp(u,i,l){u.server_.onDisconnectCancel(i.toString(),(f,y)=>{"ok"===f&&lf(u.onDisconnect_,i),zc(u,l,f,y)})}function Xp(u,i,l,f){const y=Ft(l);u.server_.onDisconnectPut(i.toString(),y.val(!0),(A,F)=>{"ok"===A&&fu(u.onDisconnect_,i,y),zc(u,f,A,F)})}function Ch(u,i,l){let f;f=".info"===gi(i._path)?Vo(u.infoSyncTree_,i,l):Vo(u.serverSyncTree_,i,l),Su(u.eventQueue_,i._path,f)}function Jp(u){u.persistentConnection_&&u.persistentConnection_.interrupt(Wp)}function Gc(u,...i){let l="";u.persistentConnection_&&(l=u.persistentConnection_.id+":"),ar(l,...i)}function zc(u,i,l,f){i&&yo(()=>{if("ok"===l)i(null);else{const y=(l||"error").toUpperCase();let A=y;f&&(A+=": "+f);const F=new Error(A);F.code=y,i(F)}})}function Ff(u,i,l){return If(u.serverSyncTree_,i,l)||C.EMPTY_NODE}function Bf(u,i=u.transactionQueueTree_){if(i||Ou(u,i),Wl(i)){const l=wh(u,i);(0,z.hu)(l.length>0,"Sending zero length transaction queue"),l.every(y=>0===y.status)&&function d_(u,i,l){const f=l.map(We=>We.currentWriteId),y=Ff(u,i,f);let A=y;const F=y.hash();for(let We=0;We<l.length;We++){const wt=l[We];(0,z.hu)(0===wt.status,"tryToSendTransactionQueue_: items in queue should all be run."),wt.status=1,wt.retryCount++;const Pt=js(i,wt.path);A=A.updateChild(Pt,wt.currentOutputSnapshotRaw)}const ne=A.val(!0),he=i;u.server_.put(he.toString(),ne,We=>{Gc(u,"transaction put response",{path:he.toString(),status:We});let wt=[];if("ok"===We){const Pt=[];for(let Gt=0;Gt<l.length;Gt++)l[Gt].status=2,wt=wt.concat(nc(u.serverSyncTree_,l[Gt].currentWriteId)),l[Gt].onComplete&&Pt.push(()=>l[Gt].onComplete(null,!0,l[Gt].currentOutputSnapshotResolved)),l[Gt].unwatcher();Ou(u,Of(u.transactionQueueTree_,i)),Bf(u,u.transactionQueueTree_),aa(u.eventQueue_,i,wt);for(let Gt=0;Gt<Pt.length;Gt++)yo(Pt[Gt])}else{if("datastale"===We)for(let Pt=0;Pt<l.length;Pt++)3===l[Pt].status?l[Pt].status=4:l[Pt].status=0;else{fn("transaction at "+he.toString()+" failed: "+We);for(let Pt=0;Pt<l.length;Pt++)l[Pt].status=4,l[Pt].abortReason=We}Ba(u,i)}},F)}(u,bu(i),l)}else po(i)&&fh(i,l=>{Bf(u,l)})}function Ba(u,i){const l=tg(u,i),f=bu(l);return function eg(u,i,l){if(0===i.length)return;const f=[];let y=[];const F=i.filter(ne=>0===ne.status).map(ne=>ne.currentWriteId);for(let ne=0;ne<i.length;ne++){const he=i[ne],We=js(l,he.path);let Pt,wt=!1;if((0,z.hu)(null!==We,"rerunTransactionsUnderNode_: relativePath should not be null."),4===he.status)wt=!0,Pt=he.abortReason,y=y.concat(nc(u.serverSyncTree_,he.currentWriteId,!0));else if(0===he.status)if(he.retryCount>=25)wt=!0,Pt="maxretry",y=y.concat(nc(u.serverSyncTree_,he.currentWriteId,!0));else{const Gt=Ff(u,he.path,F);he.currentInputSnapshot=Gt;const Qn=i[ne].update(Gt.val());if(void 0!==Qn){Au("transaction failed: Data returned ",Qn,he.path);let dr=Ft(Qn);"object"==typeof Qn&&null!=Qn&&(0,z.r3)(Qn,".priority")||(dr=dr.updatePriority(Gt.getPriority()));const Ei=he.currentWriteId,Ls=Kl(u),jo=Rf(dr,Gt,Ls);he.currentOutputSnapshotRaw=dr,he.currentOutputSnapshotResolved=jo,he.currentWriteId=Yl(u),F.splice(F.indexOf(Ei),1),y=y.concat(ch(u.serverSyncTree_,he.path,jo,he.currentWriteId,he.applyLocally)),y=y.concat(nc(u.serverSyncTree_,Ei,!0))}else wt=!0,Pt="nodata",y=y.concat(nc(u.serverSyncTree_,he.currentWriteId,!0))}aa(u.eventQueue_,l,y),y=[],wt&&(i[ne].status=2,Gt=i[ne].unwatcher,setTimeout(Gt,Math.floor(0)),i[ne].onComplete&&("nodata"===Pt?f.push(()=>i[ne].onComplete(null,!1,i[ne].currentInputSnapshot)):f.push(()=>i[ne].onComplete(new Error(Pt),!1,null))))}var Gt;Ou(u,u.transactionQueueTree_);for(let ne=0;ne<f.length;ne++)yo(f[ne]);Bf(u,u.transactionQueueTree_)}(u,wh(u,l),f),f}function tg(u,i){let l,f=u.transactionQueueTree_;for(l=gi(i);null!==l&&void 0===Wl(f);)f=Of(f,l),l=gi(i=Fi(i));return f}function wh(u,i){const l=[];return _d(u,i,l),l.sort((f,y)=>f.order-y.order),l}function _d(u,i,l){const f=Wl(i);if(f)for(let y=0;y<f.length;y++)l.push(f[y]);fh(i,y=>{_d(u,y,l)})}function Ou(u,i){const l=Wl(i);if(l){let f=0;for(let y=0;y<l.length;y++)2!==l[y].status&&(l[f]=l[y],f++);l.length=f,pd(i,l.length>0?l:void 0)}fh(i,f=>{Ou(u,f)})}function ql(u,i){const l=bu(tg(u,i)),f=Of(u.transactionQueueTree_,i);return function Mf(u,i,l){let f=l?u:u.parent;for(;null!==f;){if(i(f))return!0;f=f.parent}return!1}(f,y=>{Dh(u,y)}),Dh(u,f),ph(f,y=>{Dh(u,y)}),l}function Dh(u,i){const l=Wl(i);if(l){const f=[];let y=[],A=-1;for(let F=0;F<l.length;F++)3===l[F].status||(1===l[F].status?((0,z.hu)(A===F-1,"All SENT items should be at beginning of queue."),A=F,l[F].status=3,l[F].abortReason="set"):((0,z.hu)(0===l[F].status,"Unexpected transaction status in abort"),l[F].unwatcher(),y=y.concat(nc(u.serverSyncTree_,l[F].currentWriteId,!0)),l[F].onComplete&&f.push(l[F].onComplete.bind(null,new Error("set"),!1,null))));-1===A?pd(i,void 0):l.length=A+1,aa(u.eventQueue_,bu(i),y);for(let F=0;F<f.length;F++)yo(f[F])}}const Th=function(u,i){const l=ng(u),f=l.namespace;"firebase.com"===l.domain&&tn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!f||"undefined"===f)&&"localhost"!==l.domain&&tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const y="ws"===l.scheme||"wss"===l.scheme;return{repoInfo:new So(l.host,l.secure,f,y,i,"",f!==l.subdomain),path:new wi(l.pathString)}},ng=function(u){let i="",l="",f="",y="",A="",F=!0,ne="https",he=443;if("string"==typeof u){let We=u.indexOf("//");We>=0&&(ne=u.substring(0,We-1),u=u.substring(We+2));let wt=u.indexOf("/");-1===wt&&(wt=u.length);let Pt=u.indexOf("?");-1===Pt&&(Pt=u.length),i=u.substring(0,Math.min(wt,Pt)),wt<Pt&&(y=function Uf(u){let i="";const l=u.split("/");for(let f=0;f<l.length;f++)if(l[f].length>0){let y=l[f];try{y=decodeURIComponent(y.replace(/\+/g," "))}catch(A){}i+="/"+y}return i}(u.substring(wt,Pt)));const Gt=function bh(u){const i={};"?"===u.charAt(0)&&(u=u.substring(1));for(const l of u.split("&")){if(0===l.length)continue;const f=l.split("=");2===f.length?i[decodeURIComponent(f[0])]=decodeURIComponent(f[1]):fn(`Invalid query segment '${l}' in query '${u}'`)}return i}(u.substring(Math.min(u.length,Pt)));We=i.indexOf(":"),We>=0?(F="https"===ne||"wss"===ne,he=parseInt(i.substring(We+1),10)):We=i.length;const Qn=i.slice(0,We);if("localhost"===Qn.toLowerCase())l="localhost";else if(Qn.split(".").length<=2)l=Qn;else{const dr=i.indexOf(".");f=i.substring(0,dr).toLowerCase(),l=i.substring(dr+1),A=f}"ns"in Gt&&(A=Gt.ns)}return{host:i,port:he,domain:l,subdomain:f,secure:F,scheme:ne,pathString:y,namespace:A}};class Vf{constructor(i,l,f,y){this.eventType=i,this.eventRegistration=l,this.snapshot=f,this.prevName=y}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,z.Wl)(this.snapshot.exportVal())}}class Ah{constructor(i,l,f){this.eventRegistration=i,this.error=l,this.path=f}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class rc{constructor(i,l){this.snapshotCallback=i,this.cancelCallback=l}onValue(i,l){this.snapshotCallback.call(null,i,l)}onCancel(i){return(0,z.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class Sh{constructor(i,l){this._repo=i,this._path=l}cancel(){const i=new z.BH;return Zp(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){Js("OnDisconnect.remove",this._path);const i=new z.BH;return Xp(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){Js("OnDisconnect.set",this._path),Da("OnDisconnect.set",i,this._path,!1);const l=new z.BH;return Xp(this._repo,this._path,i,l.wrapCallback(()=>{})),l.promise}setWithPriority(i,l){Js("OnDisconnect.setWithPriority",this._path),Da("OnDisconnect.setWithPriority",i,this._path,!1),Nf("OnDisconnect.setWithPriority",l,!1);const f=new z.BH;return function ba(u,i,l,f,y){const A=Ft(l,f);u.server_.onDisconnectPut(i.toString(),A.val(!0),(F,ne)=>{"ok"===F&&fu(u.onDisconnect_,i,A),zc(0,y,F,ne)})}(this._repo,this._path,i,l,f.wrapCallback(()=>{})),f.promise}update(i){Js("OnDisconnect.update",this._path),xf("OnDisconnect.update",i,this._path,!1);const l=new z.BH;return function u_(u,i,l,f){if((0,z.xb)(l))return ar("onDisconnect().update() called with empty data.  Don't do anything."),void zc(0,f,"ok",void 0);u.server_.onDisconnectMerge(i.toString(),l,(y,A)=>{"ok"===y&&Xs(l,(F,ne)=>{const he=Ft(ne);fu(u.onDisconnect_,Zi(i,F),he)}),zc(0,f,y,A)})}(this._repo,this._path,i,l.wrapCallback(()=>{})),l.promise}}class Po{constructor(i,l,f,y){this._repo=i,this._path=l,this._queryParams=f,this._orderByCalled=y}get key(){return ri(this._path)?null:kc(this._path)}get ref(){return new $o(this._repo,this._path)}get _queryIdentifier(){const i=Bg(this._queryParams),l=fa(i);return"{}"===l?"default":l}get _queryObject(){return Bg(this._queryParams)}isEqual(i){if(!((i=(0,z.m9)(i))instanceof Po))return!1;const l=this._repo===i._repo,f=Lc(this._path,i._path),y=this._queryIdentifier===i._queryIdentifier;return l&&f&&y}toJSON(){return this.toString()}toString(){return this._repo.toString()+function oo(u){let i="";for(let l=u.pieceNum_;l<u.pieces_.length;l++)""!==u.pieces_[l]&&(i+="/"+encodeURIComponent(String(u.pieces_[l])));return i||"/"}(this._path)}}function Kc(u,i){if(!0===u._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Ua(u){let i=null,l=null;if(u.hasStart()&&(i=u.getIndexStartValue()),u.hasEnd()&&(l=u.getIndexEndValue()),u.getIndex()===Pa){const f="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",y="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==Wo)throw new Error(f);if("string"!=typeof i)throw new Error(y)}if(u.hasEnd()){if(u.getIndexEndName()!==ro)throw new Error(f);if("string"!=typeof l)throw new Error(y)}}else if(u.getIndex()===cs){if(null!=i&&!Gl(i)||null!=l&&!Gl(l))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,z.hu)(u.getIndex()instanceof wn||u.getIndex()===Ur,"unknown index type."),null!=i&&"object"==typeof i||null!=l&&"object"==typeof l)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function yd(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class $o extends Po{constructor(i,l){super(i,l,new sa,!1)}get parent(){const i=as(this._path);return null===i?null:new $o(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class Yc{constructor(i,l,f){this._node=i,this.ref=l,this._index=f}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const l=new wi(i),f=xo(this.ref,i);return new Yc(this._node.getChild(l),f,cs)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(f,y)=>i(new Yc(y,xo(this.ref,f),cs)))}hasChild(i){const l=new wi(i);return!this._node.getChild(l).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function vd(u,i){return(u=(0,z.m9)(u))._checkNotDeleted("ref"),void 0!==i?xo(u._root,i):u._root}function Mu(u,i){(u=(0,z.m9)(u))._checkNotDeleted("refFromURL");const l=Th(i,u._repo.repoInfo_.nodeAdmin);Hp("refFromURL",l);const f=l.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&f.host!==u._repo.repoInfo_.host&&tn("refFromURL: Host name does not match the current database: (found "+f.host+" but expected "+u._repo.repoInfo_.host+")"),vd(u,l.path.toString())}function xo(u,i){return null===gi((u=(0,z.m9)(u))._path)?function(u,i,l,f){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),yh(u,i,l,f)}("child","path",i,!1):yh("child","path",i,!1),new $o(u._repo,Zi(u._path,i))}function Ic(u,i){u=(0,z.m9)(u),Js("set",u._path),Da("set",i,u._path,!1);const l=new z.BH;return Ih(u._repo,u._path,i,null,l.wrapCallback(()=>{})),l.promise}function og(u,i){xf("update",i,u._path,!1);const l=new z.BH;return function Yp(u,i,l,f){Gc(u,"update",{path:i.toString(),value:l});let y=!0;const A=Kl(u),F={};if(Xs(l,(ne,he)=>{y=!1,F[ne]=Sf(Zi(i,ne),Ft(he),u.serverSyncTree_,A)}),y)ar("update() called with empty data.  Don't do anything."),zc(0,f,"ok",void 0);else{const ne=Yl(u),he=Ef(u.serverSyncTree_,i,F,ne);hl(u.eventQueue_,he),u.server_.merge(i.toString(),l,(We,wt)=>{const Pt="ok"===We;Pt||fn("update at "+i+" failed: "+We);const Gt=nc(u.serverSyncTree_,ne,!Pt),Qn=Gt.length>0?Ba(u,i):i;aa(u.eventQueue_,Qn,Gt),zc(0,f,We,wt)}),Xs(l,We=>{const wt=ql(u,Zi(i,We));Ba(u,wt)}),aa(u.eventQueue_,i,[])}}(u._repo,u._path,i,l.wrapCallback(()=>{})),l.promise}function fm(u){u=(0,z.m9)(u);const i=new rc(()=>{}),l=new Id(i);return function Eh(u,i,l){const f=ka(u.serverSyncTree_,i);return null!=f?Promise.resolve(f):u.server_.get(i).then(y=>{const A=Ft(y).withIndex(i._queryParams.getIndex());let F;if(wu(u.serverSyncTree_,i,l,!0),i._queryParams.loadsAllData())F=dl(u.serverSyncTree_,i._path,A);else{const ne=jc(u.serverSyncTree_,i);F=uh(u.serverSyncTree_,i._path,A,ne)}return aa(u.eventQueue_,i._path,F),Vo(u.serverSyncTree_,i,l,null,!0),A},y=>(Gc(u,"get for query "+(0,z.Wl)(i)+" failed: "+y),Promise.reject(new Error(y))))}(u._repo,u,l).then(f=>new Yc(f,new $o(u._repo,u._path),u._queryParams.getIndex()))}class Id{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,l){const f=l._queryParams.getIndex();return new Vf("value",this,new Yc(i.snapshotNode,new $o(l._repo,l._path),f))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,l){return this.callbackContext.hasCancelCallback?new Ah(this,i,l):null}matches(i){return i instanceof Id&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Rh{constructor(i,l){this.eventType=i,this.callbackContext=l}respondsTo(i){let l="children_added"===i?"child_added":i;return l="children_removed"===l?"child_removed":l,this.eventType===l}createCancelEvent(i,l){return this.callbackContext.hasCancelCallback?new Ah(this,i,l):null}createEvent(i,l){(0,z.hu)(null!=i.childName,"Child events should have a childName.");const f=xo(new $o(l._repo,l._path),i.childName),y=l._queryParams.getIndex();return new Vf(i.type,this,new Yc(i.snapshotNode,f,y),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof Rh&&(this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Zl(u,i,l,f,y){let A;if("object"==typeof f&&(A=void 0,y=f),"function"==typeof f&&(A=f),y&&y.onlyOnce){const he=l,We=(wt,Pt)=>{Ch(u._repo,u,ne),he(wt,Pt)};We.userCallback=l.userCallback,We.context=l.context,l=We}const F=new rc(l,A||void 0),ne="value"===i?new Id(F):new Rh(i,F);return function Qp(u,i,l){let f;f=".info"===gi(i._path)?wu(u.infoSyncTree_,i,l):wu(u.serverSyncTree_,i,l),Su(u.eventQueue_,i._path,f)}(u._repo,u,ne),()=>Ch(u._repo,u,ne)}function Xl(u,i,l,f){return Zl(u,"value",i,l,f)}function Hf(u,i,l,f){return Zl(u,"child_added",i,l,f)}function Cd(u,i,l,f){return Zl(u,"child_changed",i,l,f)}function Oh(u,i,l,f){return Zl(u,"child_moved",i,l,f)}function ag(u,i,l,f){return Zl(u,"child_removed",i,l,f)}function jf(u,i,l){let f=null;const y=l?new rc(l):null;"value"===i?f=new Id(y):i&&(f=new Rh(i,y)),Ch(u._repo,u,f)}class Va{}class Pu extends Va{constructor(i,l){super(),this._value=i,this._key=l}_apply(i){Da("endAt",this._value,i._path,!0);const l=Cp(i._queryParams,this._value,this._key);if(yd(l),Ua(l),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Po(i._repo,i._path,l,i._orderByCalled)}}class Wf extends Va{constructor(i,l){super(),this._value=i,this._key=l}_apply(i){Da("endBefore",this._value,i._path,!1);const l=function va(u,i,l){let f,y;return u.index_===Pa?("string"==typeof i&&(i=rd(i)),y=Cp(u,i,l)):(f=null==l?Wo:rd(l),y=Cp(u,i,f)),y.endBeforeSet_=!0,y}(i._queryParams,this._value,this._key);if(yd(l),Ua(l),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Po(i._repo,i._path,l,i._orderByCalled)}}class xu extends Va{constructor(i,l){super(),this._value=i,this._key=l}_apply(i){Da("startAt",this._value,i._path,!0);const l=Kd(i._queryParams,this._value,this._key);if(yd(l),Ua(l),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Po(i._repo,i._path,l,i._orderByCalled)}}class Nu extends Va{constructor(i,l){super(),this._value=i,this._key=l}_apply(i){Da("startAfter",this._value,i._path,!1);const l=function Nl(u,i,l){let f;if(u.index_===Pa)"string"==typeof i&&(i=Fc(i)),f=Kd(u,i,l);else{let y;y=null==l?ro:Fc(l),f=Kd(u,i,y)}return f.startAfterSet_=!0,f}(i._queryParams,this._value,this._key);if(yd(l),Ua(l),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Po(i._repo,i._path,l,i._orderByCalled)}}class f_ extends Va{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Po(i._repo,i._path,function Ui(u,i){const l=u.copy();return l.limitSet_=!0,l.limit_=i,l.viewFrom_="l",l}(i._queryParams,this._limit),i._orderByCalled)}}class gm extends Va{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Po(i._repo,i._path,function cf(u,i){const l=u.copy();return l.limitSet_=!0,l.limit_=i,l.viewFrom_="r",l}(i._queryParams,this._limit),i._orderByCalled)}}class _m extends Va{constructor(i){super(),this._path=i}_apply(i){Kc(i,"orderByChild");const l=new wi(this._path);if(ri(l))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const f=new wn(l),y=Yd(i._queryParams,f);return Ua(y),new Po(i._repo,i._path,y,!0)}}class J_ extends Va{_apply(i){Kc(i,"orderByKey");const l=Yd(i._queryParams,Pa);return Ua(l),new Po(i._repo,i._path,l,!0)}}class vm extends Va{_apply(i){Kc(i,"orderByPriority");const l=Yd(i._queryParams,cs);return Ua(l),new Po(i._repo,i._path,l,!0)}}class p_ extends Va{_apply(i){Kc(i,"orderByValue");const l=Yd(i._queryParams,Ur);return Ua(l),new Po(i._repo,i._path,l,!0)}}class fl extends Va{constructor(i,l){super(),this._value=i,this._key=l}_apply(i){if(Da("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Pu(this._value,this._key)._apply(new xu(this._value,this._key)._apply(i))}}function ic(u,...i){let l=(0,z.m9)(u);for(const f of i)l=f._apply(l);return l}(function tm(u){(0,z.hu)(!ah,"__referenceConstructor has already been defined"),ah=u})($o),function Z_(u){(0,z.hu)(!vf,"__referenceConstructor has already been defined"),vf=u}($o);const xh={};let lg=!1;function Em(u,i,l,f,y){let A=f||u.options.databaseURL;void 0===A&&(u.options.projectId||tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ar("Using default host for project ",u.options.projectId),A=`${u.options.projectId}-default-rtdb.firebaseio.com`);let he,We,F=Th(A,y),ne=F.repoInfo;"undefined"!=typeof process&&process.env&&(We=process.env.FIREBASE_DATABASE_EMULATOR_HOST),We?(he=!0,A=`http://${We}?ns=${ne.namespace}`,F=Th(A,y),ne=F.repoInfo):he=!F.repoInfo.secure;const wt=y&&he?new Qs(Qs.OWNER):new Fo(u.name,u.options,i);Hp("Invalid Firebase Database URL",F),ri(F.path)||tn("Database URL must point to the root of a Firebase Database (not including a child path).");const Pt=function zf(u,i,l,f){let y=xh[i.name];y||(y={},xh[i.name]=y);let A=y[u.toURLString()];return A&&tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),A=new l_(u,lg,l,f),y[u.toURLString()]=A,A}(ne,u,wt,new ea(u.name,l));return new g_(Pt,u)}class g_{constructor(i,l){this._repoInternal=i,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(si(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $o(this._repo,vi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function qc(u,i){const l=xh[i];(!l||l[u.key]!==u)&&tn(`Database ${i}(${u.repoInfo_}) has already been deleted.`),Jp(u),delete l[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&tn("Cannot call "+i+" on a deleted database.")}}function Nh(){Or.IS_TRANSPORT_INITIALIZED&&fn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function m_(){Nh(),ce.forceDisallow()}function hg(){Nh(),Ln.forceDisallow(),ce.forceAllow()}function pl(u,i,l,f={}){(u=(0,z.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&tn("Cannot call useEmulator() after instance has already been initialized.");const y=u._repoInternal;let A;if(y.repoInfo_.nodeAdmin)f.mockUserToken&&tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),A=new Qs(Qs.OWNER);else if(f.mockUserToken){const F="string"==typeof f.mockUserToken?f.mockUserToken:(0,z.Sg)(f.mockUserToken,u.app.options.projectId);A=new Qs(F)}!function ug(u,i,l,f){u.repoInfo_=new So(`${i}:${l}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams),f&&(u.authTokenProvider_=f)}(y,i,l,A)}function wd(u){(u=(0,z.m9)(u))._checkNotDeleted("goOnline"),function Lf(u){u.persistentConnection_&&u.persistentConnection_.resume(Wp)}(u._repo)}function kh(u,i){Ir(u,i)}const Zf={".sv":"timestamp"};class fg{constructor(i,l){this.committed=i,this.snapshot=l}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Xf(u,i,l){var f;if(u=(0,z.m9)(u),Js("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const y=null===(f=null==l?void 0:l.applyLocally)||void 0===f||f,A=new z.BH,ne=Xl(u,()=>{});return function hm(u,i,l,f,y,A){Gc(u,"transaction on "+i);const F={path:i,update:l,onComplete:f,status:null,order:bl(),applyLocally:A,retryCount:0,unwatcher:y,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ne=Ff(u,i,void 0);F.currentInputSnapshot=ne;const he=F.update(ne.val());if(void 0===he)F.unwatcher(),F.currentOutputSnapshotRaw=null,F.currentOutputSnapshotResolved=null,F.onComplete&&F.onComplete(null,!1,F.currentInputSnapshot);else{Au("transaction failed: Data returned ",he,F.path),F.status=0;const We=Of(u.transactionQueueTree_,i),wt=Wl(We)||[];let Pt;wt.push(F),pd(We,wt),"object"==typeof he&&null!==he&&(0,z.r3)(he,".priority")?(Pt=(0,z.DV)(he,".priority"),(0,z.hu)(Gl(Pt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Pt=(If(u.serverSyncTree_,i)||C.EMPTY_NODE).getPriority().val();const Gt=Kl(u),Qn=Ft(he,Pt),dr=Rf(Qn,ne,Gt);F.currentOutputSnapshotRaw=Qn,F.currentOutputSnapshotResolved=dr,F.currentWriteId=Yl(u);const hi=ch(u.serverSyncTree_,i,dr,F.currentWriteId,F.applyLocally);aa(u.eventQueue_,i,hi),Bf(u,u.transactionQueueTree_)}}(u._repo,u._path,i,(he,We,wt)=>{let Pt=null;he?A.reject(he):(Pt=new Yc(wt,new $o(u._repo,u._path),cs),A.resolve(new fg(We,Pt)))},ne,y),A.promise}Ws.prototype.simpleListen=function(u,i){this.sendRequest("q",{p:u},i)},Ws.prototype.echo=function(u,i){this.sendRequest("echo",{d:u},i)};!function qf(u){uc(Mn.SDK_VERSION),(0,Mn._registerComponent)(new Rt.wA("database",(i,{instanceIdentifier:l})=>Em(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),l),"PUBLIC").setMultipleInstances(!0)),(0,Mn.registerVersion)(Vd,ha,u),(0,Mn.registerVersion)(Vd,ha,"esm2017")}();const Jf=new wl.Yd("@firebase/database-compat"),Dm=function(u){const i="FIREBASE WARNING: "+u;Jf.warn(i)};class pg{constructor(i){this._delegate=i}cancel(i){(0,z.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,z.Wj)("OnDisconnect.cancel","onComplete",i,!0);const l=this._delegate.cancel();return i&&l.then(()=>i(null),f=>i(f)),l}remove(i){(0,z.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,z.Wj)("OnDisconnect.remove","onComplete",i,!0);const l=this._delegate.remove();return i&&l.then(()=>i(null),f=>i(f)),l}set(i,l){(0,z.Dv)("OnDisconnect.set",1,2,arguments.length),(0,z.Wj)("OnDisconnect.set","onComplete",l,!0);const f=this._delegate.set(i);return l&&f.then(()=>l(null),y=>l(y)),f}setWithPriority(i,l,f){(0,z.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,z.Wj)("OnDisconnect.setWithPriority","onComplete",f,!0);const y=this._delegate.setWithPriority(i,l);return f&&y.then(()=>f(null),A=>f(A)),y}update(i,l){if((0,z.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const y={};for(let A=0;A<i.length;++A)y[""+A]=i[A];i=y,Dm("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,z.Wj)("OnDisconnect.update","onComplete",l,!0);const f=this._delegate.update(i);return l&&f.then(()=>l(null),y=>l(y)),f}}class $a{constructor(i,l){this.committed=i,this.snapshot=l}toJSON(){return(0,z.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Cc{constructor(i,l){this._database=i,this._delegate=l}val(){return(0,z.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,z.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,z.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,z.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,z.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),yh("DataSnapshot.child","path",i,!1),new Cc(this._database,this._delegate.child(i))}hasChild(i){return(0,z.Dv)("DataSnapshot.hasChild",1,1,arguments.length),yh("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,z.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,z.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,z.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(l=>i(new Cc(this._database,l)))}hasChildren(){return(0,z.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,z.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,z.Dv)("DataSnapshot.ref",0,0,arguments.length),new sc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ho{constructor(i,l){this.database=i,this._delegate=l}on(i,l,f,y){var A;(0,z.Dv)("Query.on",2,4,arguments.length),(0,z.Wj)("Query.on","callback",l,!1);const F=Ho.getCancelAndContextArgs_("Query.on",f,y),ne=(We,wt)=>{l.call(F.context,new Cc(this.database,We),wt)};ne.userCallback=l,ne.context=F.context;const he=null===(A=F.cancel)||void 0===A?void 0:A.bind(F.context);switch(i){case"value":return Xl(this._delegate,ne,he),l;case"child_added":return Hf(this._delegate,ne,he),l;case"child_removed":return ag(this._delegate,ne,he),l;case"child_changed":return Cd(this._delegate,ne,he),l;case"child_moved":return Oh(this._delegate,ne,he),l;default:throw new Error((0,z.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,l,f){if((0,z.Dv)("Query.off",0,3,arguments.length),function(u,i,l){if(!l||void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,z.gK)(u,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",i,!0),(0,z.Wj)("Query.off","callback",l,!0),(0,z.lb)("Query.off","context",f,!0),l){const y=()=>{};y.userCallback=l,y.context=f,jf(this._delegate,i,y)}else jf(this._delegate,i)}get(){return fm(this._delegate).then(i=>new Cc(this.database,i))}once(i,l,f,y){(0,z.Dv)("Query.once",1,4,arguments.length),(0,z.Wj)("Query.once","callback",l,!0);const A=Ho.getCancelAndContextArgs_("Query.once",f,y),F=new z.BH,ne=(We,wt)=>{const Pt=new Cc(this.database,We);l&&l.call(A.context,Pt,wt),F.resolve(Pt)};ne.userCallback=l,ne.context=A.context;const he=We=>{A.cancel&&A.cancel.call(A.context,We),F.reject(We)};switch(i){case"value":Xl(this._delegate,ne,he,{onlyOnce:!0});break;case"child_added":Hf(this._delegate,ne,he,{onlyOnce:!0});break;case"child_removed":ag(this._delegate,ne,he,{onlyOnce:!0});break;case"child_changed":Cd(this._delegate,ne,he,{onlyOnce:!0});break;case"child_moved":Oh(this._delegate,ne,he,{onlyOnce:!0});break;default:throw new Error((0,z.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return F.promise}limitToFirst(i){return(0,z.Dv)("Query.limitToFirst",1,1,arguments.length),new Ho(this.database,ic(this._delegate,function Ph(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new f_(u)}(i)))}limitToLast(i){return(0,z.Dv)("Query.limitToLast",1,1,arguments.length),new Ho(this.database,ic(this._delegate,function mm(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new gm(u)}(i)))}orderByChild(i){return(0,z.Dv)("Query.orderByChild",1,1,arguments.length),new Ho(this.database,ic(this._delegate,function Q_(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return yh("orderByChild","path",u,!1),new _m(u)}(i)))}orderByKey(){return(0,z.Dv)("Query.orderByKey",0,0,arguments.length),new Ho(this.database,ic(this._delegate,function ym(){return new J_}()))}orderByPriority(){return(0,z.Dv)("Query.orderByPriority",0,0,arguments.length),new Ho(this.database,ic(this._delegate,function ey(){return new vm}()))}orderByValue(){return(0,z.Dv)("Query.orderByValue",0,0,arguments.length),new Ho(this.database,ic(this._delegate,function ty(){return new p_}()))}startAt(i=null,l){return(0,z.Dv)("Query.startAt",0,2,arguments.length),new Ho(this.database,ic(this._delegate,function h_(u=null,i){return zl("startAt","key",i,!0),new xu(u,i)}(i,l)))}startAfter(i=null,l){return(0,z.Dv)("Query.startAfter",0,2,arguments.length),new Ho(this.database,ic(this._delegate,function pm(u,i){return zl("startAfter","key",i,!0),new Nu(u,i)}(i,l)))}endAt(i=null,l){return(0,z.Dv)("Query.endAt",0,2,arguments.length),new Ho(this.database,ic(this._delegate,function Ql(u,i){return zl("endAt","key",i,!0),new Pu(u,i)}(i,l)))}endBefore(i=null,l){return(0,z.Dv)("Query.endBefore",0,2,arguments.length),new Ho(this.database,ic(this._delegate,function Mh(u,i){return zl("endBefore","key",i,!0),new Wf(u,i)}(i,l)))}equalTo(i,l){return(0,z.Dv)("Query.equalTo",1,2,arguments.length),new Ho(this.database,ic(this._delegate,function Gf(u,i){return zl("equalTo","key",i,!0),new fl(u,i)}(i,l)))}toString(){return(0,z.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,z.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,z.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof Ho)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,l,f){const y={cancel:void 0,context:void 0};if(l&&f)y.cancel=l,(0,z.Wj)(i,"cancel",y.cancel,!0),y.context=f,(0,z.lb)(i,"context",y.context,!0);else if(l)if("object"==typeof l&&null!==l)y.context=l;else{if("function"!=typeof l)throw new Error((0,z.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");y.cancel=l}return y}get ref(){return new sc(this.database,new $o(this._delegate._repo,this._delegate._path))}}class sc extends Ho{constructor(i,l){super(i,new Po(l._repo,l._path,new sa,!1)),this.database=i,this._delegate=l}getKey(){return(0,z.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,z.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new sc(this.database,xo(this._delegate,i))}getParent(){(0,z.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new sc(this.database,i):null}getRoot(){return(0,z.Dv)("Reference.root",0,0,arguments.length),new sc(this.database,this._delegate.root)}set(i,l){(0,z.Dv)("Reference.set",1,2,arguments.length),(0,z.Wj)("Reference.set","onComplete",l,!0);const f=Ic(this._delegate,i);return l&&f.then(()=>l(null),y=>l(y)),f}update(i,l){if((0,z.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const y={};for(let A=0;A<i.length;++A)y[""+A]=i[A];i=y,Dm("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Js("Reference.update",this._delegate._path),(0,z.Wj)("Reference.update","onComplete",l,!0);const f=og(this._delegate,i);return l&&f.then(()=>l(null),y=>l(y)),f}setWithPriority(i,l,f){(0,z.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,z.Wj)("Reference.setWithPriority","onComplete",f,!0);const y=function sg(u,i,l){if(Js("setWithPriority",u._path),Da("setWithPriority",i,u._path,!1),Nf("setWithPriority",l,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const f=new z.BH;return Ih(u._repo,u._path,i,l,f.wrapCallback(()=>{})),f.promise}(this._delegate,i,l);return f&&y.then(()=>f(null),A=>f(A)),y}remove(i){(0,z.Dv)("Reference.remove",0,1,arguments.length),(0,z.Wj)("Reference.remove","onComplete",i,!0);const l=function ig(u){return Js("remove",u._path),Ic(u,null)}(this._delegate);return i&&l.then(()=>i(null),f=>i(f)),l}transaction(i,l,f){(0,z.Dv)("Reference.transaction",1,3,arguments.length),(0,z.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,z.Wj)("Reference.transaction","onComplete",l,!0),function(u,i,l,f){if((!f||void 0!==l)&&"boolean"!=typeof l)throw new Error((0,z.gK)(u,i)+"must be a boolean.")}("Reference.transaction","applyLocally",f,!0);const y=Xf(this._delegate,i,{applyLocally:f}).then(A=>new $a(A.committed,new Cc(this.database,A.snapshot)));return l&&y.then(A=>l(null,A.committed,A.snapshot),A=>l(A,!1,null)),y}setPriority(i,l){(0,z.Dv)("Reference.setPriority",1,2,arguments.length),(0,z.Wj)("Reference.setPriority","onComplete",l,!0);const f=function $f(u,i){u=(0,z.m9)(u),Js("setPriority",u._path),Nf("setPriority",i,!1);const l=new z.BH;return Ih(u._repo,Zi(u._path,".priority"),i,null,l.wrapCallback(()=>{})),l.promise}(this._delegate,i);return l&&f.then(()=>l(null),y=>l(y)),f}push(i,l){(0,z.Dv)("Reference.push",0,2,arguments.length),(0,z.Wj)("Reference.push","onComplete",l,!0);const f=function rg(u,i){u=(0,z.m9)(u),Js("push",u._path),Da("push",i,u._path,!0);const l=Gp(u._repo),f=nd(l),y=xo(u,f),A=xo(u,f);let F;return F=null!=i?Ic(A,i).then(()=>A):Promise.resolve(A),y.then=F.then.bind(F),y.catch=F.then.bind(F,void 0),y}(this._delegate,i),y=f.then(F=>new sc(this.database,F));l&&y.then(()=>l(null),F=>l(F));const A=new sc(this.database,f);return A.then=y.then.bind(y),A.catch=y.catch.bind(y,void 0),A}onDisconnect(){return Js("Reference.onDisconnect",this._delegate._path),new pg(new Sh(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ku{constructor(i,l){this._delegate=i,this.app=l,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:m_,forceLongPolling:hg}}useEmulator(i,l,f={}){pl(this._delegate,i,l,f)}ref(i){if((0,z.Dv)("database.ref",0,1,arguments.length),i instanceof sc){const l=Mu(this._delegate,i.toString());return new sc(this,l)}{const l=vd(this._delegate,i);return new sc(this,l)}}refFromURL(i){(0,z.Dv)("database.refFromURL",1,1,arguments.length);const f=Mu(this._delegate,i);return new sc(this,f)}goOffline(){return(0,z.Dv)("database.goOffline",0,0,arguments.length),function Yf(u){(u=(0,z.m9)(u))._checkNotDeleted("goOffline"),Jp(u._repo)}(this._delegate)}goOnline(){return(0,z.Dv)("database.goOnline",0,0,arguments.length),wd(this._delegate)}}ku.ServerValue={TIMESTAMP:function Im(){return Zf}(),increment:u=>function Lh(u){return{".sv":{increment:u}}}(u)};var tp=Object.freeze({__proto__:null,initStandalone:function gg({app:u,url:i,version:l,customAuthImpl:f,namespace:y,nodeAdmin:A=!1}){uc(l);const F=new Rt.zt("auth-internal",new Rt.H0("database-standalone"));return F.setComponent(new Rt.wA("auth-internal",()=>f,"PRIVATE")),{instance:new ku(Em(u,F,void 0,i,A),u),namespace:y}}});const __=ku.ServerValue;function _g(u){return null==u}function Bh(u){return"function"==typeof u.set}function yg(u,i){return Bh(i)?i:u.ref(i)}function bm(u,i){if(function y_(u){return"string"==typeof u}(u))return i.stringCase();if(Bh(u))return i.firebaseCase();if(function np(u){return"function"==typeof u.exportVal}(u))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function Dd(u,i,l="on",f=Oi.z){return new le.y(y=>{let A=null;return A=u[l](i,(F,ne)=>{f.schedule(()=>{y.next({snapshot:F,prevKey:ne})}),"once"===l&&f.schedule(()=>y.complete())},F=>{f.schedule(()=>y.error(F))}),"on"===l?{unsubscribe(){null!=A&&u.off(i,A)}}:{unsubscribe(){}}}).pipe((0,qt.U)(y=>{const{snapshot:A,prevKey:F}=y;let ne=null;return A.exists()&&(ne=A.key),{type:i,payload:A,prevKey:F,key:ne}}),(0,Lo.B)())}function Tm(u,i){const l=u.length;for(let f=0;f<l;f++)if(u[f].payload.key===i)return f;return-1}function Uh(u,i){const{payload:l,prevKey:f,key:y}=i,A=Tm(u,y),F=function oc(u,i){if(_g(i))return 0;{const l=Tm(u,i);return-1===l?u.length:l+1}}(u,f);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let ne=null;i.payload.forEach(he=>{const We={payload:he,type:"value",prevKey:ne,key:he.key};return ne=he.key,u=[...u,We],!1})}return u;case"child_added":if(A>-1){const ne=u[A-1];(ne&&ne.key||null)!==f&&(u=u.filter(he=>he.payload.key!==l.key)).splice(F,0,i)}else{if(null==f)return[i,...u];(u=u.slice()).splice(F,0,i)}return u;case"child_removed":return u.filter(ne=>ne.payload.key!==l.key);case"child_changed":return u.map(ne=>ne.payload.key===y?i:ne);case"child_moved":if(A>-1){const ne=u.splice(A,1)[0];return(u=u.slice()).splice(F,0,ne),u}return u;default:return u}}function ip(u){return(_g(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function Am(u,i,l){return function rp(u,i,l){return Dd(u,"value","once",l).pipe((0,an.w)(f=>{const y=[(0,lt.of)(f)];return i.forEach(A=>y.push(Dd(u,A,"on",l))),(0,xi.T)(...y).pipe((0,mo.R)(Uh,[]))}),(0,la.x)())}(u,i=ip(i),l)}function Sm(u,i,l){const f=(i=ip(i)).map(y=>Dd(u,y,"on",l));return(0,xi.T)(...f)}function vg(u,i,l){return function Eg(u,i,l){return function v_(u,i){return Dd(u,"value","on",i).pipe((0,qt.U)(l=>{let f;return l.payload.forEach(y=>(f=y.key,!1)),{data:l,lastKeyToLoad:f}}))}(u,l).pipe(function ou(...u){const i=(0,da.jO)(u);return(0,Zo.e)((l,f)=>{const y=u.length,A=new Array(y);let F=u.map(()=>!1),ne=!1;for(let he=0;he<y;he++)(0,Ji.Xf)(u[he]).subscribe((0,Ps.x)(f,We=>{A[he]=We,!ne&&!F[he]&&(F[he]=!0,(ne=F.every(ua.y))&&(F=null))},Ku.Z));l.subscribe((0,Ps.x)(f,he=>{if(ne){const We=[he,...A];f.next(i?i(...We):We)}}))})}(i),(0,qt.U)(([y,A])=>{const F=y.lastKeyToLoad,ne=A.map(he=>he.key);return{actions:A,lastKeyToLoad:F,loadedKeys:ne}}),function Ud(u){return(0,Zo.e)((i,l)=>{let f=!1,y=0;i.subscribe((0,Ps.x)(l,A=>(f||(f=!u(A,y++)))&&l.next(A)))})}(y=>-1===y.loadedKeys.indexOf(y.lastKeyToLoad)),(0,qt.U)(y=>y.actions))}(u,Sm(u,i).pipe((0,mo.R)((y,A)=>[...y,A],[])),l)}function sp(u,i){return function(f,y){return bm(f,{stringCase:()=>u.child(f)[i](y),firebaseCase:()=>f[i](y),snapshotCase:()=>f.ref[i](y)})}}function op(u){return function(l){return l?bm(l,{stringCase:()=>u.child(l).remove(),firebaseCase:()=>l.remove(),snapshotCase:()=>l.ref.remove()}):u.remove()}}function Ig(u,i){return function(){return Dd(u,"value","on",i)}}!function mg(u){u.INTERNAL.registerComponent(new Rt.wA("database-compat",(i,{instanceIdentifier:l})=>{const f=i.getProvider("app-compat").getImmediate(),y=i.getProvider("database").getImmediate({identifier:l});return new ku(y,f)},"PUBLIC").setServiceProps({Reference:sc,Query:Ho,Database:ku,DataSnapshot:Cc,enableLogging:kh,INTERNAL:tp,ServerValue:__}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.2.10")}(tr.Z);const Ri=new B.OlP("angularfire2.realtimeDatabaseURL"),Vh=new B.OlP("angularfire2.database.use-emulator");class bd{constructor(i,l,f,y,A,F,ne,he,We,wt,Pt,Gt,Qn,dr,hi){this.schedulers=F;const Ei=ne,Ls=(0,Ye.on)(i,A,l);he&&(0,it.nw)(Ls,A,We,Pt,Gt,Qn,wt,dr),this.database=(0,Ye.cc)(`${Ls.name}.database.${f}`,"AngularFireDatabase",Ls.name,()=>{const jo=A.runOutsideAngular(()=>Ls.database(f||void 0));return Ei&&jo.useEmulator(...Ei),jo},[Ei])}list(i,l){const f=this.schedulers.ngZone.runOutsideAngular(()=>yg(this.database,i));let y=f;return l&&(y=l(f)),function Rm(u,i){const l=i.schedulers.outsideAngular,f=i.schedulers.ngZone.run(()=>u.ref);return{query:u,update:sp(f,"update"),set:sp(f,"set"),push:y=>f.push(y),remove:op(f),snapshotChanges:y=>Am(u,y,l).pipe(ir.iC),stateChanges:y=>Sm(u,y,l).pipe(ir.iC),auditTrail:y=>vg(u,y,l).pipe(ir.iC),valueChanges:(y,A)=>Am(u,y,l).pipe((0,qt.U)(ne=>ne.map(he=>A&&A.idField?Object.assign(Object.assign({},he.payload.val()),{[A.idField]:he.key}):he.payload.val())),ir.iC)}}(y,this)}object(i){return function Lu(u,i){return{query:u,snapshotChanges:()=>Ig(u,i.schedulers.outsideAngular)().pipe(ir.iC),update:l=>u.ref.update(l),set:l=>u.ref.set(l),remove:()=>u.ref.remove(),valueChanges:()=>Ig(u,i.schedulers.outsideAngular)().pipe(ir.iC,(0,qt.U)(f=>f.payload.exists()?f.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>yg(this.database,i)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}bd.\u0275fac=function(i){return new(i||bd)(B.LFG(Ye.Dh),B.LFG(Ye.xv,8),B.LFG(Ri,8),B.LFG(B.Lbi),B.LFG(B.R0b),B.LFG(ir.HU),B.LFG(Vh,8),B.LFG(it.zQ,8),B.LFG(it.Qv,8),B.LFG(it.L6,8),B.LFG(it._Q,8),B.LFG(it.rT,8),B.LFG(it.lh,8),B.LFG(it.f7,8),B.LFG(Ga.nm,8))},bd.\u0275prov=B.Yz7({token:bd,factory:bd.\u0275fac,providedIn:"any"});class gl{constructor(){V.Z.registerVersion("angularfire",ir.q4.full,"rtdb-compat")}}gl.\u0275fac=function(i){return new(i||gl)},gl.\u0275mod=B.oAB({type:gl}),gl.\u0275inj=B.cJS({providers:[bd]});var Fu=R(7556);class Jl{constructor(i,l){this._router=i,this.auth=l}canActivate(i,l){return!this.auth.isLoggedIn||(this._router.navigate(["/tabs"]),!1)}}Jl.\u0275fac=function(i){return new(i||Jl)(B.LFG($.F0),B.LFG(Fu.$))},Jl.\u0275prov=B.Yz7({token:Jl,factory:Jl.\u0275fac,providedIn:"root"});var ms=R(3352);class eo{constructor(i,l,f){this._router=i,this.auth=l,this.dataService=f}canActivate(i,l){return!0}}eo.\u0275fac=function(i){return new(i||eo)(B.LFG($.F0),B.LFG(Fu.$),B.LFG(ms.W))},eo.\u0275prov=B.Yz7({token:eo,factory:eo.\u0275fac,providedIn:"root"});const wc=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"tabs",canActivate:[eo],loadChildren:()=>R.e(5652).then(R.bind(R,5652)).then(u=>u.TabsPageModule)},{path:"chat-detail/:id",loadChildren:()=>R.e(1310).then(R.bind(R,1310)).then(u=>u.ChatDetailPageModule)},{path:"login",canActivate:[Jl],loadChildren:()=>Promise.all([R.e(8592),R.e(6929)]).then(R.bind(R,6929)).then(u=>u.LoginPageModule)},{path:"register",loadChildren:()=>Promise.all([R.e(8592),R.e(9)]).then(R.bind(R,9)).then(u=>u.RegisterPageModule)},{path:"**",pathMatch:"full",redirectTo:"login"}];class ml{}ml.\u0275fac=function(i){return new(i||ml)},ml.\u0275mod=B.oAB({type:ml}),ml.\u0275inj=B.cJS({imports:[$.Bz.forRoot(wc,{preloadingStrategy:$.wm}),$.Bz]});var Dc=R(6549);const eu=(0,Dc.fo)("App",{web:()=>R.e(731).then(R.bind(R,731)).then(u=>new u.AppWeb)});var Td,_l;!function(u){u.Dark="DARK",u.Light="LIGHT",u.Default="DEFAULT"}(Td||(Td={})),function(u){u.Body="body",u.Ionic="ionic",u.Native="native",u.None="none"}(_l||(_l={}));const Cg=(0,Dc.fo)("Keyboard"),bc=(0,Dc.fo)("PushNotifications",{});var Ad=R(6987),E_=function(u){function i(){var l=null!==u&&u.apply(this,arguments)||this;return l.PERMISSION={ACCESS_CHECKIN_PROPERTIES:"android.permission.ACCESS_CHECKIN_PROPERTIES",ACCESS_COARSE_LOCATION:"android.permission.ACCESS_COARSE_LOCATION",ACCESS_FINE_LOCATION:"android.permission.ACCESS_FINE_LOCATION",ACCESS_LOCATION_EXTRA_COMMANDS:"android.permission.ACCESS_LOCATION_EXTRA_COMMANDS",ACCESS_MOCK_LOCATION:"android.permission.ACCESS_MOCK_LOCATION",ACCESS_NETWORK_STATE:"android.permission.ACCESS_NETWORK_STATE",ACCESS_SURFACE_FLINGER:"android.permission.ACCESS_SURFACE_FLINGER",ACCESS_WIFI_STATE:"android.permission.ACCESS_WIFI_STATE",ACCOUNT_MANAGER:"android.permission.ACCOUNT_MANAGER",ADD_VOICEMAIL:"com.android.voicemail.permission.ADD_VOICEMAIL",AUTHENTICATE_ACCOUNTS:"android.permission.AUTHENTICATE_ACCOUNTS",BATTERY_STATS:"android.permission.BATTERY_STATS",BIND_ACCESSIBILITY_SERVICE:"android.permission.BIND_ACCESSIBILITY_SERVICE",BIND_APPWIDGET:"android.permission.BIND_APPWIDGET",BIND_CARRIER_MESSAGING_SERVICE:"android.permission.BIND_CARRIER_MESSAGING_SERVICE",BIND_DEVICE_ADMIN:"android.permission.BIND_DEVICE_ADMIN",BIND_DREAM_SERVICE:"android.permission.BIND_DREAM_SERVICE",BIND_INPUT_METHOD:"android.permission.BIND_INPUT_METHOD",BIND_NFC_SERVICE:"android.permission.BIND_NFC_SERVICE",BIND_NOTIFICATION_LISTENER_SERVICE:"android.permission.BIND_NOTIFICATION_LISTENER_SERVICE",BIND_PRINT_SERVICE:"android.permission.BIND_PRINT_SERVICE",BIND_REMOTEVIEWS:"android.permission.BIND_REMOTEVIEWS",BIND_TEXT_SERVICE:"android.permission.BIND_TEXT_SERVICE",BIND_TV_INPUT:"android.permission.BIND_TV_INPUT",BIND_VOICE_INTERACTION:"android.permission.BIND_VOICE_INTERACTION",BIND_VPN_SERVICE:"android.permission.BIND_VPN_SERVICE",BIND_WALLPAPER:"android.permission.BIND_WALLPAPER",BLUETOOTH:"android.permission.BLUETOOTH",BLUETOOTH_ADMIN:"android.permission.BLUETOOTH_ADMIN",BLUETOOTH_ADVERTISE:"android.permission.BLUETOOTH_ADVERTISE",BLUETOOTH_CONNECT:"android.permission.BLUETOOTH_CONNECT",BLUETOOTH_PRIVILEGED:"android.permission.BLUETOOTH_PRIVILEGED",BLUETOOTH_SCAN:"android.permission.BLUETOOTH_SCAN",BODY_SENSORS:"android.permission.BODY_SENSORS",BRICK:"android.permission.BRICK",BROADCAST_PACKAGE_REMOVED:"android.permission.BROADCAST_PACKAGE_REMOVED",BROADCAST_SMS:"android.permission.BROADCAST_SMS",BROADCAST_STICKY:"android.permission.BROADCAST_STICKY",BROADCAST_WAP_PUSH:"android.permission.BROADCAST_WAP_PUSH",CALL_PHONE:"android.permission.CALL_PHONE",CALL_PRIVILEGED:"android.permission.CALL_PRIVILEGED",CAMERA:"android.permission.CAMERA",CAPTURE_AUDIO_OUTPUT:"android.permission.CAPTURE_AUDIO_OUTPUT",CAPTURE_SECURE_VIDEO_OUTPUT:"android.permission.CAPTURE_SECURE_VIDEO_OUTPUT",CAPTURE_VIDEO_OUTPUT:"android.permission.CAPTURE_VIDEO_OUTPUT",CHANGE_COMPONENT_ENABLED_STATE:"android.permission.CHANGE_COMPONENT_ENABLED_STATE",CHANGE_CONFIGURATION:"android.permission.CHANGE_CONFIGURATION",CHANGE_NETWORK_STATE:"android.permission.CHANGE_NETWORK_STATE",CHANGE_WIFI_MULTICAST_STATE:"android.permission.CHANGE_WIFI_MULTICAST_STATE",CHANGE_WIFI_STATE:"android.permission.CHANGE_WIFI_STATE",CLEAR_APP_CACHE:"android.permission.CLEAR_APP_CACHE",CLEAR_APP_USER_DATA:"android.permission.CLEAR_APP_USER_DATA",CONTROL_LOCATION_UPDATES:"android.permission.CONTROL_LOCATION_UPDATES",DELETE_CACHE_FILES:"android.permission.DELETE_CACHE_FILES",DELETE_PACKAGES:"android.permission.DELETE_PACKAGES",DEVICE_POWER:"android.permission.DEVICE_POWER",DIAGNOSTIC:"android.permission.DIAGNOSTIC",DISABLE_KEYGUARD:"android.permission.DISABLE_KEYGUARD",DUMP:"android.permission.DUMP",EXPAND_STATUS_BAR:"android.permission.EXPAND_STATUS_BAR",FACTORY_TEST:"android.permission.FACTORY_TEST",FLASHLIGHT:"android.permission.FLASHLIGHT",FORCE_BACK:"android.permission.FORCE_BACK",GET_ACCOUNTS:"android.permission.GET_ACCOUNTS",GET_PACKAGE_SIZE:"android.permission.GET_PACKAGE_SIZE",GET_TASKS:"android.permission.GET_TASKS",GET_TOP_ACTIVITY_INFO:"android.permission.GET_TOP_ACTIVITY_INFO",GLOBAL_SEARCH:"android.permission.GLOBAL_SEARCH",HARDWARE_TEST:"android.permission.HARDWARE_TEST",INJECT_EVENTS:"android.permission.INJECT_EVENTS",INSTALL_LOCATION_PROVIDER:"android.permission.INSTALL_LOCATION_PROVIDER",INSTALL_PACKAGES:"android.permission.INSTALL_PACKAGES",INSTALL_SHORTCUT:"com.android.launcher.permission.INSTALL_SHORTCUT",INTERNAL_SYSTEM_WINDOW:"android.permission.INTERNAL_SYSTEM_WINDOW",INTERNET:"android.permission.INTERNET",KILL_BACKGROUND_PROCESSES:"android.permission.KILL_BACKGROUND_PROCESSES",LOCATION_HARDWARE:"android.permission.LOCATION_HARDWARE",MANAGE_ACCOUNTS:"android.permission.MANAGE_ACCOUNTS",MANAGE_APP_TOKENS:"android.permission.MANAGE_APP_TOKENS",MANAGE_DOCUMENTS:"android.permission.MANAGE_DOCUMENTS",MASTER_CLEAR:"android.permission.MASTER_CLEAR",MEDIA_CONTENT_CONTROL:"android.permission.MEDIA_CONTENT_CONTROL",MODIFY_AUDIO_SETTINGS:"android.permission.MODIFY_AUDIO_SETTINGS",MODIFY_PHONE_STATE:"android.permission.MODIFY_PHONE_STATE",MOUNT_FORMAT_FILESYSTEMS:"android.permission.MOUNT_FORMAT_FILESYSTEMS",MOUNT_UNMOUNT_FILESYSTEMS:"android.permission.MOUNT_UNMOUNT_FILESYSTEMS",NFC:"android.permission.NFC",PERSISTENT_ACTIVITY:"android.permission.PERSISTENT_ACTIVITY",POST_NOTIFICATIONS:"android.permission.POST_NOTIFICATIONS",PROCESS_OUTGOING_CALLS:"android.permission.PROCESS_OUTGOING_CALLS",READ_CALENDAR:"android.permission.READ_CALENDAR",READ_CALL_LOG:"android.permission.READ_CALL_LOG",READ_CONTACTS:"android.permission.READ_CONTACTS",READ_EXTERNAL_STORAGE:"android.permission.READ_EXTERNAL_STORAGE",READ_FRAME_BUFFER:"android.permission.READ_FRAME_BUFFER",READ_HISTORY_BOOKMARKS:"com.android.browser.permission.READ_HISTORY_BOOKMARKS",READ_INPUT_STATE:"android.permission.READ_INPUT_STATE",READ_LOGS:"android.permission.READ_LOGS",READ_MEDIA_AUDIO:"android.permission.READ_MEDIA_AUDIO",READ_MEDIA_IMAGES:"android.permission.READ_MEDIA_IMAGES",READ_MEDIA_VIDEO:"android.permission.READ_MEDIA_VIDEO",READ_PHONE_STATE:"android.permission.READ_PHONE_STATE",READ_PROFILE:"android.permission.READ_PROFILE",READ_SMS:"android.permission.READ_SMS",READ_SOCIAL_STREAM:"android.permission.READ_SOCIAL_STREAM",READ_SYNC_SETTINGS:"android.permission.READ_SYNC_SETTINGS",READ_SYNC_STATS:"android.permission.READ_SYNC_STATS",READ_USER_DICTIONARY:"android.permission.READ_USER_DICTIONARY",READ_VOICEMAIL:"com.android.voicemail.permission.READ_VOICEMAIL",REBOOT:"android.permission.REBOOT",RECEIVE_BOOT_COMPLETED:"android.permission.RECEIVE_BOOT_COMPLETED",RECEIVE_MMS:"android.permission.RECEIVE_MMS",RECEIVE_SMS:"android.permission.RECEIVE_SMS",RECEIVE_WAP_PUSH:"android.permission.RECEIVE_WAP_PUSH",RECORD_AUDIO:"android.permission.RECORD_AUDIO",REORDER_TASKS:"android.permission.REORDER_TASKS",RESTART_PACKAGES:"android.permission.RESTART_PACKAGES",SEND_RESPOND_VIA_MESSAGE:"android.permission.SEND_RESPOND_VIA_MESSAGE",SEND_SMS:"android.permission.SEND_SMS",SET_ACTIVITY_WATCHER:"android.permission.SET_ACTIVITY_WATCHER",SET_ALARM:"com.android.alarm.permission.SET_ALARM",SET_ALWAYS_FINISH:"android.permission.SET_ALWAYS_FINISH",SET_ANIMATION_SCALE:"android.permission.SET_ANIMATION_SCALE",SET_DEBUG_APP:"android.permission.SET_DEBUG_APP",SET_ORIENTATION:"android.permission.SET_ORIENTATION",SET_POINTER_SPEED:"android.permission.SET_POINTER_SPEED",SET_PREFERRED_APPLICATIONS:"android.permission.SET_PREFERRED_APPLICATIONS",SET_PROCESS_LIMIT:"android.permission.SET_PROCESS_LIMIT",SET_TIME:"android.permission.SET_TIME",SET_TIME_ZONE:"android.permission.SET_TIME_ZONE",SET_WALLPAPER:"android.permission.SET_WALLPAPER",SET_WALLPAPER_HINTS:"android.permission.SET_WALLPAPER_HINTS",SIGNAL_PERSISTENT_PROCESSES:"android.permission.SIGNAL_PERSISTENT_PROCESSES",STATUS_BAR:"android.permission.STATUS_BAR",SUBSCRIBED_FEEDS_READ:"android.permission.SUBSCRIBED_FEEDS_READ",SUBSCRIBED_FEEDS_WRITE:"android.permission.SUBSCRIBED_FEEDS_WRITE",SYSTEM_ALERT_WINDOW:"android.permission.SYSTEM_ALERT_WINDOW",TRANSMIT_IR:"android.permission.TRANSMIT_IR",UNINSTALL_SHORTCUT:"com.android.launcher.permission.UNINSTALL_SHORTCUT",UPDATE_DEVICE_STATS:"android.permission.UPDATE_DEVICE_STATS",USE_CREDENTIALS:"android.permission.USE_CREDENTIALS",USE_SIP:"android.permission.USE_SIP",VIBRATE:"android.permission.VIBRATE",WAKE_LOCK:"android.permission.WAKE_LOCK",WRITE_APN_SETTINGS:"android.permission.WRITE_APN_SETTINGS",WRITE_CALENDAR:"android.permission.WRITE_CALENDAR",WRITE_CALL_LOG:"android.permission.WRITE_CALL_LOG",WRITE_CONTACTS:"android.permission.WRITE_CONTACTS",WRITE_EXTERNAL_STORAGE:"android.permission.WRITE_EXTERNAL_STORAGE",WRITE_GSERVICES:"android.permission.WRITE_GSERVICES",WRITE_HISTORY_BOOKMARKS:"com.android.browser.permission.WRITE_HISTORY_BOOKMARKS",WRITE_PROFILE:"android.permission.WRITE_PROFILE",WRITE_SECURE_SETTINGS:"android.permission.WRITE_SECURE_SETTINGS",WRITE_SETTINGS:"android.permission.WRITE_SETTINGS",WRITE_SMS:"android.permission.WRITE_SMS",WRITE_SOCIAL_STREAM:"android.permission.WRITE_SOCIAL_STREAM",WRITE_SYNC_SETTINGS:"android.permission.WRITE_SYNC_SETTINGS",WRITE_USER_DICTIONARY:"android.permission.WRITE_USER_DICTIONARY",WRITE_VOICEMAIL:"com.android.voicemail.permission.WRITE_VOICEMAIL"},l}return(0,Fe.ZT)(i,u),i.prototype.checkPermission=function(l){return(0,Ad.DM)(this,"checkPermission",{},arguments)},i.prototype.requestPermission=function(l){return(0,Ad.DM)(this,"requestPermission",{},arguments)},i.prototype.requestPermissions=function(l){return(0,Ad.DM)(this,"requestPermissions",{},arguments)},i.prototype.hasPermission=function(l){return(0,Ad.DM)(this,"hasPermission",{},arguments)},i.\u0275fac=function(){let l;return function(y){return(l||(l=B.n5z(i)))(y||i)}}(),i.\u0275prov=B.Yz7({token:i,factory:i.\u0275fac}),i.pluginName="AndroidPermissions",i.plugin="cordova-plugin-android-permissions",i.pluginRef="cordova.plugins.permissions",i.repo="https://github.com/NeoLSN/cordova-plugin-android-permissions",i.platforms=["Android"],i=(0,Fe.gn)([],i)}(Ad.On);class Sd{constructor(i,l,f,y,A){this.androidPermissions=i,this.statusBar=l,this.splashScreen=f,this.authService=y,this.dataService=A}initApp(){eu.addListener("appStateChange",({isActive:i})=>{console.log("App state changed. Is active?",i),i?(this.dataService.userOnline(),this.dataService.getNotifications()):this.dataService.userInactive()}),eu.addListener("appUrlOpen",i=>{console.log("App opened with URL:",i),this.splashScreen.hide()}),this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE).then(i=>{console.log("Has permission?",i.hasPermission),this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE)},i=>this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE)),this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE).then(i=>{console.log("Has permission?",i.hasPermission),this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE)},i=>this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE)),this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.READ_CONTACTS).then(i=>{console.log("Has permission?",i.hasPermission),this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.READ_CONTACTS)},i=>this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.READ_CONTACTS)),this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.WRITE_CONTACTS).then(i=>{console.log("Has permission?",i.hasPermission),this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.WRITE_CONTACTS)},i=>this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.WRITE_CONTACTS)),bc.requestPermissions().then(i=>{"granted"===i.receive&&bc.register()}),bc.addListener("registration",i=>{this.authService.form.deviceToken=i.value}),bc.addListener("registrationError",i=>{alert("Error on registration: "+JSON.stringify(i))}),bc.addListener("pushNotificationReceived",i=>{alert("Push received: "+JSON.stringify(i))}),bc.addListener("pushNotificationActionPerformed",i=>{alert("Push action performed: "+JSON.stringify(i))}),this.statusBar.styleDefault(),Cg.setAccessoryBarVisible({isVisible:!1}).then(()=>{}),Cg.setResizeMode({mode:_l.Body}).then(()=>{}),this.splashScreen.show()}}function $h(u,i){1&u&&(B.TgZ(0,"div",1),B._UZ(1,"ion-spinner",2),B.qZA())}Sd.\u0275fac=function(i){return new(i||Sd)(B.LFG(E_),B.LFG(Se),B.LFG(qe),B.LFG(Fu.$),B.LFG(ms.W))},Sd.\u0275prov=B.Yz7({token:Sd,factory:Sd.\u0275fac,providedIn:"root"});class Hh{constructor(i,l,f,y){this.platform=i,this.server=l,this.appService=f,this.authService=y}ngOnInit(){this.initializeApp()}initializeApp(){this.platform.ready().then(()=>{let i=new Date,l=this.server.day[i.getDay()]+" "+i.getDate()+" "+this.server.month[i.getMonth()]+" "+i.getFullYear();this.authService.loadFormData(l).then(()=>{this.server.connect(),this.appService.initApp(),this.server.userOnline(),this.server.getContacts(),this.authService.receiveMessage()})})}ngOnDestroy(){}}Hh.\u0275fac=function(i){return new(i||Hh)(B.Y36(Le.t4),B.Y36(ms.W),B.Y36(Sd),B.Y36(Fu.$))},Hh.\u0275cmp=B.Xpm({type:Hh,selectors:[["app-root"]],decls:3,vars:1,consts:[["class","loader",4,"ngIf"],[1,"loader"],["name","circular",1,"circular"]],template:function(i,l){1&i&&(B.TgZ(0,"ion-app"),B.YNc(1,$h,2,0,"div",0),B._UZ(2,"ion-router-outlet"),B.qZA()),2&i&&(B.xp6(1),B.Q6J("ngIf",l.authService.showLoader))},dependencies:[lc.O5,Le.dr,Le.PQ,Le.jP]});var ny=R(881),I_=R(2617),Om=R(2340),wg=R(8883);class Bu{}Bu.\u0275fac=function(i){return new(i||Bu)},Bu.\u0275mod=B.oAB({type:Bu,bootstrap:[Hh]}),Bu.\u0275inj=B.cJS({providers:[Se,qe,I_.y,E_,{provide:$.wN,useClass:Le.r4},lc.Ov],imports:[c.b2,Le.Pc.forRoot(),ml,ny.m,wg.XZ,Ye.hO.initializeApp(Om.N.firebaseConfig),it.ww,os.yb,Gr,gl]}),Om.N.production&&(0,B.G48)(),c.q6().bootstrapModule(Bu).catch(u=>console.log(u))},3670:(ln,at,R)=>{"use strict";R.d(at,{nm:()=>An});var c=R(2513),B=R(833),$=R(6936),Le=R(9867);function Ie(vt=0,gt,kt=$.P){let Qt=-1;return null!=gt&&((0,Le.K)(gt)?kt=gt:Qt=gt),new B.y(vn=>{let Vn=function Fe(vt){return vt instanceof Date&&!isNaN(vt)}(vt)?+vt-kt.now():vt;Vn<0&&(Vn=0);let Ar=0;return kt.schedule(function(){vn.closed||(vn.next(Ar++),0<=Qt?this.schedule(void 0,Qt):vn.complete())},Vn)})}var le=R(3609),Ce=R(3853),$e=R(1944),ue=R(3945),_e=R(9635);function xe(vt,gt){return(0,$e.e)((kt,Qt)=>{const vn=new Set;kt.subscribe((0,ue.x)(Qt,Vn=>{const Ar=vt?vt(Vn):Vn;vn.has(Ar)||(vn.add(Ar),Qt.next(Vn))})),null==gt||gt.subscribe((0,ue.x)(Qt,()=>vn.clear(),_e.Z))})}var de=R(3184),Be=R(6369);class Ge{constructor(gt){return gt}}Ie(0,300).pipe((0,Ce.b)(()=>(0,le.D)((0,Be.C6)())),xe());const Ee=new de.OlP("angularfire2._apps"),xt={provide:Ge,useFactory:function be(vt){return vt&&1===vt.length?vt[0]:new Ge((0,Be.Mq)())},deps:[[new de.FiY,Ee]]},mt={provide:class dt{constructor(){return(0,Be.C6)()}},deps:[[new de.FiY,Ee]]};class et{constructor(gt){(0,Be.KN)("angularfire",c.q4.full,"core"),(0,Be.KN)("angularfire",c.q4.full,"app"),(0,Be.KN)("angular",de.q4F.full,gt.toString())}}et.\u0275fac=function(gt){return new(gt||et)(de.LFG(de.Lbi))},et.\u0275mod=de.oAB({type:et}),et.\u0275inj=de.cJS({providers:[xt,mt]});(0,c.u3)(Be.P2,!0),(0,c.u3)(Be.Mq,!0),(0,c.u3)(Be.C6,!0),(0,c.u3)(Be.ZF,!0),(0,c.u3)(Be.TP,!0),(0,c.u3)(Be.KN,!0),(0,c.u3)(Be.Ub,!0);var ge=R(1670),Ne=R(8770),Ae=R(4692),Ve=R(7748),qe=R(8118);const Se=new Map,Ye={activated:!1,tokenObservers:[]},it={initialized:!1,enabled:!1};function lt(vt){return Se.get(vt)||Object.assign({},Ye)}function Ht(){return it}const qt="https://content-firebaseappcheck.googleapis.com/v1",tr_RETRIAL_MIN_WAIT=3e4,tr_RETRIAL_MAX_WAIT=96e4;class Mn{constructor(gt,kt,Qt,vn,Vn){if(this.operation=gt,this.retryPolicy=kt,this.getWaitDuration=Qt,this.lowerBound=vn,this.upperBound=Vn,this.pending=null,this.nextErrorWaitInterval=vn,vn>Vn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(gt){var kt=this;return(0,ge.Z)(function*(){kt.stop();try{kt.pending=new Ve.BH,yield function z(vt){return new Promise(gt=>{setTimeout(gt,vt)})}(kt.getNextRun(gt)),kt.pending.resolve(),yield kt.pending.promise,kt.pending=new Ve.BH,yield kt.operation(),kt.pending.resolve(),yield kt.pending.promise,kt.process(!0).catch(()=>{})}catch(Qt){kt.retryPolicy(Qt)?kt.process(!1).catch(()=>{}):kt.stop()}})()}getNextRun(gt){if(gt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const kt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),kt}}}const Rt={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Vt=new Ve.LL("appCheck","AppCheck",Rt);function bt(vt){if(!lt(vt).activated)throw Vt.create("use-before-activation",{appName:vt.name})}function cn(vt,gt){return nr.apply(this,arguments)}function nr(){return(nr=(0,ge.Z)(function*({url:vt,body:gt},kt){var Qt,vn;const Vn={"Content-Type":"application/json"},Ar=kt.getImmediate({optional:!0});if(Ar){const Ai=yield Ar.getHeartbeatsHeader();Ai&&(Vn["X-Firebase-Client"]=Ai)}const ei={method:"POST",body:JSON.stringify(gt),headers:Vn};let Sr,Xr;try{Sr=yield fetch(vt,ei)}catch(Ai){throw Vt.create("fetch-network-error",{originalErrorMessage:null===(Qt=Ai)||void 0===Qt?void 0:Qt.message})}if(200!==Sr.status)throw Vt.create("fetch-status-error",{httpStatus:Sr.status});try{Xr=yield Sr.json()}catch(Ai){throw Vt.create("fetch-parse-error",{originalErrorMessage:null===(vn=Ai)||void 0===vn?void 0:vn.message})}const Xi=Xr.ttl.match(/^([\d.]+)(s)$/);if(!Xi||!Xi[2]||isNaN(Number(Xi[1])))throw Vt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Xr.ttl}`});const Pr=1e3*Number(Xi[1]),Yi=Date.now();return{token:Xr.token,expireTimeMillis:Yi+Pr,issuedAtTimeMillis:Yi}})).apply(this,arguments)}function Wn(vt,gt){const{projectId:kt,appId:Qt,apiKey:vn}=vt.options;return{url:`${qt}/projects/${kt}/apps/${Qt}:exchangeDebugToken?key=${vn}`,body:{debug_token:gt}}}const bn="firebase-app-check-store",Bn="debug-token";let yr=null;function _r(){return yr||(yr=new Promise((vt,gt)=>{var kt;try{const Qt=indexedDB.open("firebase-app-check-database",1);Qt.onsuccess=vn=>{vt(vn.target.result)},Qt.onerror=vn=>{var Vn;gt(Vt.create("storage-open",{originalErrorMessage:null===(Vn=vn.target.error)||void 0===Vn?void 0:Vn.message}))},Qt.onupgradeneeded=vn=>{const Vn=vn.target.result;if(0===vn.oldVersion)Vn.createObjectStore(bn,{keyPath:"compositeKey"})}}catch(Qt){gt(Vt.create("storage-open",{originalErrorMessage:null===(kt=Qt)||void 0===kt?void 0:kt.message}))}}),yr)}function pr(vt){return vr(In(vt))}function Mr(vt){return Zr(Bn,vt)}function sr(){return vr(Bn)}function Zr(vt,gt){return gr.apply(this,arguments)}function gr(){return(gr=(0,ge.Z)(function*(vt,gt){const Qt=(yield _r()).transaction(bn,"readwrite"),Vn=Qt.objectStore(bn).put({compositeKey:vt,value:gt});return new Promise((Ar,ei)=>{Vn.onsuccess=Sr=>{Ar()},Qt.onerror=Sr=>{var Xr;ei(Vt.create("storage-set",{originalErrorMessage:null===(Xr=Sr.target.error)||void 0===Xr?void 0:Xr.message}))}})})).apply(this,arguments)}function vr(vt){return Un.apply(this,arguments)}function Un(){return(Un=(0,ge.Z)(function*(vt){const kt=(yield _r()).transaction(bn,"readonly"),vn=kt.objectStore(bn).get(vt);return new Promise((Vn,Ar)=>{vn.onsuccess=ei=>{const Sr=ei.target.result;Vn(Sr?Sr.value:void 0)},kt.onerror=ei=>{var Sr;Ar(Vt.create("storage-get",{originalErrorMessage:null===(Sr=ei.target.error)||void 0===Sr?void 0:Sr.message}))}})})).apply(this,arguments)}function In(vt){return`${vt.options.appId}-${vt.name}`}const Wt=new qe.Yd("@firebase/app-check");function Rn(){return(Rn=(0,ge.Z)(function*(vt){if((0,Ve.hl)()){let gt;try{gt=yield pr(vt)}catch(kt){Wt.warn(`Failed to read token from IndexedDB. Error: ${kt}`)}return gt}})).apply(this,arguments)}function Kn(vt,gt){return(0,Ve.hl)()?function zn(vt,gt){return Zr(In(vt),gt)}(vt,gt).catch(kt=>{Wt.warn(`Failed to write token to IndexedDB. Error: ${kt}`)}):Promise.resolve()}function Xe(){return(Xe=(0,ge.Z)(function*(){let vt;try{vt=yield sr()}catch(gt){}if(vt)return vt;{const gt=(0,Ve.k$)();return Mr(gt).catch(kt=>Wt.warn(`Failed to persist debug token to IndexedDB. Error: ${kt}`)),gt}})).apply(this,arguments)}function Te(){return Ht().enabled}function tt(){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,ge.Z)(function*(){const vt=Ht();if(vt.enabled&&vt.token)return vt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}function Y(){const vt=(0,Ve.Rd)(),gt=Ht();if(gt.initialized=!0,"string"!=typeof vt.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==vt.FIREBASE_APPCHECK_DEBUG_TOKEN)return;gt.enabled=!0;const kt=new Ve.BH;gt.token=kt,"string"==typeof vt.FIREBASE_APPCHECK_DEBUG_TOKEN?kt.resolve(vt.FIREBASE_APPCHECK_DEBUG_TOKEN):kt.resolve(function lr(){return Xe.apply(this,arguments)}())}const je={error:"UNKNOWN_ERROR"};function Nt(vt){return Ve.US.encodeString(JSON.stringify(vt),!1)}function on(vt){return pn.apply(this,arguments)}function pn(){return(pn=(0,ge.Z)(function*(vt,gt=!1){const kt=vt.app;bt(kt);const Qt=lt(kt);let Vn,vn=Qt.token;if(vn&&!Ut(vn)&&(Qt.token=void 0,vn=void 0),!vn){const Sr=yield Qt.cachedTokenPromise;Sr&&(Ut(Sr)?vn=Sr:yield Kn(kt,void 0))}if(!gt&&vn&&Ut(vn))return{token:vn.token};let ei,Ar=!1;if(Te()){Qt.exchangeTokenPromise||(Qt.exchangeTokenPromise=cn(Wn(kt,yield tt()),vt.heartbeatServiceProvider).finally(()=>{Qt.exchangeTokenPromise=void 0}),Ar=!0);const Sr=yield Qt.exchangeTokenPromise;return yield Kn(kt,Sr),Qt.token=Sr,{token:Sr.token}}try{Qt.exchangeTokenPromise||(Qt.exchangeTokenPromise=Qt.provider.getToken().finally(()=>{Qt.exchangeTokenPromise=void 0}),Ar=!0),vn=yield lt(kt).exchangeTokenPromise}catch(Sr){"appCheck/throttled"===Sr.code?Wt.warn(Sr.message):Wt.error(Sr),Vn=Sr}return vn?Vn?ei=Ut(vn)?{token:vn.token,internalError:Vn}:Sn(Vn):(ei={token:vn.token},Qt.token=vn,yield Kn(kt,vn)):ei=Sn(Vn),Ar&&At(kt,ei),ei})).apply(this,arguments)}function Hn(vt,gt,kt,Qt){const{app:vn}=vt,Vn=lt(vn),Ar={next:kt,error:Qt,type:gt};if(Vn.tokenObservers=[...Vn.tokenObservers,Ar],Vn.token&&Ut(Vn.token)){const ei=Vn.token;Promise.resolve().then(()=>{kt({token:ei.token}),X(vt)}).catch(()=>{})}Vn.cachedTokenPromise.then(()=>X(vt))}function Ot(vt,gt){const kt=lt(vt),Qt=kt.tokenObservers.filter(vn=>vn.next!==gt);0===Qt.length&&kt.tokenRefresher&&kt.tokenRefresher.isRunning()&&kt.tokenRefresher.stop(),kt.tokenObservers=Qt}function X(vt){const{app:gt}=vt,kt=lt(gt);let Qt=kt.tokenRefresher;Qt||(Qt=function He(vt){const{app:gt}=vt;return new Mn((0,ge.Z)(function*(){let Qt;if(Qt=lt(gt).token?yield on(vt,!0):yield on(vt),Qt.error)throw Qt.error;if(Qt.internalError)throw Qt.internalError}),()=>!0,()=>{const kt=lt(gt);if(kt.token){let Qt=kt.token.issuedAtTimeMillis+.5*(kt.token.expireTimeMillis-kt.token.issuedAtTimeMillis)+3e5;const vn=kt.token.expireTimeMillis-3e5;return Qt=Math.min(Qt,vn),Math.max(0,Qt-Date.now())}return 0},tr_RETRIAL_MIN_WAIT,tr_RETRIAL_MAX_WAIT)}(vt),kt.tokenRefresher=Qt),!Qt.isRunning()&&kt.isTokenAutoRefreshEnabled&&Qt.start()}function At(vt,gt){const kt=lt(vt).tokenObservers;for(const Qt of kt)try{"EXTERNAL"===Qt.type&&null!=gt.error?Qt.error(gt.error):Qt.next(gt)}catch(vn){}}function Ut(vt){return vt.expireTimeMillis-Date.now()>0}function Sn(vt){return{token:Nt(je),error:vt}}class Qe{constructor(gt,kt){this.app=gt,this.heartbeatServiceProvider=kt}_delete(){const{tokenObservers:gt}=lt(this.app);for(const kt of gt)Ot(this.app,kt.next);return Promise.resolve()}}function _t(){return(_t=(0,ge.Z)(function*(vt,gt){const kt=yield on(vt,gt);if(kt.error)throw kt.error;return{token:kt.token}})).apply(this,arguments)}const ut="app-check-internal";!function Mt(){(0,Ne._registerComponent)(new Ae.wA("app-check",vt=>function Je(vt,gt){return new Qe(vt,gt)}(vt.getProvider("app").getImmediate(),vt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((vt,gt,kt)=>{vt.getProvider(ut).initialize()})),(0,Ne._registerComponent)(new Ae.wA(ut,vt=>function zt(vt){return{getToken:gt=>on(vt,gt),addTokenListener:gt=>Hn(vt,"INTERNAL",gt),removeTokenListener:gt=>Ot(vt.app,gt)}}(vt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ne.registerVersion)("@firebase/app-check","0.5.17")}();const jt="app-check";class en{constructor(gt){return gt}}class An{constructor(){return(0,c.vb)(jt)}}Ie(0,300).pipe((0,Ce.b)(()=>(0,le.D)((0,c.vb)(jt))),xe());const or=new de.OlP("angularfire2.app-check-instances");Symbol("angularfire2.app-check.namespace");"undefined"!=typeof window&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);const As={provide:An,deps:[[new de.FiY,or]]},Ti={provide:en,useFactory:function Fr(vt,gt){const kt=(0,c.JM)(jt,vt,gt);return kt&&new en(kt)},deps:[[new de.FiY,or],Ge,de.Lbi]};class Pi{constructor(){(0,Be.KN)("angularfire",c.q4.full,"app-check")}}Pi.\u0275fac=function(gt){return new(gt||Pi)},Pi.\u0275mod=de.oAB({type:Pi}),Pi.\u0275inj=de.cJS({providers:[Ti,As]});(0,c.u3)(function pt(vt,gt){return _t.apply(this,arguments)},!0),(0,c.u3)(function zi(vt=(0,Ne.getApp)(),gt){vt=(0,Ve.m9)(vt);const kt=(0,Ne._getProvider)(vt,"app-check");if(Ht().initialized||Y(),Te()&&tt().then(vn=>console.log(`App Check debug token: ${vn}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),kt.isInitialized()){const vn=kt.getImmediate(),Vn=kt.getOptions();if(Vn.isTokenAutoRefreshEnabled===gt.isTokenAutoRefreshEnabled&&Vn.provider.isEqual(gt.provider))return vn;throw Vt.create("already-initialized",{appName:vt.name})}const Qt=kt.initialize({options:gt});return function se(vt,gt,kt){const Qt=function St(vt,gt){return Se.set(vt,gt),Se.get(vt)}(vt,Object.assign({},Ye));Qt.activated=!0,Qt.provider=gt,Qt.cachedTokenPromise=function Tn(vt){return Rn.apply(this,arguments)}(vt).then(vn=>(vn&&Ut(vn)&&(Qt.token=vn,At(vt,{token:vn.token})),vn)),Qt.isTokenAutoRefreshEnabled=void 0===kt?vt.automaticDataCollectionEnabled:kt,Qt.provider.initialize(vt)}(vt,gt.provider,gt.isTokenAutoRefreshEnabled),lt(vt).isTokenAutoRefreshEnabled&&Hn(Qt,"INTERNAL",()=>{}),Qt},!0),(0,c.u3)(function $t(vt,gt,kt,Qt){let vn=()=>{},Vn=()=>{};return vn=null!=gt.next?gt.next.bind(gt):gt,null!=gt.error?Vn=gt.error.bind(gt):kt&&(Vn=kt),Hn(vt,"EXTERNAL",vn,Vn),()=>Ot(vt.app,vn)},!0),(0,c.u3)(function Re(vt,gt){const Qt=lt(vt.app);Qt.tokenRefresher&&(!0===gt?Qt.tokenRefresher.start():Qt.tokenRefresher.stop()),Qt.isTokenAutoRefreshEnabled=gt},!0)},5873:(ln,at,R)=>{"use strict";R.d(at,{L6:()=>yt,Qv:()=>mt,_Q:()=>et,f7:()=>De,lh:()=>me,nw:()=>st,rT:()=>nt,ww:()=>ee,zQ:()=>ie});var c=R(3184),B=R(253),$=R(745),Le=R(833),Fe=R(3609),Ie=R(6646),le=R(8728),Ce=R(2673),$e=R(635),ue=R(513),_e=R(155),xe=R(5720),de=R(4317),Be=R(116),Ge=R(2513),dt=R(1879),Me=R(6362),be=R(3670),Ee=R(8427);const mt=new c.OlP("angularfire2.auth.use-emulator"),yt=new c.OlP("angularfire2.auth.settings"),et=new c.OlP("angularfire2.auth.tenant-id"),nt=new c.OlP("angularfire2.auth.langugage-code"),me=new c.OlP("angularfire2.auth.use-device-language"),De=new c.OlP("angularfire.auth.persistence"),st=(oe,J,ge,Ne,Ae,Ve,qe,Se)=>(0,dt.cc)(`${oe.name}.auth`,"AngularFireAuth",oe.name,()=>{const Ye=J.runOutsideAngular(()=>oe.auth());if(ge&&Ye.useEmulator(...ge),Ne&&(Ye.tenantId=Ne),Ye.languageCode=Ae,Ve&&Ye.useDeviceLanguage(),qe)for(const[it,lt]of Object.entries(qe))Ye.settings[it]=lt;return Se&&Ye.setPersistence(Se),Ye},[ge,Ne,Ae,Ve,qe,Se]);class ie{constructor(J,ge,Ne,Ae,Ve,qe,Se,Ye,it,lt,St,Ht){const qt=new B.x,an=(0,$.of)(void 0).pipe((0,le.Q)(Ve.outsideAngular),(0,Ce.w)(()=>Ae.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,7608)))),(0,$e.U)(()=>(0,dt.on)(J,Ae,ge)),(0,$e.U)(Fn=>st(Fn,Ae,qe,Ye,it,lt,Se,St)),(0,ue.d)({bufferSize:1,refCount:!1}));if((0,Me.PM)(Ne))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$.of)(null);else{an.pipe((0,_e.P)()).subscribe();const ir=an.pipe((0,Ce.w)(Mn=>Mn.getRedirectResult().then(z=>z,()=>null)),Ge.iC,(0,ue.d)({bufferSize:1,refCount:!1})),tr=an.pipe((0,Ce.w)(Mn=>new Le.y(z=>({unsubscribe:Ae.runOutsideAngular(()=>Mn.onAuthStateChanged(Rt=>z.next(Rt),Rt=>z.error(Rt),()=>z.complete()))})))),jn=an.pipe((0,Ce.w)(Mn=>new Le.y(z=>({unsubscribe:Ae.runOutsideAngular(()=>Mn.onIdTokenChanged(Rt=>z.next(Rt),Rt=>z.error(Rt),()=>z.complete()))}))));this.authState=ir.pipe((0,xe.c)(tr),(0,de.R)(Ve.outsideAngular),(0,le.Q)(Ve.insideAngular)),this.user=ir.pipe((0,xe.c)(jn),(0,de.R)(Ve.outsideAngular),(0,le.Q)(Ve.insideAngular)),this.idToken=this.user.pipe((0,Ce.w)(Mn=>Mn?(0,Fe.D)(Mn.getIdToken()):(0,$.of)(null))),this.idTokenResult=this.user.pipe((0,Ce.w)(Mn=>Mn?(0,Fe.D)(Mn.getIdTokenResult()):(0,$.of)(null))),this.credential=(0,Ie.T)(ir,qt,this.authState.pipe((0,Be.h)(Mn=>!Mn))).pipe((0,$e.U)(Mn=>null!=Mn&&Mn.user?Mn:null),(0,de.R)(Ve.outsideAngular),(0,le.Q)(Ve.insideAngular))}return(0,dt.pX)(this,an,Ae,{spy:{apply:(Fn,ir,tr)=>{(Fn.startsWith("signIn")||Fn.startsWith("createUser"))&&tr.then(jn=>qt.next(jn))}}})}}ie.\u0275fac=function(J){return new(J||ie)(c.LFG(dt.Dh),c.LFG(dt.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ge.HU),c.LFG(mt,8),c.LFG(yt,8),c.LFG(et,8),c.LFG(nt,8),c.LFG(me,8),c.LFG(De,8),c.LFG(be.nm,8))},ie.\u0275prov=c.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"any"}),(0,dt.GT)(ie,[{name:null,config:null,emulatorConfig:null,app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class ee{constructor(){Ee.Z.registerVersion("angularfire",Ge.q4.full,"auth-compat")}}ee.\u0275fac=function(J){return new(J||ee)},ee.\u0275mod=c.oAB({type:ee}),ee.\u0275inj=c.cJS({providers:[ie]})},3805:(ln,at,R)=>{"use strict";R.d(at,{ST:()=>yp,yb:()=>Gu});var c=R(3184),B=R(6936),$=R(833),Le=R(3609),Fe=R(745),Ie=R(2513),le=R(4874),Ce=R(1944),$e=R(3945);function ue(){return(0,Ce.e)((s,e)=>{let t,o=!1;s.subscribe((0,$e.x)(e,h=>{const m=t;t=h,o&&e.next([m,h]),o=!0}))})}var De,_e=R(635),xe=R(4351),de=R(8977),Be=R(116),Ge=R(1879),dt=R(6362),be=(R(7608),R(5003)),Ee=R(1670),xt=R(8770),mt=R(4692),yt=R(8118),et=R(7748),nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},me={},st=st||{},ie=nt||self;function ee(){}function oe(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function J(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var Ne="closure_uid_"+(1e9*Math.random()>>>0),Ae=0;function Ve(s,e,t){return s.call.apply(s.bind,arguments)}function qe(s,e,t){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,o),s.apply(e,h)}}return function(){return s.apply(e,arguments)}}function Se(s,e,t){return(Se=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ve:qe).apply(null,arguments)}function Ye(s,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function it(s,e){function t(){}t.prototype=e.prototype,s.X=e.prototype,s.prototype=new t,s.prototype.constructor=s,s.Wb=function(o,h,m){for(var I=Array(arguments.length-2),P=2;P<arguments.length;P++)I[P-2]=arguments[P];return e.prototype[h].apply(o,I)}}function lt(){this.s=this.s,this.o=this.o}lt.prototype.s=!1,lt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ge(s){return Object.prototype.hasOwnProperty.call(s,Ne)&&s[Ne]||(s[Ne]=++Ae)}(this)},lt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ht=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let t=0;t<s.length;t++)if(t in s&&s[t]===e)return t;return-1};function qt(s){const e=s.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=s[o];return t}return[]}function an(s,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(oe(o)){const h=s.length||0,m=o.length||0;s.length=h+m;for(let I=0;I<m;I++)s[h+I]=o[I]}else s.push(o)}}function Fn(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}Fn.prototype.h=function(){this.defaultPrevented=!0};var ir=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{ie.addEventListener("test",ee,e),ie.removeEventListener("test",ee,e)}catch(t){}return s}();function tr(s){return/^[\s\xa0]*$/.test(s)}var jn=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Mn(s,e){return s<e?-1:s>e?1:0}function z(){var s=ie.navigator;return s&&(s=s.userAgent)?s:""}function Rt(s){return-1!=z().indexOf(s)}function Vt(s){return Vt[" "](s),s}Vt[" "]=ee;var Wn,s,bt=Rt("Opera"),rn=Rt("Trident")||Rt("MSIE"),Et=Rt("Edge"),cn=Et||rn,nr=Rt("Gecko")&&!(-1!=z().toLowerCase().indexOf("webkit")&&!Rt("Edge"))&&!(Rt("Trident")||Rt("MSIE"))&&!Rt("Edge"),Gn=-1!=z().toLowerCase().indexOf("webkit")&&!Rt("Edge");function hr(){var s=ie.document;return s?s.documentMode:void 0}e:{var En="",$n=(s=z(),nr?/rv:([^\);]+)(\)|;)/.exec(s):Et?/Edge\/([\d\.]+)/.exec(s):rn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Gn?/WebKit\/(\S+)/.exec(s):bt?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if($n&&(En=$n?$n[1]:""),rn){var bn=hr();if(null!=bn&&bn>parseFloat(En)){Wn=String(bn);break e}}Wn=En}var _r,Bn={};function yr(){return function hn(s){var e=Bn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=s(9)}(function(){let s=0;const e=jn(String(Wn)).split("."),t=jn("9").split("."),o=Math.max(e.length,t.length);for(let I=0;0==s&&I<o;I++){var h=e[I]||"",m=t[I]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;s=Mn(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||Mn(0==h[2].length,0==m[2].length)||Mn(h[2],m[2]),h=h[3],m=m[3]}while(0==s)}return 0<=s})}ie.document&&rn?_r=hr()||parseInt(Wn,10)||void 0:_r=void 0;var zn=_r;function Mr(s,e){if(Fn.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var t=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(nr){e:{try{Vt(e.nodeName);var h=!0;break e}catch(m){}h=!1}h||(e=null)}}else"mouseover"==t?e=s.fromElement:"mouseout"==t&&(e=s.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:sr[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Mr.X.h.call(this)}}it(Mr,Fn);var sr={2:"touch",3:"pen",4:"mouse"};Mr.prototype.h=function(){Mr.X.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Zr="closure_listenable_"+(1e6*Math.random()|0),gr=0;function vr(s,e,t,o,h){this.listener=s,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=h,this.key=++gr,this.ba=this.ea=!1}function Un(s){s.ba=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function In(s,e,t){for(const o in s)e.call(t,s[o],o,s)}function Wt(s){const e={};for(const t in s)e[t]=s[t];return e}const Tn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rn(s,e){let t,o;for(let h=1;h<arguments.length;h++){for(t in o=arguments[h],o)s[t]=o[t];for(let m=0;m<Tn.length;m++)t=Tn[m],Object.prototype.hasOwnProperty.call(o,t)&&(s[t]=o[t])}}function Kn(s){this.src=s,this.g={},this.h=0}function lr(s,e){var t=e.type;if(t in s.g){var m,o=s.g[t],h=Ht(o,e);(m=0<=h)&&Array.prototype.splice.call(o,h,1),m&&(Un(e),0==s.g[t].length&&(delete s.g[t],s.h--))}}function Xe(s,e,t,o){for(var h=0;h<s.length;++h){var m=s[h];if(!m.ba&&m.listener==e&&m.capture==!!t&&m.ha==o)return h}return-1}Kn.prototype.add=function(s,e,t,o,h){var m=s.toString();(s=this.g[m])||(s=this.g[m]=[],this.h++);var I=Xe(s,e,o,h);return-1<I?(e=s[I],t||(e.ea=!1)):((e=new vr(e,this.src,m,!!o,h)).ea=t,s.push(e)),e};var Te="closure_lm_"+(1e6*Math.random()|0),tt={};function Ue(s,e,t,o,h){if(o&&o.once)return Nt(s,e,t,o,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Ue(s,e[m],t,o,h);return null}return t=At(t),s&&s[Zr]?s.N(e,t,J(o)?!!o.capture:!!o,h):Y(s,e,t,!1,o,h)}function Y(s,e,t,o,h,m){if(!e)throw Error("Invalid event type");var I=J(h)?!!h.capture:!!h,P=X(s);if(P||(s[Te]=P=new Kn(s)),(t=P.add(e,t,o,I,m)).proxy)return t;if(o=function je(){function s(t){return e.call(s.src,s.listener,t)}const e=Ot;return s}(),t.proxy=o,o.src=s,o.listener=t,s.addEventListener)ir||(h=I),void 0===h&&(h=!1),s.addEventListener(e.toString(),o,h);else if(s.attachEvent)s.attachEvent(Hn(e.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return t}function Nt(s,e,t,o,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)Nt(s,e[m],t,o,h);return null}return t=At(t),s&&s[Zr]?s.O(e,t,J(o)?!!o.capture:!!o,h):Y(s,e,t,!0,o,h)}function on(s,e,t,o,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)on(s,e[m],t,o,h);else o=J(o)?!!o.capture:!!o,t=At(t),s&&s[Zr]?(s=s.i,(e=String(e).toString())in s.g&&(-1<(t=Xe(m=s.g[e],t,o,h))&&(Un(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete s.g[e],s.h--)))):s&&(s=X(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Xe(e,t,o,h)),(t=-1<s?e[s]:null)&&pn(t))}function pn(s){if("number"!=typeof s&&s&&!s.ba){var e=s.src;if(e&&e[Zr])lr(e.i,s);else{var t=s.type,o=s.proxy;e.removeEventListener?e.removeEventListener(t,o,s.capture):e.detachEvent?e.detachEvent(Hn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=X(e))?(lr(t,s),0==t.h&&(t.src=null,e[Te]=null)):Un(s)}}}function Hn(s){return s in tt?tt[s]:tt[s]="on"+s}function Ot(s,e){if(s.ba)s=!0;else{e=new Mr(e,this);var t=s.listener,o=s.ha||s.src;s.ea&&pn(s),s=t.call(o,e)}return s}function X(s){return(s=s[Te])instanceof Kn?s:null}var He="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(s){return"function"==typeof s?s:(s[He]||(s[He]=function(e){return s.handleEvent(e)}),s[He])}function Ut(){lt.call(this),this.i=new Kn(this),this.P=this,this.I=null}function Sn(s,e){var t,o=s.I;if(o)for(t=[];o;o=o.I)t.push(o);if(s=s.P,o=e.type||e,"string"==typeof e)e=new Fn(e,s);else if(e instanceof Fn)e.target=e.target||s;else{var h=e;Rn(e=new Fn(o,s),h)}if(h=!0,t)for(var m=t.length-1;0<=m;m--){var I=e.g=t[m];h=Qe(I,o,!0,e)&&h}if(h=Qe(I=e.g=s,o,!0,e)&&h,h=Qe(I,o,!1,e)&&h,t)for(m=0;m<t.length;m++)h=Qe(I=e.g=t[m],o,!1,e)&&h}function Qe(s,e,t,o){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var I=e[m];if(I&&!I.ba&&I.capture==t){var P=I.listener,G=I.ha||I.src;I.ea&&lr(s.i,I),h=!1!==P.call(G,o)&&h}}return h&&!o.defaultPrevented}it(Ut,lt),Ut.prototype[Zr]=!0,Ut.prototype.removeEventListener=function(s,e,t,o){on(this,s,e,t,o)},Ut.prototype.M=function(){if(Ut.X.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var t=s.g[e],o=0;o<t.length;o++)Un(t[o]);delete s.g[e],s.h--}}this.I=null},Ut.prototype.N=function(s,e,t,o){return this.i.add(String(s),e,!1,t,o)},Ut.prototype.O=function(s,e,t,o){return this.i.add(String(s),e,!0,t,o)};var Je=ie.JSON.stringify;function zt(){var s=It;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var j,xn=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new ct,s=>s.reset());class ct{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Z(s){ie.setTimeout(()=>{throw s},0)}function x(s,e){j||function ye(){var s=ie.Promise.resolve(void 0);j=function(){s.then(_n)}}(),Ct||(j(),Ct=!0),It.add(s,e)}var Ct=!1,It=new class un{constructor(){this.h=this.g=null}add(e,t){const o=xn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function _n(){for(var s;s=zt();){try{s.h.call(s.g)}catch(t){Z(t)}var e=xn;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}Ct=!1}function Jn(s,e){Ut.call(this),this.h=s||1,this.g=e||ie,this.j=Se(this.lb,this),this.l=Date.now()}function cr(s){s.ca=!1,s.R&&(s.g.clearTimeout(s.R),s.R=null)}function Nr(s,e,t){if("function"==typeof s)t&&(s=Se(s,t));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Se(s.handleEvent,s)}return 2147483647<Number(e)?-1:ie.setTimeout(s,e||0)}function Rr(s){s.g=Nr(()=>{s.g=null,s.i&&(s.i=!1,Rr(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}it(Jn,Ut),(De=Jn.prototype).ca=!1,De.R=null,De.lb=function(){if(this.ca){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-s):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Sn(this,"tick"),this.ca&&(cr(this),this.start()))}},De.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},De.M=function(){Jn.X.M.call(this),cr(this),delete this.g};class Lr extends lt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Rr(this)}M(){super.M(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(s){lt.call(this),this.h=s,this.g={}}it(jr,lt);var Ii=[];function li(s,e,t,o){Array.isArray(t)||(t&&(Ii[0]=t.toString()),t=Ii);for(var h=0;h<t.length;h++){var m=Ue(e,t[h],o||s.handleEvent,!1,s.h||s);if(!m)break;s.g[m.key]=m}}function zi(s){In(s.g,function(e,t){this.g.hasOwnProperty(t)&&pn(e)},s),s.g={}}function se(){this.g=!0}function _t(s,e,t,o){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function we(s,e){if(!s.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(s=0;s<t.length;s++)if(Array.isArray(t[s])){var o=t[s];if(!(2>o.length)){var h=o[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var I=1;I<h.length;I++)h[I]=""}}}return Je(t)}catch(P){return e}}(s,t)+(o?" "+o:"")})}jr.prototype.M=function(){jr.X.M.call(this),zi(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},se.prototype.Aa=function(){this.g=!1},se.prototype.info=function(){};var ut={},Mt=null;function jt(){return Mt=Mt||new Ut}function en(s){Fn.call(this,ut.Pa,s)}function An(s){const e=jt();Sn(e,new en(e))}function Zn(s,e){Fn.call(this,ut.STAT_EVENT,s),this.stat=e}function or(s){const e=jt();Sn(e,new Zn(e,s))}function ai(s,e){Fn.call(this,ut.Qa,s),this.size=e}function Fr(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){s()},e)}ut.Pa="serverreachability",it(en,Fn),ut.STAT_EVENT="statevent",it(Zn,Fn),ut.Qa="timingevent",it(ai,Fn);var ui={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},bi={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ys(){}function As(s){return s.h||(s.h=s.i())}function Ti(){}Ys.prototype.h=null;var Bs,Pi={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function qs(){Fn.call(this,"d")}function Ss(){Fn.call(this,"c")}function Us(){}function Ki(s,e,t,o){this.l=s,this.j=e,this.m=t,this.U=o||1,this.S=new jr(this),this.O=gt,s=cn?125:void 0,this.T=new Jn(s),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}it(qs,Fn),it(Ss,Fn),it(Us,Ys),Us.prototype.g=function(){return new XMLHttpRequest},Us.prototype.i=function(){return{}},Bs=new Us;var gt=45e3,kt={},Qt={};function vn(s,e,t){s.K=1,s.v=ft(ps(e)),s.s=t,s.P=!0,Vn(s,null)}function Vn(s,e){s.F=Date.now(),Xr(s),s.A=ps(s.v);var t=s.A,o=s.U;Array.isArray(o)||(o=[String(o)]),Ds(t.i,"t",o),s.C=0,t=s.l.H,s.h=new vt,s.g=la(s.l,t?e:null,!s.s),0<s.N&&(s.L=new Lr(Se(s.La,s,s.g),s.N)),li(s.S,s.g,"readystatechange",s.ib),e=s.H?Wt(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.da(s.A,s.u,s.s,e)):(s.u="GET",s.g.da(s.A,s.u,null,e)),An(),function Re(s,e,t,o,h,m){s.info(function(){if(s.g)if(m)for(var I="",P=m.split("&"),G=0;G<P.length;G++){var Q=P[G].split("=");if(1<Q.length){var Oe=Q[0];Q=Q[1];var ht=Oe.split("_");I=2<=ht.length&&"type"==ht[1]?I+(Oe+"=")+Q+"&":I+(Oe+"=redacted&")}}else I=null;else I=m;return"XMLHTTP REQ ("+o+") [attempt "+h+"]: "+e+"\n"+t+"\n"+I})}(s.j,s.u,s.A,s.m,s.U,s.s)}function Ar(s){return!!s.g&&("GET"==s.u&&2!=s.K&&s.l.Da)}function ei(s,e,t){let h,o=!0;for(;!s.I&&s.C<t.length;){if(h=Sr(s,t),h==Qt){4==e&&(s.o=4,or(14),o=!1),_t(s.j,s.m,null,"[Incomplete Response]");break}if(h==kt){s.o=4,or(15),_t(s.j,s.m,t,"[Invalid Chunk]"),o=!1;break}_t(s.j,s.m,h,null),ii(s,h)}Ar(s)&&h!=Qt&&h!=kt&&(s.h.g="",s.C=0),4!=e||0!=t.length||s.h.h||(s.o=1,or(16),o=!1),s.i=s.i&&o,o?0<t.length&&!s.$&&(s.$=!0,(e=s.l).g==s&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),_i(e),e.K=!0,or(11))):(_t(s.j,s.m,t,"[Invalid Chunked Response]"),Ai(s),Yi(s))}function Sr(s,e){var t=s.C,o=e.indexOf("\n",t);return-1==o?Qt:(t=Number(e.substring(t,o)),isNaN(t)?kt:(o+=1)+t>e.length?Qt:(e=e.substr(o,t),s.C=o+t,e))}function Xr(s){s.V=Date.now()+s.O,Xi(s,s.O)}function Xi(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Fr(Se(s.gb,s),e)}function Pr(s){s.B&&(ie.clearTimeout(s.B),s.B=null)}function Yi(s){0==s.l.G||s.I||os(s.l,s)}function Ai(s){Pr(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,cr(s.T),zi(s.S),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function ii(s,e){try{var t=s.l;if(0!=t.G&&(t.g==s||yn(t.h,s)))if(!s.J&&yn(t.h,s)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(Q){o=null}if(Array.isArray(o)&&3==o.length){var h=o;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<s.F))break e;Gr(t),V(t)}di(t),or(18)}}else t.Ba=h[1],0<t.Ba-t.T&&37500>h[2]&&t.L&&0==t.A&&!t.v&&(t.v=Fr(Se(t.cb,t),6e3));if(1>=wo(t.h)&&t.ja){try{t.ja()}catch(Q){}t.ja=void 0}}else xi(t,11)}else if((s.J||t.g==s)&&Gr(t),!tr(e))for(h=t.Fa.g.parse(e),e=0;e<h.length;e++){let Q=h[e];if(t.T=Q[0],Q=Q[1],2==t.G)if("c"==Q[0]){t.I=Q[1],t.ka=Q[2];const Oe=Q[3];null!=Oe&&(t.ma=Oe,t.j.info("VER="+t.ma));const ht=Q[4];null!=ht&&(t.Ca=ht,t.j.info("SVER="+t.Ca));const Kt=Q[5];null!=Kt&&"number"==typeof Kt&&0<Kt&&(o=1.5*Kt,t.J=o,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const dn=s.g;if(dn){const Dn=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dn){var m=o.h;m.g||-1==Dn.indexOf("spdy")&&-1==Dn.indexOf("quic")&&-1==Dn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&($r(m,m.h),m.h=null))}if(o.D){const fr=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;fr&&(o.za=fr,ke(o.F,o.D,fr))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-s.F,t.j.info("Handshake RTT: "+t.P+"ms"));var I=s;if((o=t).sa=mo(o,o.H?o.ka:null,o.V),I.J){Do(o.h,I);var P=I,G=o.J;G&&P.setTimeout(G),P.B&&(Pr(P),Xr(P)),o.g=I}else wr(o);0<t.i.length&&re(t)}else"stop"!=Q[0]&&"close"!=Q[0]||xi(t,7);else 3==t.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?xi(t,7):lc(t):"noop"!=Q[0]&&t.l&&t.l.wa(Q),t.A=0)}An()}catch(Q){}}function Vi(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(oe(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var t=function Rs(s){if(s.oa&&"function"==typeof s.oa)return s.oa();if(!s.W||"function"!=typeof s.W){if("undefined"!=typeof Map&&s instanceof Map)return Array.from(s.keys());if(!("undefined"!=typeof Set&&s instanceof Set)){if(oe(s)||"string"==typeof s){var e=[];s=s.length;for(var t=0;t<s;t++)e.push(t);return e}e=[],t=0;for(const o in s)e[t++]=o;return e}}}(s),o=function hs(s){if(s.W&&"function"==typeof s.W)return s.W();if("undefined"!=typeof Map&&s instanceof Map||"undefined"!=typeof Set&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(oe(s)){for(var e=[],t=s.length,o=0;o<t;o++)e.push(s[o]);return e}for(o in e=[],t=0,s)e[t++]=s[o];return e}(s),h=o.length,m=0;m<h;m++)e.call(void 0,o[m],t&&t[m],s)}(De=Ki.prototype).setTimeout=function(s){this.O=s},De.ib=function(s){s=s.target;const e=this.L;e&&3==ko(s)?e.l():this.La(s)},De.La=function(s){try{if(s==this.g)e:{const Oe=ko(this.g);var e=this.g.Ea();this.g.aa();if(!(3>Oe)&&(3!=Oe||cn||this.g&&(this.h.h||this.g.fa()||Ac(this.g)))){this.I||4!=Oe||7==e||An(),Pr(this);var t=this.g.aa();this.Y=t;t:if(Ar(this)){var o=Ac(this.g);s="";var h=o.length,m=4==ko(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ai(this),Yi(this);var I="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,s+=this.h.i.decode(o[e],{stream:m&&e==h-1});o.splice(0,h),this.h.g+=s,this.C=0,I=this.h.g}else I=this.g.fa();if(this.i=200==t,function pt(s,e,t,o,h,m,I){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+m+" "+I})}(this.j,this.u,this.A,this.m,this.U,Oe,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var P,G=this.g;if((P=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tr(P)){var Q=P;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,or(12),Ai(this),Yi(this);break e}_t(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ii(this,t)}this.P?(ei(this,Oe,I),cn&&this.i&&3==Oe&&(li(this.S,this.T,"tick",this.hb),this.T.start())):(_t(this.j,this.m,I,null),ii(this,I)),4==Oe&&Ai(this),this.i&&!this.I&&(4==Oe?os(this.l,this):(this.i=!1,Xr(this)))}else 400==t&&0<I.indexOf("Unknown SID")?(this.o=3,or(12)):(this.o=0,or(13)),Ai(this),Yi(this)}}}catch(Oe){}},De.hb=function(){if(this.g){var s=ko(this.g),e=this.g.fa();this.C<e.length&&(Pr(this),ei(this,s,e),this.i&&4!=s&&Xr(this))}},De.cancel=function(){this.I=!0,Ai(this)},De.gb=function(){this.B=null;const s=Date.now();0<=s-this.V?(function $t(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(An(),or(17)),Ai(this),this.o=2,Yi(this)):Xi(this,this.V-s)};var ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fs(s,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof fs){this.h=void 0!==e?e:s.h,Vs(this,s.j),this.s=s.s,this.g=s.g,fi(this,s.m),this.l=s.l,e=s.i;var t=new Vr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ze(this,t),this.o=s.o}else s&&(t=String(s).match(ti))?(this.h=!!e,Vs(this,t[1]||"",!0),this.s=Lt(t[2]||""),this.g=Lt(t[3]||"",!0),fi(this,t[4]),this.l=Lt(t[5]||"",!0),Ze(this,t[6]||"",!0),this.o=Lt(t[7]||"")):(this.h=!!e,this.i=new Vr(null,this.h))}function ps(s){return new fs(s)}function Vs(s,e,t){s.j=t?Lt(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function fi(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function Ze(s,e,t){e instanceof Vr?(s.i=e,function no(s,e){e&&!s.j&&(ni(s),s.i=null,s.g.forEach(function(t,o){var h=o.toLowerCase();o!=h&&($i(this,o),Ds(this,h,t))},s)),s.j=e}(s.i,s.h)):(t||(e=Zt(e,Wr)),s.i=new Vr(e,s.h))}function ke(s,e,t){s.i.set(e,t)}function ft(s){return ke(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Lt(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Zt(s,e,t){return"string"==typeof s?(s=encodeURI(s).replace(e,Cn),t&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Cn(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}fs.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Zt(e,Nn,!0),":");var t=this.g;return(t||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(Zt(e,Nn,!0),"@"),s.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&s.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&s.push("/"),s.push(Zt(t,"/"==t.charAt(0)?Cr:Yn,!0))),(t=this.i.toString())&&s.push("?",t),(t=this.o)&&s.push("#",Zt(t,Qr)),s.join("")};var Nn=/[#\/\?@]/g,Yn=/[#\?:]/g,Cr=/[#\?]/g,Wr=/[#\?@]/g,Qr=/#/g;function Vr(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function ni(s){s.g||(s.g=new Map,s.h=0,s.i&&function ws(s,e){if(s){s=s.split("&");for(var t=0;t<s.length;t++){var o=s[t].indexOf("="),h=null;if(0<=o){var m=s[t].substring(0,o);h=s[t].substring(o+1)}else m=s[t];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(s.i,function(e,t){s.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $i(s,e){ni(s),e=Si(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function Er(s,e){return ni(s),e=Si(s,e),s.g.has(e)}function Ds(s,e,t){$i(s,e),0<t.length&&(s.i=null,s.g.set(Si(s,e),qt(t)),s.h+=t.length)}function Si(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}(De=Vr.prototype).add=function(s,e){ni(this),this.i=null,s=Si(this,s);var t=this.g.get(s);return t||this.g.set(s,t=[]),t.push(e),this.h+=1,this},De.forEach=function(s,e){ni(this),this.g.forEach(function(t,o){t.forEach(function(h){s.call(e,h,o,this)},this)},this)},De.oa=function(){ni(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const h=s[o];for(let m=0;m<h.length;m++)t.push(e[o])}return t},De.W=function(s){ni(this);let e=[];if("string"==typeof s)Er(this,s)&&(e=e.concat(this.g.get(Si(this,s))));else{s=Array.from(this.g.values());for(let t=0;t<s.length;t++)e=e.concat(s[t])}return e},De.set=function(s,e){return ni(this),this.i=null,Er(this,s=Si(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},De.get=function(s,e){return s?0<(s=this.W(s)).length?String(s[0]):e:e},De.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const m=encodeURIComponent(String(o)),I=this.W(o);for(o=0;o<I.length;o++){var h=m;""!==I[o]&&(h+="="+encodeURIComponent(String(I[o]))),s.push(h)}}return this.i=s.join("&")};function ki(s){this.l=s||Li,ie.PerformanceNavigationTiming?s=0<(s=ie.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):s=!!(ie.g&&ie.g.Ga&&ie.g.Ga()&&ie.g.Ga().$b),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Li=10;function es(s){return!!s.h||!!s.g&&s.g.size>=s.j}function wo(s){return s.h?1:s.g?s.g.size:0}function yn(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function $r(s,e){s.g?s.g.add(e):s.h=e}function Do(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Qi(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const t of s.g.values())e=e.concat(t.D);return e}return qt(s.i)}function q(){}function E(){this.g=new q}function U(s,e,t){const o=t||"";try{Vi(s,function(h,m){let I=h;J(h)&&(I=Je(h)),e.push(o+m+"="+encodeURIComponent(I))})}catch(h){throw e.push(o+"type="+encodeURIComponent("_badmap")),h}}function Bt(s,e,t,o,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(o)}catch(m){}}function gn(s){this.l=s.ac||null,this.j=s.jb||!1}function ur(s,e){Ut.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=xr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ki.prototype.cancel=function(){if(this.i=Qi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},q.prototype.stringify=function(s){return ie.JSON.stringify(s,void 0)},q.prototype.parse=function(s){return ie.JSON.parse(s,void 0)},it(gn,Ys),gn.prototype.g=function(){return new ur(this.l,this.j)},gn.prototype.i=function(s){return function(){return s}}({}),it(ur,Ut);var xr=0;function te(s){s.j.read().then(s.Ta.bind(s)).catch(s.ga.bind(s))}function D(s){s.readyState=4,s.l=null,s.j=null,s.A=null,H(s)}function H(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(De=ur.prototype).open=function(s,e){if(this.readyState!=xr)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,H(this)},De.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||ie).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},De.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,D(this)),this.readyState=xr},De.Wa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,H(this)),this.g&&(this.readyState=3,H(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==ie.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;te(this)}else s.text().then(this.Va.bind(this),this.ga.bind(this))},De.Ta=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?D(this):H(this),3==this.readyState&&te(this)}},De.Va=function(s){this.g&&(this.response=this.responseText=s,D(this))},De.Ua=function(s){this.g&&(this.response=s,D(this))},De.ga=function(){this.g&&D(this)},De.setRequestHeader=function(s,e){this.v.append(s,e)},De.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},De.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,s.push(t[0]+": "+t[1]),t=e.next();return s.join("\r\n")},Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var ot=ie.JSON.parse;function Jt(s){Ut.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hr,this.K=this.L=!1}it(Jt,Ut);var Hr="",pi=/^https?$/i,Os=["POST","PUT"];function bo(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Sa(s),qo(s)}function Sa(s){s.D||(s.D=!0,Sn(s,"complete"),Sn(s,"error"))}function $s(s){if(s.h&&void 0!==st&&(!s.C[1]||4!=ko(s)||2!=s.aa()))if(s.v&&4==ko(s))Nr(s.Ha,0,s);else if(Sn(s,"readystatechange"),4==ko(s)){s.h=!1;try{const P=s.aa();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===P){var h=String(s.H).match(ti)[1]||null;if(!h&&ie.self&&ie.self.location){var m=ie.self.location.protocol;h=m.substr(0,m.length-1)}o=!pi.test(h?h.toLowerCase():"")}t=o}if(t)Sn(s,"complete"),Sn(s,"success");else{s.m=6;try{var I=2<ko(s)?s.g.statusText:""}catch(G){I=""}s.j=I+" ["+s.aa()+"]",Sa(s)}}finally{qo(s)}}}function qo(s,e){if(s.g){ac(s);const t=s.g,o=s.C[0]?ee:null;s.g=null,s.C=null,e||Sn(s,"ready");try{t.onreadystatechange=o}catch(h){}}}function ac(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(ie.clearTimeout(s.A),s.A=null)}function ko(s){return s.g?s.g.readyState:0}function Ac(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Hr:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Il(s){let e="";return In(s,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Wa(s,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Il(t),"string"==typeof s?null!=t&&encodeURIComponent(String(t)):ke(s,e,t))}function cc(s,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[s]||e}function Ga(s){this.Ca=0,this.i=[],this.j=new se,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=cc("failFast",!1,s),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=cc("baseRetryDelayMs",5e3,s),this.bb=cc("retryDelaySeedMs",1e4,s),this.$a=cc("forwardChannelMaxRetries",2,s),this.ta=cc("forwardChannelRequestTimeoutMs",2e4,s),this.ra=s&&s.xmlHttpFactory||void 0,this.Da=s&&s.Zb||!1,this.J=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.I="",this.h=new ki(s&&s.concurrentRequestLimit),this.Fa=new E,this.O=s&&s.fastHandshake||!1,this.N=s&&s.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=s&&s.Xb||!1,s&&s.Aa&&this.j.Aa(),s&&s.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&s&&s.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function lc(s){if(T(s),3==s.G){var e=s.U++,t=ps(s.F);ke(t,"SID",s.I),ke(t,"RID",e),ke(t,"TYPE","terminate"),Xt(s,t),(e=new Ki(s,s.j,e,void 0)).K=2,e.v=ft(ps(t)),t=!1,ie.navigator&&ie.navigator.sendBeacon&&(t=ie.navigator.sendBeacon(e.v.toString(),"")),!t&&ie.Image&&((new Image).src=e.v,t=!0),t||(e.g=la(e.l,null),e.g.da(e.v)),e.F=Date.now(),Xr(e)}Lo(s)}function V(s){s.g&&(_i(s),s.g.cancel(),s.g=null)}function T(s){V(s),s.u&&(ie.clearTimeout(s.u),s.u=null),Gr(s),s.h.cancel(),s.m&&("number"==typeof s.m&&ie.clearTimeout(s.m),s.m=null)}function re(s){es(s.h)||s.m||(s.m=!0,x(s.Ja,s),s.C=0)}function Tt(s,e){var t;t=e?e.m:s.U++;const o=ps(s.F);ke(o,"SID",s.I),ke(o,"RID",t),ke(o,"AID",s.T),Xt(s,o),s.o&&s.s&&Wa(o,s.o,s.s),t=new Ki(s,s.j,t,s.C+1),null===s.o&&(t.H=s.s),e&&(s.i=e.D.concat(s.i)),e=On(s,t,1e3),t.setTimeout(Math.round(.5*s.ta)+Math.round(.5*s.ta*Math.random())),$r(s.h,t),vn(t,o,e)}function Xt(s,e){s.ia&&In(s.ia,function(t,o){ke(e,o,t)}),s.l&&Vi({},function(t,o){ke(e,o,t)})}function On(s,e,t){t=Math.min(s.i.length,t);var o=s.l?Se(s.l.Ra,s.l,s):null;e:{var h=s.i;let m=-1;for(;;){const I=["count="+t];-1==m?0<t?(m=h[0].h,I.push("ofs="+m)):m=0:I.push("ofs="+m);let P=!0;for(let G=0;G<t;G++){let Q=h[G].h;const Oe=h[G].g;if(Q-=m,0>Q)m=Math.max(0,h[G].h-100),P=!1;else try{U(Oe,I,"req"+Q+"_")}catch(ht){o&&o(Oe)}}if(P){o=I.join("&");break e}}}return s=s.i.splice(0,t),e.D=s,o}function wr(s){s.g||s.u||(s.Z=1,x(s.Ia,s),s.A=0)}function di(s){return!(s.g||s.u||3<=s.A)&&(s.Z++,s.u=Fr(Se(s.Ia,s),Oi(s,s.A)),s.A++,!0)}function _i(s){null!=s.B&&(ie.clearTimeout(s.B),s.B=null)}function yi(s){s.g=new Ki(s,s.j,"rpc",s.Z),null===s.o&&(s.g.H=s.s),s.g.N=0;var e=ps(s.sa);ke(e,"RID","rpc"),ke(e,"SID",s.I),ke(e,"CI",s.L?"0":"1"),ke(e,"AID",s.T),ke(e,"TYPE","xmlhttp"),Xt(s,e),s.o&&s.s&&Wa(e,s.o,s.s),s.J&&s.g.setTimeout(s.J);var t=s.g;s=s.ka,t.K=1,t.v=ft(ps(e)),t.s=null,t.P=!0,Vn(t,s)}function Gr(s){null!=s.v&&(ie.clearTimeout(s.v),s.v=null)}function os(s,e){var t=null;if(s.g==e){Gr(s),_i(s),s.g=null;var o=2}else{if(!yn(s.h,e))return;t=e.D,Do(s.h,e),o=1}if(0!=s.G)if(s.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var h=s.C;Sn(o=jt(),new ai(o,t)),re(s)}else wr(s);else if(3==(h=e.o)||0==h&&0<s.pa||!(1==o&&function Pe(s,e){return!(wo(s.h)>=s.h.j-(s.m?1:0)||(s.m?(s.i=e.D.concat(s.i),0):1==s.G||2==s.G||s.C>=(s.Za?0:s.$a)||(s.m=Fr(Se(s.Ja,s,e),Oi(s,s.C)),s.C++,0)))}(s,e)||2==o&&di(s)))switch(t&&0<t.length&&(e=s.h,e.i=e.i.concat(t)),h){case 1:xi(s,5);break;case 4:xi(s,10);break;case 3:xi(s,6);break;default:xi(s,2)}}function Oi(s,e){let t=s.Xa+Math.floor(Math.random()*s.bb);return s.l||(t*=2),t*e}function xi(s,e){if(s.j.info("Error code "+e),2==e){var t=null;s.l&&(t=null);var o=Se(s.kb,s);t||(t=new fs("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||Vs(t,"https"),ft(t)),function ae(s,e){const t=new se;if(ie.Image){const o=new Image;o.onload=Ye(Bt,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Ye(Bt,t,o,"TestLoadImage: error",!1,e),o.onabort=Ye(Bt,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ye(Bt,t,o,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else e(!1)}(t.toString(),o)}else or(2);s.G=0,s.l&&s.l.va(e),Lo(s),T(s)}function Lo(s){if(s.G=0,s.la=[],s.l){const e=Qi(s.h);(0!=e.length||0!=s.i.length)&&(an(s.la,e),an(s.la,s.i),s.h.i.length=0,qt(s.i),s.i.length=0),s.l.ua()}}function mo(s,e,t){var o=t instanceof fs?ps(t):new fs(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),fi(o,o.m);else{var h=ie.location;o=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var m=new fs(null,void 0);o&&Vs(m,o),e&&(m.g=e),h&&fi(m,h),t&&(m.l=t),o=m}return t=s.D,e=s.za,t&&e&&ke(o,t,e),ke(o,"VER",s.ma),Xt(s,o),o}function la(s,e,t){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t&&s.Da&&!s.ra?new Jt(new gn({jb:!0})):new Jt(s.ra)).Ka(s.H),e}function Zo(){}function Ps(){if(rn&&!(10<=Number(zn)))throw Error("Environmental error: no available transport.")}function Ji(s,e){Ut.call(this),this.g=new Ga(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.S=s,(s=e&&e.Yb)&&!tr(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tr(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&(e in(s=this.h)&&delete s[e])),this.j=new da(this)}function ua(s){qs.call(this);var e=s.__sm__;if(e){e:{for(const t in e){s=t;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function Ku(){Ss.call(this),this.status=1}function da(s){this.g=s}(De=Jt.prototype).Ka=function(s){this.L=s},De.da=function(s,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bs.g(),this.C=this.u?As(this.u):As(Bs),this.g.onreadystatechange=Se(this.Ha,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(m){return void bo(this,m)}if(s=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var h in o)t.set(h,o[h]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const m of o.keys())t.set(m,o.get(m))}o=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),h=ie.FormData&&s instanceof ie.FormData,!(0<=Ht(Os,e))||o||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,I]of t)this.g.setRequestHeader(m,I);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ac(this),0<this.B&&((this.K=function ys(s){return rn&&yr()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Se(this.qa,this)):this.A=Nr(this.qa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(m){bo(this,m)}},De.qa=function(){void 0!==st&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sn(this,"timeout"),this.abort(8))},De.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Sn(this,"complete"),Sn(this,"abort"),qo(this))},De.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qo(this,!0)),Jt.X.M.call(this)},De.Ha=function(){this.s||(this.F||this.v||this.l?$s(this):this.fb())},De.fb=function(){$s(this)},De.aa=function(){try{return 2<ko(this)?this.g.status:-1}catch(s){return-1}},De.fa=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},De.Sa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),ot(e)}},De.Ea=function(){return this.m},De.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(De=Ga.prototype).ma=8,De.G=1,De.Ja=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const h=new Ki(this,this.j,s,void 0);let m=this.s;if(this.S&&(m?(m=Wt(m),Rn(m,this.S)):m=this.S),null!==this.o||this.N||(h.H=m,m=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=On(this,h,e),ke(t=ps(this.F),"RID",s),ke(t,"CVER",22),this.D&&ke(t,"X-HTTP-Session-Id",this.D),Xt(this,t),m&&(this.N?e="headers="+encodeURIComponent(String(Il(m)))+"&"+e:this.o&&Wa(t,this.o,m)),$r(this.h,h),this.Ya&&ke(t,"TYPE","init"),this.O?(ke(t,"$req",e),ke(t,"SID","null"),h.Z=!0,vn(h,t,null)):vn(h,t,e),this.G=2}}else 3==this.G&&(s?Tt(this,s):0==this.i.length||es(this.h)||Tt(this))},De.Ia=function(){if(this.u=null,yi(this),this.$&&!(this.K||null==this.g||0>=this.P)){var s=2*this.P;this.j.info("BP detection timer enabled: "+s),this.B=Fr(Se(this.eb,this),s)}},De.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,or(10),V(this),yi(this))},De.cb=function(){null!=this.v&&(this.v=null,V(this),di(this),or(19))},De.kb=function(s){s?(this.j.info("Successfully pinged google.com"),or(2)):(this.j.info("Failed to ping google.com"),or(1))},(De=Zo.prototype).xa=function(){},De.wa=function(){},De.va=function(){},De.ua=function(){},De.Ra=function(){},Ps.prototype.g=function(s,e){return new Ji(s,e)},it(Ji,Ut),Ji.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,t=this.h||void 0;or(0),s.V=e,s.ia=t||{},s.L=s.Y,s.F=mo(s,null,s.V),re(s)},Ji.prototype.close=function(){lc(this.g)},Ji.prototype.u=function(s){var e=this.g;if("string"==typeof s){var t={};t.__data__=s,s=t}else this.v&&((t={}).__data__=Je(s),s=t);e.i.push(new class{constructor(s,e){this.h=s,this.g=e}}(e.ab++,s)),3==e.G&&re(e)},Ji.prototype.M=function(){this.g.l=null,delete this.j,lc(this.g),delete this.g,Ji.X.M.call(this)},it(ua,qs),it(Ku,Ss),it(da,Zo),da.prototype.xa=function(){Sn(this.g,"a")},da.prototype.wa=function(s){Sn(this.g,new ua(s))},da.prototype.va=function(s){Sn(this.g,new Ku)},da.prototype.ua=function(){Sn(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,Ji.prototype.send=Ji.prototype.u,Ji.prototype.open=Ji.prototype.m,Ji.prototype.close=Ji.prototype.close,ui.NO_ERROR=0,ui.TIMEOUT=8,ui.HTTP_ERROR=6,bi.COMPLETE="complete",Ti.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",Ut.prototype.listen=Ut.prototype.N,Jt.prototype.listenOnce=Jt.prototype.O,Jt.prototype.getLastError=Jt.prototype.Oa,Jt.prototype.getLastErrorCode=Jt.prototype.Ea,Jt.prototype.getStatus=Jt.prototype.aa,Jt.prototype.getResponseJson=Jt.prototype.Sa,Jt.prototype.getResponseText=Jt.prototype.fa,Jt.prototype.send=Jt.prototype.da,Jt.prototype.setWithCredentials=Jt.prototype.Ka;var ou=me.createWebChannelTransport=function(){return new Ps},Ud=me.getStatEventTarget=function(){return jt()},Cl=me.ErrorCode=ui,wl=me.EventType=bi,Vd=me.Event=ut,ha=me.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Qc=me.FetchXmlHttpFactory=gn,uc=me.WebChannel=Ti,Jc=me.XhrIo=Jt;const Dl="@firebase/firestore";class bs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bs.UNAUTHENTICATED=new bs(null),bs.GOOGLE_CREDENTIALS=new bs("google-credentials-uid"),bs.FIRST_PARTY=new bs("first-party-uid"),bs.MOCK_USER=new bs("mock-user");let Hs="9.14.0";const Xo=new yt.Yd("@firebase/firestore");function _o(){return Xo.logLevel}function Pn(s,...e){if(Xo.logLevel<=yt.in.DEBUG){const t=e.map(gs);Xo.debug(`Firestore (${Hs}): ${s}`,...t)}}function qi(s,...e){if(Xo.logLevel<=yt.in.ERROR){const t=e.map(gs);Xo.error(`Firestore (${Hs}): ${s}`,...t)}}function To(s,...e){if(Xo.logLevel<=yt.in.WARN){const t=e.map(gs);Xo.warn(`Firestore (${Hs}): ${s}`,...t)}}function gs(s){if("string"==typeof s)return s;try{return e=s,JSON.stringify(e)}catch(t){return s}var e}function Ir(s="Unexpected state"){const e=`FIRESTORE (${Hs}) INTERNAL ASSERTION FAILED: `+s;throw qi(e),new Error(e)}function ar(s,e){s||Ir()}function rr(s,e){return s}const tn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fn extends et.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class za{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bs.UNAUTHENTICATED))}shutdown(){}}class Wo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ro{constructor(e){this.t=e,this.currentUser=bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let h=this.i;const m=Q=>this.i!==h?(h=this.i,t(Q)):Promise.resolve();let I=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new vs,e.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const Q=I;e.enqueueRetryable((0,Ee.Z)(function*(){yield Q.promise,yield m(o.currentUser)}))},G=Q=>{Pn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(Q=>G(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?G(Q):(Pn("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new vs)}},0),P()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Pn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(ar("string"==typeof o.accessToken),new za(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ar(null===e||"string"==typeof e),new bs(e)}}class Zs{constructor(e,t,o,h){this.h=e,this.l=t,this.m=o,this.g=h,this.type="FirstParty",this.user=bs.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ar(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Yu{constructor(e,t,o,h){this.h=e,this.l=t,this.m=o,this.g=h}getToken(){return Promise.resolve(new Zs(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ka{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fa{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=m=>{null!=m.error&&Pn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const I=m.token!==this.A;return this.A=m.token,Pn("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const h=m=>{Pn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.T.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.T.getImmediate({optional:!0});m?h(m):Pn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ar("string"==typeof t.token),this.A=t.token,new Ka(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xs(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<s;o++)t[o]=Math.floor(256*Math.random());return t}class Sc{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const h=Xs(40);for(let m=0;m<h.length;++m)o.length<20&&h[m]<t&&(o+=e.charAt(h[m]%e.length))}return o}}function zr(s,e){return s<e?-1:s>e?1:0}function Jo(s,e,t){return s.length===e.length&&s.every((o,h)=>t(o,e[h]))}function au(s){return s+"\0"}class Kr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fn(tn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fn(tn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fn(tn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fn(tn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kr.fromMillis(Date.now())}static fromDate(e){return Kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Kr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zr(this.nanoseconds,e.nanoseconds):zr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Br{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Br(e)}static min(){return new Br(new Kr(0,0))}static max(){return new Br(new Kr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ya{constructor(e,t,o){void 0===t?t=0:t>e.length&&Ir(),void 0===o?o=e.length-t:o>e.length-t&&Ir(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Ya.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ya?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let h=0;h<o;h++){const m=e.get(h),I=t.get(h);if(m<I)return-1;if(m>I)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jr extends Ya{construct(e,t,o){return new Jr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new fn(tn.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(h=>h.length>0))}return new Jr(t)}static emptyPath(){return new Jr([])}}const yo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mi extends Ya{construct(e,t,o){return new Mi(e,t,o)}static isValidIdentifier(e){return yo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mi(["__name__"])}static fromServerFormat(e){const t=[];let o="",h=0;const m=()=>{if(0===o.length)throw new fn(tn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let I=!1;for(;h<e.length;){const P=e[h];if("\\"===P){if(h+1===e.length)throw new fn(tn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[h+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new fn(tn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=G,h+=2}else"`"===P?(I=!I,h++):"."!==P||I?(o+=P,h++):(m(),h++)}if(m(),I)throw new fn(tn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mi(t)}static emptyPath(){return new Mi([])}}class Xn{constructor(e){this.path=e}static fromPath(e){return new Xn(Jr.fromString(e))}static fromName(e){return new Xn(Jr.fromString(e).popFirst(5))}static empty(){return new Xn(Jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xn(new Jr(e.slice()))}}class ea{constructor(e,t,o,h){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=h}}function Fo(s){return s.fields.find(e=>2===e.kind)}function Qs(s){return s.fields.filter(e=>2!==e.kind)}ea.UNKNOWN_ID=-1;class io{constructor(e,t){this.fieldPath=e,this.kind=t}}class Di{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Di(0,Ts.min())}}function $d(s,e){const t=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,h=Br.fromTimestamp(1e9===o?new Kr(t+1,0):new Kr(t,o));return new Ts(h,Xn.empty(),e)}function fc(s){return new Ts(s.readTime,s.key,-1)}class Ts{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Ts(Br.min(),Xn.empty(),-1)}static max(){return new Ts(Br.max(),Xn.empty(),-1)}}function Rc(s,e){let t=s.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xn.comparator(s.documentKey,e.documentKey),0!==t?t:zr(s.largestBatchId,e.largestBatchId))}const cu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function pa(s){return So.apply(this,arguments)}function So(){return So=(0,Ee.Z)(function*(s){if(s.code!==tn.FAILED_PRECONDITION||s.message!==cu)throw s;Pn("LocalStore","Unexpectedly lost primary lease")}),So.apply(this,arguments)}class nn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ir(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nn((o,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,h)},this.catchCallback=m=>{this.wrapFailure(t,m).next(o,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof nn?t:nn.resolve(t)}catch(t){return nn.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):nn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):nn.reject(t)}static resolve(e){return new nn((t,o)=>{t(e)})}static reject(e){return new nn((t,o)=>{o(e)})}static waitFor(e){return new nn((t,o)=>{let h=0,m=0,I=!1;e.forEach(P=>{++h,P.next(()=>{++m,I&&m===h&&t()},G=>o(G))}),I=!0,m===h&&t()})}static or(e){let t=nn.resolve(!1);for(const o of e)t=t.next(h=>h?nn.resolve(h):o());return t}static forEach(e,t){const o=[];return e.forEach((h,m)=>{o.push(t.call(this,h,m))}),this.waitFor(o)}static mapArray(e,t){return new nn((o,h)=>{const m=e.length,I=new Array(m);let P=0;for(let G=0;G<m;G++){const Q=G;t(e[Q]).next(Oe=>{I[Q]=Oe,++P,P===m&&o(I)},Oe=>h(Oe))}})}static doWhile(e,t){return new nn((o,h)=>{const m=()=>{!0===e()?t().next(()=>{m()},h):o()};m()})}}class Oc{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new vs,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ta(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const h=Mc(o.target.error);this.P.reject(new ta(e,h))}}static open(e,t,o,h){try{return new Oc(t,e.transaction(h,o))}catch(m){throw new ta(t,m)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Pn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Tl(t)}}class Hi{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Hi.D((0,et.z$)())&&qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pn("SimpleDb","Removing database:",e),xs(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,et.hl)())return!1;if(Hi.N())return!0;const e=(0,et.z$)(),t=Hi.D(e),o=0<t&&t<10,h=Hi.k(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(Pn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,h)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=I=>{const P=I.target.result;o(P)},m.onblocked=()=>{h(new ta(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=I=>{const P=I.target.error;"VersionError"===P.name?h(new fn(tn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===P.name?h(new fn(tn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P)):h(new ta(e,P))},m.onupgradeneeded=I=>{Pn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',I.oldVersion);const P=I.target.result;t.S.$(P,m.transaction,I.oldVersion,t.version).next(()=>{Pn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,h){var m=this;return(0,Ee.Z)(function*(){const I="readonly"===t;let P=0;for(;;){++P;try{m.db=yield m.F(e);const G=Oc.open(m.db,e,I?"readonly":"readwrite",o),Q=h(G).next(Oe=>(G.V(),Oe)).catch(Oe=>(G.abort(Oe),nn.reject(Oe))).toPromise();return Q.catch(()=>{}),yield G.v,Q}catch(G){const Q=G,Oe="FirebaseError"!==Q.name&&P<3;if(Pn("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",Oe),m.close(),!Oe)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ra{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return xs(this.U.delete())}}class ta extends fn{constructor(e,t){super(tn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ga(s){return"IndexedDbTransactionError"===s.name}class Tl{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Pn("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Pn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),xs(o)}add(e){return Pn("SimpleDb","ADD",this.store.name,e,e),xs(this.store.add(e))}get(e){return xs(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pn("SimpleDb","DELETE",this.store.name,e),xs(this.store.delete(e))}count(){return Pn("SimpleDb","COUNT",this.store.name),xs(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const h=this.cursor(o),m=[];return this.H(h,(I,P)=>{m.push(P)}).next(()=>m)}{const h=this.store.getAll(o.range);return new nn((m,I)=>{h.onerror=P=>{I(P.target.error)},h.onsuccess=P=>{m(P.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new nn((h,m)=>{o.onerror=I=>{m(I.target.error)},o.onsuccess=I=>{h(I.target.result)}})}Y(e,t){Pn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const h=this.cursor(o);return this.H(h,(m,I,P)=>P.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const h=this.cursor(o);return this.H(h,t)}tt(e){const t=this.cursor({});return new nn((o,h)=>{t.onerror=m=>{const I=Mc(m.target.error);h(I)},t.onsuccess=m=>{const I=m.target.result;I?e(I.primaryKey,I.value).next(P=>{P?I.continue():o()}):o()}})}H(e,t){const o=[];return new nn((h,m)=>{e.onerror=I=>{m(I.target.error)},e.onsuccess=I=>{const P=I.target.result;if(!P)return void h();const G=new Ra(P),Q=t(P.primaryKey,P.value,G);if(Q instanceof nn){const Oe=Q.catch(ht=>(G.done(),nn.reject(ht)));o.push(Oe)}G.isDone?h():null===G.G?P.continue():P.continue(G.G)}}).next(()=>nn.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xs(s){return new nn((e,t)=>{s.onsuccess=o=>{const h=o.target.result;e(h)},s.onerror=o=>{const h=Mc(o.target.error);t(h)}})}let Go=!1;function Mc(s){const e=Hi.D((0,et.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const o=new fn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Go||(Go=!0,setTimeout(()=>{throw o},0)),o}}return s}class pc{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Pn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.Z)(function*(){t.task=null;try{Pn("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){ga(o)?Pn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield pa(o)}yield t.nt(6e4)}))}}class vo{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let h=t,m=!0;return nn.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(I=>{if(null!==I&&!o.has(I))return Pn("IndexBackiller",`Processing collection: ${I}`),this.rt(e,I,h).next(P=>{h-=P,o.add(I)});m=!1})).next(()=>t-h)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,o).next(m=>{const I=m.changes;return this.localStore.indexManager.updateIndexEntries(e,I).next(()=>this.ot(h,m)).next(P=>(Pn("IndexBackiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,t,P))).next(()=>I.size)}))}ot(e,t){let o=e;return t.changes.forEach((h,m)=>{const I=fc(m);Rc(I,o)>0&&(o=I)}),new Ts(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class lo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function el(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Ro(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function gc(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}lo.at=-1;class Es{constructor(e,t){this.comparator=e,this.root=t||ji.EMPTY}insert(e,t){return new Es(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new Es(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const h=this.comparator(e,o.key);if(0===h)return t+o.left.size;h<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,t,o,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?o(e.key,t):1,t&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,t,o,h,m){this.key=e,this.value=t,this.color=null!=o?o:ji.RED,this.left=null!=h?h:ji.EMPTY,this.right=null!=m?m:ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,h,m){return new ji(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=h?h:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let h=this;const m=o(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,t,o),null):0===m?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,o)),h.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return ji.EMPTY;o=h.right.min(),h=h.copy(o.key,o.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ir();const e=this.left.check();if(e!==this.right.check())throw Ir();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new class{constructor(){this.size=0}get key(){throw Ir()}get value(){throw Ir()}get color(){throw Ir()}get left(){throw Ir()}get right(){throw Ir()}copy(s,e,t,o,h){return this}insert(s,e,t){return new ji(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wi{constructor(e){this.comparator=e,this.data=new Es(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const h=o.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new S(this.data.getIterator())}getIteratorFrom(e){return new S(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=o.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wi(this.comparator);return t.data=e,t}}class S{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function v(s){return s.hasNext()?s.getNext():void 0}class b{constructor(e){this.fields=e,e.sort(Mi.comparator)}static empty(){return new b([])}unionWith(e){let t=new Wi(Mi.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new b(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class W{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new W(t)}static fromUint8Array(e){const t=function(o){let h="";for(let m=0;m<o.length;++m)h+=String.fromCharCode(o[m]);return h}(e);return new W(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}W.EMPTY_BYTE_STRING=new W("");const ce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ve(s){if(ar(!!s),"string"==typeof s){let e=0;const t=ce.exec(s);if(ar(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:rt(s.seconds),nanos:rt(s.nanos)}}function rt(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function sn(s){return"string"==typeof s?W.fromBase64String(s):W.fromUint8Array(s)}function qn(s){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ln(s){const e=s.mapValue.fields.__previous_value__;return qn(e)?Ln(e):e}function Or(s){const e=ve(s.mapValue.fields.__local_write_time__.timestampValue);return new Kr(e.seconds,e.nanos)}class Yr{constructor(e,t,o,h,m,I,P,G){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=h,this.ssl=m,this.forceLongPolling=I,this.autoDetectLongPolling=P,this.useFetchStreams=G}}class Ci{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ci("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ci&&e.projectId===this.projectId&&e.database===this.database}}function Is(s){return null==s}function uo(s){return 0===s&&1/s==-1/0}function ho(s){return"number"==typeof s&&Number.isInteger(s)&&!uo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const so={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ma={nullValue:"NULL_VALUE"};function Oo(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qn(s)?4:vi(s)?9007199254740991:10:Ir()}function ts(s,e){if(s===e)return!0;const t=Oo(s);if(t!==Oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Or(s).isEqual(Or(e));case 3:return function(o,h){if("string"==typeof o.timestampValue&&"string"==typeof h.timestampValue&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const m=ve(o.timestampValue),I=ve(h.timestampValue);return m.seconds===I.seconds&&m.nanos===I.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return h=e,sn(s.bytesValue).isEqual(sn(h.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return rt(o.geoPointValue.latitude)===rt(h.geoPointValue.latitude)&&rt(o.geoPointValue.longitude)===rt(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return rt(o.integerValue)===rt(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const m=rt(o.doubleValue),I=rt(h.doubleValue);return m===I?uo(m)===uo(I):isNaN(m)&&isNaN(I)}return!1}(s,e);case 9:return Jo(s.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:return function(o,h){const m=o.mapValue.fields||{},I=h.mapValue.fields||{};if(el(m)!==el(I))return!1;for(const P in m)if(m.hasOwnProperty(P)&&(void 0===I[P]||!ts(m[P],I[P])))return!1;return!0}(s,e);default:return Ir()}var h}function xc(s,e){return void 0!==(s.values||[]).find(t=>ts(t,e))}function ns(s,e){if(s===e)return 0;const t=Oo(s),o=Oo(e);if(t!==o)return zr(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return zr(s.booleanValue,e.booleanValue);case 2:return function(h,m){const I=rt(h.integerValue||h.doubleValue),P=rt(m.integerValue||m.doubleValue);return I<P?-1:I>P?1:I===P?0:isNaN(I)?isNaN(P)?0:-1:1}(s,e);case 3:return Al(s.timestampValue,e.timestampValue);case 4:return Al(Or(s),Or(e));case 5:return zr(s.stringValue,e.stringValue);case 6:return function(h,m){const I=sn(h),P=sn(m);return I.compareTo(P)}(s.bytesValue,e.bytesValue);case 7:return function(h,m){const I=h.split("/"),P=m.split("/");for(let G=0;G<I.length&&G<P.length;G++){const Q=zr(I[G],P[G]);if(0!==Q)return Q}return zr(I.length,P.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,m){const I=zr(rt(h.latitude),rt(m.latitude));return 0!==I?I:zr(rt(h.longitude),rt(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(h,m){const I=h.values||[],P=m.values||[];for(let G=0;G<I.length&&G<P.length;++G){const Q=ns(I[G],P[G]);if(Q)return Q}return zr(I.length,P.length)}(s.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===so.mapValue&&m===so.mapValue)return 0;if(h===so.mapValue)return 1;if(m===so.mapValue)return-1;const I=h.fields||{},P=Object.keys(I),G=m.fields||{},Q=Object.keys(G);P.sort(),Q.sort();for(let Oe=0;Oe<P.length&&Oe<Q.length;++Oe){const ht=zr(P[Oe],Q[Oe]);if(0!==ht)return ht;const Kt=ns(I[P[Oe]],G[Q[Oe]]);if(0!==Kt)return Kt}return zr(P.length,Q.length)}(s.mapValue,e.mapValue);default:throw Ir()}}function Al(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return zr(s,e);const t=ve(s),o=ve(e),h=zr(t.seconds,o.seconds);return 0!==h?h:zr(t.nanos,o.nanos)}function Nc(s){return uu(s)}function uu(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const h=ve(o);return`time(${h.seconds},${h.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?sn(s.bytesValue).toBase64():"referenceValue"in s?(t=s.referenceValue,Xn.fromName(t).toString()):"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(o){let h="[",m=!0;for(const I of o.values||[])m?m=!1:h+=",",h+=uu(I);return h+"]"}(s.arrayValue):"mapValue"in s?function(o){const h=Object.keys(o.fields||{}).sort();let m="{",I=!0;for(const P of h)I?I=!1:m+=",",m+=`${P}:${uu(o.fields[P])}`;return m+"}"}(s.mapValue):Ir();var e,t}function zo(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function qu(s){return!!s&&"integerValue"in s}function Sl(s){return!!s&&"arrayValue"in s}function tl(s){return!!s&&"nullValue"in s}function Rl(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oa(s){return!!s&&"mapValue"in s}function wi(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ro(s.mapValue.fields,(t,o)=>e.mapValue.fields[t]=wi(o)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wi(s.arrayValue.values[t]);return e}return Object.assign({},s)}function vi(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function gi(s){return"nullValue"in s?ma:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?zo(Ci.empty(),Xn.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:Ir()}function Ma(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?zo(Ci.empty(),Xn.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?so:Ir()}function Fi(s,e){const t=ns(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function kc(s,e){const t=ns(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class oo{constructor(e){this.value=e}static empty(){return new oo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Oa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wi(t)}setAll(e){let t=Mi.emptyPath(),o={},h=[];e.forEach((I,P)=>{if(!t.isImmediateParentOf(P)){const G=this.getFieldsMap(t);this.applyChanges(G,o,h),o={},h=[],t=P.popLast()}I?o[P.lastSegment()]=wi(I):h.push(P.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,o,h)}delete(e){const t=this.field(e.popLast());Oa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let h=t.mapValue.fields[e.get(o)];Oa(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,o){Ro(t,(h,m)=>e[h]=m);for(const h of o)delete e[h]}clone(){return new oo(wi(this.value))}}function nl(s){const e=[];return Ro(s.fields,(t,o)=>{const h=new Mi([t]);if(Oa(o)){const m=nl(o.mapValue).fields;if(0===m.length)e.push(h);else for(const I of m)e.push(h.child(I))}else e.push(h)}),new b(e)}class as{constructor(e,t,o,h,m,I){this.key=e,this.documentType=t,this.version=o,this.readTime=h,this.data=m,this.documentState=I}static newInvalidDocument(e){return new as(e,0,Br.min(),Br.min(),oo.empty(),0)}static newFoundDocument(e,t,o){return new as(e,1,t,Br.min(),o,0)}static newNoDocument(e,t){return new as(e,2,t,Br.min(),oo.empty(),0)}static newUnknownDocument(e,t){return new as(e,3,t,Br.min(),oo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Br.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof as&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new as(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zi{constructor(e,t=null,o=[],h=[],m=null,I=null,P=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=h,this.limit=m,this.startAt=I,this.endAt=P,this.ht=null}}function ri(s,e=null,t=[],o=[],h=null,m=null,I=null){return new Zi(s,e,t,o,h,m,I)}function js(s){const e=rr(s);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(h=o).field.canonicalString()+h.op.toString()+Nc(h.value);var h}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(h=o).field.canonicalString()+h.dir;var h}).join(","),Is(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Nc(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Nc(o)).join(",")),e.ht=t}return e.ht}function Lc(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let h=0;h<s.orderBy.length;h++)if(!mi(s.orderBy[h],e.orderBy[h]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let h=0;h<s.filters.length;h++)if(t=s.filters[h],o=e.filters[h],t.op!==o.op||!t.field.isEqual(o.field)||!ts(t.value,o.value))return!1;var t,o;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Za(s.startAt,e.startAt)&&Za(s.endAt,e.endAt)}function Eo(s){return Xn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function Hd(s,e){return s.filters.filter(t=>t instanceof fo&&t.field.isEqual(e))}function nf(s,e,t){let o=ma,h=!0;for(const m of Hd(s,e)){let I=ma,P=!0;switch(m.op){case"<":case"<=":I=gi(m.value);break;case"==":case"in":case">=":I=m.value;break;case">":I=m.value,P=!1;break;case"!=":case"not-in":I=ma}Fi({value:o,inclusive:h},{value:I,inclusive:P})<0&&(o=I,h=P)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const I=t.position[m];Fi({value:o,inclusive:h},{value:I,inclusive:t.inclusive})<0&&(o=I,h=t.inclusive);break}return{value:o,inclusive:h}}function jd(s,e,t){let o=so,h=!0;for(const m of Hd(s,e)){let I=so,P=!0;switch(m.op){case">=":case">":I=Ma(m.value),P=!1;break;case"==":case"in":case"<=":I=m.value;break;case"<":I=m.value,P=!1;break;case"!=":case"not-in":I=so}kc({value:o,inclusive:h},{value:I,inclusive:P})>0&&(o=I,h=P)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const I=t.position[m];kc({value:o,inclusive:h},{value:I,inclusive:t.inclusive})>0&&(o=I,h=t.inclusive);break}return{value:o,inclusive:h}}class fo extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new na(e,t,o):"array-contains"===t?new Ep(e,o):"in"===t?new rf(e,o):"not-in"===t?new Fg(e,o):"array-contains-any"===t?new Gd(e,o):new fo(e,t,o)}static lt(e,t,o){return"in"===t?new Zu(e,o):new du(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ns(t,this.value)):null!==t&&Oo(this.value)===Oo(t)&&this.ft(ns(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ir()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class na extends fo{constructor(e,t,o){super(e,t,o),this.key=Xn.fromName(o.referenceValue)}matches(e){const t=Xn.comparator(e.key,this.key);return this.ft(t)}}class Zu extends fo{constructor(e,t){super(e,"in",t),this.keys=Wd("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class du extends fo{constructor(e,t){super(e,"not-in",t),this.keys=Wd("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Wd(s,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Xn.fromName(o.referenceValue))}class Ep extends fo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sl(t)&&xc(t.arrayValue,this.value)}}class rf extends fo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xc(this.value.arrayValue,t)}}class Fg extends fo{constructor(e,t){super(e,"not-in",t)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xc(this.value.arrayValue,t)}}class Gd extends fo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>xc(this.value.arrayValue,o))}}class mc{constructor(e,t){this.position=e,this.inclusive=t}}class Ws{constructor(e,t="asc"){this.field=e,this.dir=t}}function mi(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function rl(s,e,t){let o=0;for(let h=0;h<s.position.length;h++){const m=e[h],I=s.position[h];if(o=m.field.isKeyField()?Xn.comparator(Xn.fromName(I.referenceValue),t.key):ns(I,t.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function Za(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!ts(s.position[t],e.position[t]))return!1;return!0}class Xa{constructor(e,t=null,o=[],h=[],m=null,I="F",P=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=h,this.limit=m,this.limitType=I,this.startAt=P,this.endAt=G,this._t=null,this.wt=null,this.startAt,this.endAt}}function Pa(s,e,t,o,h,m,I,P){return new Xa(s,e,t,o,h,m,I,P)}function _c(s){return new Xa(s)}function Ns(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function hu(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function Io(s){for(const e of s.filters)if(e.dt())return e.field;return null}function Xu(s){return null!==s.collectionGroup}function xa(s){const e=rr(s);if(null===e._t){e._t=[];const t=Io(e),o=hu(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new Ws(t)),e._t.push(new Ws(Mi.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e._t.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Ws(Mi.keyField(),m))}}}return e._t}function Ms(s){const e=rr(s);if(!e.wt)if("F"===e.limitType)e.wt=ri(e.path,e.collectionGroup,xa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of xa(e)){const I="desc"===m.dir?"asc":"desc";t.push(new Ws(m.field,I))}const o=e.endAt?new mc(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new mc(e.startAt.position,e.startAt.inclusive):null;e.wt=ri(e.path,e.collectionGroup,t,e.filters,e.limit,o,h)}return e.wt}function Ol(s,e,t){return new Xa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Ml(s,e){return Lc(Ms(s),Ms(e))&&s.limitType===e.limitType}function Qu(s){return`${js(Ms(s))}|lt:${s.limitType}`}function Ju(s){return`Query(target=${function Lg(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Nc(o.value)}`;var o}).join(", ")}]`),Is(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(t=>Nc(t)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(t=>Nc(t)).join(",")),`Target(${e})`}(Ms(s))}; limitType=${s.limitType})`}function ks(s,e){return e.isFoundDocument()&&function(t,o){const h=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):Xn.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(s,e)&&function(t,o){for(const h of t.explicitOrderBy)if(!h.field.isKeyField()&&null===o.data.field(h.field))return!1;return!0}(s,e)&&function(t,o){for(const h of t.filters)if(!h.matches(o))return!1;return!0}(s,e)&&(o=e,!((t=s).startAt&&!function(h,m,I){const P=rl(h,m,I);return h.inclusive?P<=0:P<0}(t.startAt,xa(t),o)||t.endAt&&!function(h,m,I){const P=rl(h,m,I);return h.inclusive?P>=0:P>0}(t.endAt,xa(t),o)));var t,o}function _a(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function yc(s){return(e,t)=>{let o=!1;for(const h of xa(s)){const m=sf(h,e,t);if(0!==m)return m;o=o||h.field.isKeyField()}return 0}}function sf(s,e,t){const o=s.field.isKeyField()?Xn.comparator(e.key,t.key):function(h,m,I){const P=m.data.field(h),G=I.data.field(h);return null!==P&&null!==G?ns(P,G):Ir()}(s.field,e,t);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return Ir()}}function of(s,e){if(s.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uo(e)?"-0":e}}function af(s){return{integerValue:""+s}}function cs(s,e){return ho(e)?af(e):of(s,e)}class ed{constructor(){this._=void 0}}function Ip(s,e,t){return s instanceof Na?function(o,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&(m.fields.__previous_value__=h),{mapValue:m}}(t,e):s instanceof M?g(s,e):s instanceof C?N(s,e):function(o,h){const m=td(o,h),I=ze(m)+ze(o.yt);return qu(m)&&qu(o.yt)?af(I):of(o.It,I)}(s,e)}function Pl(s,e,t){return s instanceof M?g(s,e):s instanceof C?N(s,e):t}function td(s,e){return s instanceof pe?qu(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Na extends ed{}class M extends ed{constructor(e){super(),this.elements=e}}function g(s,e){const t=Ft(e);for(const o of s.elements)t.some(h=>ts(h,o))||t.push(o);return{arrayValue:{values:t}}}class C extends ed{constructor(e){super(),this.elements=e}}function N(s,e){let t=Ft(e);for(const o of s.elements)t=t.filter(h=>!ts(h,o));return{arrayValue:{values:t}}}class pe extends ed{constructor(e,t){super(),this.It=e,this.yt=t}}function ze(s){return rt(s.integerValue||s.doubleValue)}function Ft(s){return Sl(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class wn{constructor(e,t){this.field=e,this.transform=t}}class Ur{constructor(e,t){this.version=e,this.transformResults=t}}class br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bi(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class ra{}function Qa(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new ia(s.key,br.none()):new ya(s.key,s.data,br.none());{const t=s.data,o=oo.empty();let h=new Wi(Mi.comparator);for(let m of e.fields)if(!h.has(m)){let I=t.field(m);null===I&&m.length>1&&(m=m.popLast(),I=t.field(m)),null===I?o.delete(m):o.set(m,I),h=h.add(m)}return new Bo(s.key,o,new b(h.toArray()),br.none())}}function nd(s,e,t){var m;s instanceof ya?function(o,h,m){const I=o.value.clone(),P=xl(o.fieldTransforms,h,m.transformResults);I.setAll(P),h.convertToFoundDocument(m.version,I).setHasCommittedMutations()}(s,e,t):s instanceof Bo?function(o,h,m){if(!Bi(o.precondition,h))return void h.convertToUnknownDocument(m.version);const I=xl(o.fieldTransforms,h,m.transformResults),P=h.data;P.setAll(Bc(o)),P.setAll(I),h.convertToFoundDocument(m.version,P).setHasCommittedMutations()}(s,e,t):(m=t,e.convertToNoDocument(m.version).setHasCommittedMutations())}function Fc(s,e,t,o){return s instanceof ya?function(h,m,I,P){if(!Bi(h.precondition,m))return I;const G=h.value.clone(),Q=il(h.fieldTransforms,P,m);return G.setAll(Q),m.convertToFoundDocument(m.version,G).setHasLocalMutations(),null}(s,e,t,o):s instanceof Bo?function(h,m,I,P){if(!Bi(h.precondition,m))return I;const G=il(h.fieldTransforms,P,m),Q=m.data;return Q.setAll(Bc(h)),Q.setAll(G),m.convertToFoundDocument(m.version,Q).setHasLocalMutations(),null===I?null:I.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Oe=>Oe.field))}(s,e,t,o):(m=e,I=t,Bi(s.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):I);var m,I}function rd(s,e){let t=null;for(const o of s.fieldTransforms){const h=e.data.field(o.field),m=td(o.transform,h||null);null!=m&&(null===t&&(t=oo.empty()),t.set(o.field,m))}return t||null}function id(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(t=s.fieldTransforms,o=e.fieldTransforms,!!(void 0===t&&void 0===o||t&&o&&Jo(t,o,(h,m)=>function Dr(s,e){return s.field.isEqual(e.field)&&(t=s.transform,o=e.transform,t instanceof M&&o instanceof M||t instanceof C&&o instanceof C?Jo(t.elements,o.elements,ts):t instanceof pe&&o instanceof pe?ts(t.yt,o.yt):t instanceof Na&&o instanceof Na);var t,o}(h,m))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var t,o}class ya extends ra{constructor(e,t,o,h=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Bo extends ra{constructor(e,t,o,h,m=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Bc(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=s.data.field(t);e.set(t,o)}}),e}function xl(s,e,t){const o=new Map;ar(s.length===t.length);for(let h=0;h<t.length;h++){const m=s[h],I=m.transform,P=e.data.field(m.field);o.set(m.field,Pl(I,P,t[h]))}return o}function il(s,e,t){const o=new Map;for(const h of s){const m=h.transform,I=t.data.field(h.field);o.set(h.field,Ip(m,I,e))}return o}class ia extends ra{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zd extends ra{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sa{constructor(e){this.count=e}}var Gs,Ui;function cf(s){switch(s){default:return Ir();case tn.CANCELLED:case tn.UNKNOWN:case tn.DEADLINE_EXCEEDED:case tn.RESOURCE_EXHAUSTED:case tn.INTERNAL:case tn.UNAVAILABLE:case tn.UNAUTHENTICATED:return!1;case tn.INVALID_ARGUMENT:case tn.NOT_FOUND:case tn.ALREADY_EXISTS:case tn.PERMISSION_DENIED:case tn.FAILED_PRECONDITION:case tn.ABORTED:case tn.OUT_OF_RANGE:case tn.UNIMPLEMENTED:case tn.DATA_LOSS:return!0}}function Kd(s){if(void 0===s)return qi("GRPC error has no .code"),tn.UNKNOWN;switch(s){case Gs.OK:return tn.OK;case Gs.CANCELLED:return tn.CANCELLED;case Gs.UNKNOWN:return tn.UNKNOWN;case Gs.DEADLINE_EXCEEDED:return tn.DEADLINE_EXCEEDED;case Gs.RESOURCE_EXHAUSTED:return tn.RESOURCE_EXHAUSTED;case Gs.INTERNAL:return tn.INTERNAL;case Gs.UNAVAILABLE:return tn.UNAVAILABLE;case Gs.UNAUTHENTICATED:return tn.UNAUTHENTICATED;case Gs.INVALID_ARGUMENT:return tn.INVALID_ARGUMENT;case Gs.NOT_FOUND:return tn.NOT_FOUND;case Gs.ALREADY_EXISTS:return tn.ALREADY_EXISTS;case Gs.PERMISSION_DENIED:return tn.PERMISSION_DENIED;case Gs.FAILED_PRECONDITION:return tn.FAILED_PRECONDITION;case Gs.ABORTED:return tn.ABORTED;case Gs.OUT_OF_RANGE:return tn.OUT_OF_RANGE;case Gs.UNIMPLEMENTED:return tn.UNIMPLEMENTED;case Gs.DATA_LOSS:return tn.DATA_LOSS;default:return Ir()}}(Ui=Gs||(Gs={}))[Ui.OK=0]="OK",Ui[Ui.CANCELLED=1]="CANCELLED",Ui[Ui.UNKNOWN=2]="UNKNOWN",Ui[Ui.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ui[Ui.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ui[Ui.NOT_FOUND=5]="NOT_FOUND",Ui[Ui.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ui[Ui.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ui[Ui.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ui[Ui.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ui[Ui.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ui[Ui.ABORTED=10]="ABORTED",Ui[Ui.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ui[Ui.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ui[Ui.INTERNAL=13]="INTERNAL",Ui[Ui.UNAVAILABLE=14]="UNAVAILABLE",Ui[Ui.DATA_LOSS=15]="DATA_LOSS";class Nl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[h,m]of o)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),h=this.inner[o];if(void 0===h)return this.inner[o]=[[e,t]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return 1===o.length?delete this.inner[t]:o.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(t,o)=>{for(const[h,m]of o)e(h,m)})}isEmpty(){return gc(this.inner)}size(){return this.innerSize}}const Cp=new Es(Xn.comparator);function va(){return Cp}const Yd=new Es(Xn.comparator);function sd(...s){let e=Yd;for(const t of s)e=e.insert(t.key,t);return e}function Bg(s){let e=Yd;return s.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ja(){return Uc()}function od(){return Uc()}function Uc(){return new Nl(s=>s.toString(),(s,e)=>s.isEqual(e))}const fu=new Es(Xn.comparator),lf=new Wi(Xn.comparator);function ci(...s){let e=lf;for(const t of s)e=e.add(t);return e}const n_=new Wi(zr);function qd(){return n_}class pu{constructor(e,t,o,h,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const h=new Map;return h.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new pu(Br.min(),h,qd(),va(),ci())}}class gu{constructor(e,t,o,h,m){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new gu(o,t,ci(),ci(),ci())}}class wp{constructor(e,t,o,h){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=h}}class Ug{constructor(e,t){this.targetId=e,this.At=t}}class Ea{constructor(e,t,o=W.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=h}}class Zd{constructor(){this.Rt=0,this.bt=Xd(),this.Pt=W.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ci(),t=ci(),o=ci();return this.bt.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:o=o.add(h);break;default:Ir()}}),new gu(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=Xd()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class uf{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=va(),this.qt=Vc(),this.Kt=new Wi(zr)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:Ir()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,h)=>{this.Ht(h)&&t(h)})}Yt(e){const t=e.targetId,o=e.At.count,h=this.Xt(t);if(h){const m=h.target;if(Eo(m))if(0===o){const I=new Xn(m.path);this.jt(t,I,as.newNoDocument(I,Br.min()))}else ar(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((m,I)=>{const P=this.Xt(I);if(P){if(m.current&&Eo(P.target)){const G=new Xn(P.target.path);null!==this.Ut.get(G)||this.ee(I,G)||this.jt(I,G,as.newNoDocument(G,e))}m.Dt&&(t.set(I,m.xt()),m.Nt())}});let o=ci();this.qt.forEach((m,I)=>{let P=!0;I.forEachWhile(G=>{const Q=this.Xt(G);return!Q||2===Q.purpose||(P=!1,!1)}),P&&(o=o.add(m))}),this.Ut.forEach((m,I)=>I.setReadTime(e));const h=new pu(e,t,this.Kt,this.Ut,o);return this.Ut=va(),this.qt=Vc(),this.Kt=new Wi(zr),h}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const h=this.zt(e);this.ee(e,t)?h.kt(t,1):h.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Zd,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Wi(zr),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Pn("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Zd),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Vc(){return new Es(Xn.comparator)}function Xd(){return new Es(Xn.comparator)}const mu={asc:"ASCENDING",desc:"DESCENDING"},$c={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ad{constructor(e,t){this.databaseId=e,this.gt=t}}function Ia(s,e){return s.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qd(s,e){return s.gt?e.toBase64():e.toUint8Array()}function _u(s,e){return Ia(s,e.toTimestamp())}function zs(s){return ar(!!s),Br.fromTimestamp(function(e){const t=ve(e);return new Kr(t.seconds,t.nanos)}(s))}function Jd(s,e){return(t=s,new Jr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Vg(s){const e=Jr.fromString(s);return ar(Tp(e)),e}function kl(s,e){return Jd(s.databaseId,e.path)}function oa(s,e){const t=Vg(e);if(t.get(1)!==s.databaseId.projectId)throw new fn(tn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new fn(tn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new Xn(df(t))}function sl(s,e){return Jd(s.databaseId,e)}function eh(s){const e=Vg(s);return 4===e.length?Jr.emptyPath():df(e)}function vc(s){return new Jr(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function df(s){return ar(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function $g(s,e,t){return{name:kl(s,e),fields:t.value.mapValue.fields}}function ls(s,e,t){const o=oa(s,e.name),h=zs(e.updateTime),m=new oo({mapValue:{fields:e.fields}}),I=as.newFoundDocument(o,h,m);return t&&I.setHasCommittedMutations(),t?I.setHasCommittedMutations():I}function yu(s,e){let t;if(e instanceof ya)t={update:$g(s,e.key,e.value)};else if(e instanceof ia)t={delete:kl(s,e.key)};else if(e instanceof Bo)t={update:$g(s,e.key,e.data),updateMask:Wg(e.fieldMask)};else{if(!(e instanceof zd))return Ir();t={verify:kl(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(h,m){const I=m.transform;if(I instanceof Na)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof M)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof C)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof pe)return{fieldPath:m.field.canonicalString(),increment:I.yt};throw Ir()}(0,o))),e.precondition.isNone||(t.currentDocument=(o=s,void 0!==(h=e.precondition).updateTime?{updateTime:_u(o,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Ir())),t;var o,h}function th(s,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?br.updateTime(zs(h.updateTime)):void 0!==h.exists?br.exists(h.exists):br.none():br.none(),o=e.updateTransforms?e.updateTransforms.map(h=>function(m,I){let P=null;if("setToServerValue"in I)ar("REQUEST_TIME"===I.setToServerValue),P=new Na;else if("appendMissingElements"in I){const Q=I.appendMissingElements.values||[];P=new M(Q)}else if("removeAllFromArray"in I){const Q=I.removeAllFromArray.values||[];P=new C(Q)}else"increment"in I?P=new pe(m,I.increment):Ir();const G=Mi.fromServerFormat(I.fieldPath);return new wn(G,P)}(s,h)):[];var h;if(e.update){e.update.name;const h=oa(s,e.update.name),m=new oo({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=function(P){const G=P.fieldPaths||[];return new b(G.map(Q=>Mi.fromServerFormat(Q)))}(e.updateMask);return new Bo(h,m,I,t,o)}return new ya(h,m,t,o)}if(e.delete){const h=oa(s,e.delete);return new ia(h,t)}if(e.verify){const h=oa(s,e.verify);return new zd(h,t)}return Ir()}function Ll(s,e){return{documents:[sl(s,e.path)]}}function ol(s,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=sl(s,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sl(s,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const h=function(G){if(0===G.length)return;const Q=G.map(Oe=>function(ht){if("=="===ht.op){if(Rl(ht.value))return{unaryFilter:{field:vu(ht.field),op:"IS_NAN"}};if(tl(ht.value))return{unaryFilter:{field:vu(ht.field),op:"IS_NULL"}}}else if("!="===ht.op){if(Rl(ht.value))return{unaryFilter:{field:vu(ht.field),op:"IS_NOT_NAN"}};if(tl(ht.value))return{unaryFilter:{field:vu(ht.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vu(ht.field),op:Dp(ht.op),value:ht.value}}}(Oe));return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}(e.filters);h&&(t.structuredQuery.where=h);const m=function(G){if(0!==G.length)return G.map(Q=>{return{field:vu((Oe=Q).field),direction:jg(Oe.dir)};var Oe})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const I=(G=s,Q=e.limit,G.gt||Is(Q)?Q:{value:Q});var G,Q,P;return null!==I&&(t.structuredQuery.limit=I),e.startAt&&(t.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(t.structuredQuery.endAt=function(G){return{before:!G.inclusive,values:G.position}}(e.endAt)),t}function al(s){let e=eh(s.parent);const t=s.structuredQuery,o=t.from?t.from.length:0;let h=null;if(o>0){ar(1===o);const Oe=t.from[0];Oe.allDescendants?h=Oe.collectionId:e=e.child(Oe.collectionId)}let m=[];t.where&&(m=ec(t.where));let I=[];t.orderBy&&(I=t.orderBy.map(Oe=>{return new Ws(Eu((ht=Oe).field),function(Kt){switch(Kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ht.direction));var ht}));let P=null;t.limit&&(P=function(Oe){let ht;return ht="object"==typeof Oe?Oe.value:Oe,Is(ht)?null:ht}(t.limit));let G=null;t.startAt&&(G=function(Oe){const ht=!!Oe.before,Kt=Oe.values||[];return new mc(Kt,ht)}(t.startAt));let Q=null;return t.endAt&&(Q=function(Oe){const ht=!Oe.before,Kt=Oe.values||[];return new mc(Kt,ht)}(t.endAt)),Pa(e,h,I,m,P,"F",G,Q)}function ec(s){return s?void 0!==s.unaryFilter?[bp(s)]:void 0!==s.fieldFilter?[r_(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>ec(e)).reduce((e,t)=>e.concat(t)):Ir():[]}function jg(s){return mu[s]}function Dp(s){return $c[s]}function vu(s){return{fieldPath:s.canonicalString()}}function Eu(s){return Mi.fromServerFormat(s.fieldPath)}function r_(s){return fo.create(Eu(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ir()}}(s.fieldFilter.op),s.fieldFilter.value)}function bp(s){switch(s.unaryFilter.op){case"IS_NAN":const e=Eu(s.unaryFilter.field);return fo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Eu(s.unaryFilter.field);return fo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Eu(s.unaryFilter.field);return fo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Eu(s.unaryFilter.field);return fo.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ir()}}function Wg(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tp(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Uo(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=Ap(e)),e=Gg(s.get(t),e);return Ap(e)}function Gg(s,e){let t=e;const o=s.length;for(let h=0;h<o;h++){const m=s.charAt(h);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function Ap(s){return s+"\x01\x01"}function tc(s){const e=s.length;if(ar(e>=2),2===e)return ar("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Jr.emptyPath();const t=e-2,o=[];let h="";for(let m=0;m<e;){const I=s.indexOf("\x01",m);switch((I<0||I>t)&&Ir(),s.charAt(I+1)){case"\x01":const P=s.substring(m,I);let G;0===h.length?G=P:(h+=P,G=h,h=""),o.push(G);break;case"\x10":h+=s.substring(m,I),h+="\0";break;case"\x11":h+=s.substring(m,I+1);break;default:Ir()}m=I+2}return new Jr(o)}const i_=["userId","batchId"];function Sp(s,e){return[s,Uo(e)]}function hf(s,e,t){return[s,Uo(e),t]}const Y_={},q_=["prefixPath","collectionGroup","readTime","documentId"],Rp=["prefixPath","collectionGroup","documentId"],zg=["collectionGroup","readTime","prefixPath","documentId"],s_=["canonicalId","targetId"],ff=["targetId","path"],Kg=["path","targetId"],nh=["collectionId","parent"],Op=["indexId","uid"],Mp=["uid","sequenceNumber"],Yg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Pp=["indexId","uid","orderedDocumentKey"],qg=["userId","collectionPath","documentId"],rh=["userId","collectionPath","largestBatchId"],ih=["userId","collectionGroup","largestBatchId"],Zg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],o_=[...Zg,"documentOverlays"],Xg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pf=Xg,gf=[...pf,"indexConfiguration","indexState","indexEntries"];class sh extends lu{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Co(s,e){const t=rr(s);return Hi.M(t.ie,e)}class xp{constructor(e,t,o,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=h}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&nd(m,e,o[h])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Fc(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Fc(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=od();return this.mutations.forEach(h=>{const m=e.get(h.key),I=m.overlayedDocument;let P=this.applyToLocalView(I,m.mutatedFields);P=t.has(h.key)?null:P;const G=Qa(I,P);null!==G&&o.set(h.key,G),I.isValidDocument()||I.convertToNoDocument(Br.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ci())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(t,o)=>id(t,o))&&Jo(this.baseMutations,e.baseMutations,(t,o)=>id(t,o))}}class ld{constructor(e,t,o,h){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=h}static from(e,t,o){ar(e.mutations.length===o.length);let h=fu;const m=e.mutations;for(let I=0;I<m.length;I++)h=h.insert(m[I].key,o[I].version);return new ld(e,t,o,h)}}class oh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bl{constructor(e,t,o,h,m=Br.min(),I=Br.min(),P=W.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=P}withSequenceNumber(e){return new Bl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Bl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Bl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Qg{constructor(e){this.re=e}}function em(s,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:mf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:kl(h=s.re,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Ia(h,m.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:ao(e.version)};else{if(!e.isUnknownDocument())return Ir();o.unknownDocument={path:t.path.toArray(),version:ao(e.version)}}var h,m;return o}function mf(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function ao(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cl(s){const e=new Kr(s.seconds,s.nanoseconds);return Br.fromTimestamp(e)}function ll(s,e){const t=(e.baseMutations||[]).map(m=>th(s.re,m));for(let m=0;m<e.mutations.length-1;++m){const I=e.mutations[m];if(m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform){const P=e.mutations[m+1];I.updateTransforms=P.transform.fieldTransforms,e.mutations.splice(m+1,1),++m}}const o=e.mutations.map(m=>th(s.re,m)),h=Kr.fromMillis(e.localWriteTimeMs);return new xp(e.batchId,h,t,o)}function Iu(s){const e=cl(s.readTime),t=void 0!==s.lastLimboFreeSnapshotVersion?cl(s.lastLimboFreeSnapshotVersion):Br.min();let o;var h;return void 0!==s.query.documents?(ar(1===(h=s.query).documents.length),o=Ms(_c(eh(h.documents[0])))):o=Ms(al(s.query)),new Bl(o,s.targetId,0,s.lastListenSequenceNumber,e,t,W.fromBase64String(s.resumeToken))}function Mo(s,e){const t=ao(e.snapshotVersion),o=ao(e.lastLimboFreeSnapshotVersion);let h;h=Eo(e.target)?Ll(s.re,e.target):ol(s.re,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:js(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:h}}function Ul(s){const e=al({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Ol(e,e.limit,"L"):e}function _f(s,e){return new oh(e.largestBatchId,th(s.re,e.overlayMutation))}function Np(s,e){const t=e.path.lastSegment();return[s,Uo(e.path.popLast()),t]}function ah(s,e,t,o){return{indexId:s,uid:e.uid||"",sequenceNumber:t,readTime:ao(o.readTime),documentKey:Uo(o.documentKey.path),largestBatchId:o.largestBatchId}}class kp{getBundleMetadata(e,t){return tm(e).get(t).next(o=>{if(o)return{id:(h=o).bundleId,createTime:cl(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return tm(e).put({bundleId:(o=t).id,createTime:ao(zs(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Lp(e).get(t).next(o=>{if(o)return{name:(h=o).name,query:Ul(h.bundledQuery),readTime:cl(h.readTime)};var h})}saveNamedQuery(e,t){return Lp(e).put({name:(o=t).name,readTime:ao(zs(o.readTime)),bundledQuery:o.bundledQuery});var o}}function tm(s){return Co(s,"bundles")}function Lp(s){return Co(s,"namedQueries")}class yf{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){const o=t.uid||"";return new yf(e,o)}getOverlay(e,t){return Vl(e).get(Np(this.userId,t)).next(o=>o?_f(this.It,o):null)}getOverlays(e,t){const o=Ja();return nn.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&o.set(h,m)})).next(()=>o)}saveOverlays(e,t,o){const h=[];return o.forEach((m,I)=>{const P=new oh(t,I);h.push(this.ue(e,P))}),nn.waitFor(h)}removeOverlaysForBatchId(e,t,o){const h=new Set;t.forEach(I=>h.add(Uo(I.getCollectionPath())));const m=[];return h.forEach(I=>{const P=IDBKeyRange.bound([this.userId,I,o],[this.userId,I,o+1],!1,!0);m.push(Vl(e).Y("collectionPathOverlayIndex",P))}),nn.waitFor(m)}getOverlaysForCollection(e,t,o){const h=Ja(),m=Uo(t),I=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Vl(e).W("collectionPathOverlayIndex",I).next(P=>{for(const G of P){const Q=_f(this.It,G);h.set(Q.getKey(),Q)}return h})}getOverlaysForCollectionGroup(e,t,o,h){const m=Ja();let I;const P=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vl(e).Z({index:"collectionGroupOverlayIndex",range:P},(G,Q,Oe)=>{const ht=_f(this.It,Q);m.size()<h||ht.largestBatchId===I?(m.set(ht.getKey(),ht),I=ht.largestBatchId):Oe.done()}).next(()=>m)}ue(e,t){return Vl(e).put(function(o,h,m){const[I,P,G]=Np(h,m.mutation.key);return{userId:h,collectionPath:P,documentId:G,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:yu(o.re,m.mutation)}}(this.It,this.userId,t))}}function Vl(s){return Co(s,"documentOverlays")}class $l{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(rt(e.integerValue));else if("doubleValue"in e){const o=rt(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),uo(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(sn(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?vi(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Ir()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const h of Object.keys(o))this._e(h,t),this.ae(o[h],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const h of o)this.ae(h,t)}ge(e,t){this.le(t,37),Xn.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function a_(s){if(0===s)return 8;let e=0;return s>>4==0&&(e+=4,s<<=4),s>>6==0&&(e+=2,s<<=2),s>>7==0&&(e+=1),e}function nm(s){const e=64-function(t){let o=0;for(let h=0;h<8;++h){const m=a_(255&t[h]);if(o+=m,8!==m)break}return o}(s);return Math.ceil(e/8)}$l.Te=new $l;class rm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const h=t.codePointAt(0);this.Ae(240|h>>>18),this.Ae(128|63&h>>>12),this.Ae(128|63&h>>>6),this.Ae(128|63&h)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const h=t.codePointAt(0);this.Pe(240|h>>>18),this.Pe(128|63&h>>>12),this.Pe(128|63&h>>>6),this.Pe(128|63&h)}}this.ve()}De(e){const t=this.Ce(e),o=nm(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let h=t.length-o;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Ne(e){const t=this.Ce(e),o=nm(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let h=t.length-o;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let h=1;h<t.length;++h)t[h]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const h=new Uint8Array(o);h.set(this.buffer),this.buffer=h}}class Hl{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Cu{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Ca{constructor(){this.Be=new rm,this.Le=new Hl(this.Be),this.Ue=new Cu(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class wa{constructor(e,t,o,h){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=h}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new wa(this.indexId,this.documentKey,this.arrayValue,o)}}function Hc(s,e){let t=s.indexId-e.indexId;return 0!==t?t:(t=vf(s.arrayValue,e.arrayValue),0!==t?t:(t=vf(s.directionalValue,e.directionalValue),0!==t?t:Xn.comparator(s.documentKey,e.documentKey)))}function vf(s,e){for(let t=0;t<s.length&&t<e.length;++t){const o=s[t]-e[t];if(0!==o)return o}return s.length-e.length}class Z_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=Fo(e);if(void 0!==t&&!this.ze(t))return!1;const o=Qs(e);let h=0,m=0;for(;h<o.length&&this.ze(o[h]);++h);if(h===o.length)return!0;if(void 0!==this.je){const I=o[h];if(!this.He(this.je,I)||!this.Je(this.Ge[m++],I))return!1;++h}for(;h<o.length;++h){const I=o[h];if(m>=this.Ge.length||!this.Je(this.Ge[m++],I))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const o="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===o}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class im{constructor(){this.Ye=new sm}addToCollectionParentIndex(e,t){return this.Ye.add(t),nn.resolve()}getCollectionParents(e,t){return nn.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return nn.resolve()}deleteFieldIndex(e,t){return nn.resolve()}getDocumentsMatchingTarget(e,t){return nn.resolve(null)}getIndexType(e,t){return nn.resolve(0)}getFieldIndexes(e,t){return nn.resolve([])}getNextCollectionGroupToUpdate(e){return nn.resolve(null)}getMinOffset(e,t){return nn.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,t){return nn.resolve(Ts.min())}updateCollectionGroup(e,t,o){return nn.resolve()}updateIndexEntries(e,t){return nn.resolve()}}class sm{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),h=this.index[t]||new Wi(Jr.comparator),m=!h.has(o);return this.index[t]=h.add(o),m}has(e){const t=e.lastSegment(),o=e.popLast(),h=this.index[t];return h&&h.has(o)}getEntries(e){return(this.index[e]||new Wi(Jr.comparator)).toArray()}}const ul=new Uint8Array(0);class ch{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new sm,this.Ze=new Nl(o=>js(o),(o,h)=>Lc(o,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const m={collectionId:o,parent:Uo(h)};return Ef(e).put(m)}return nn.resolve()}getCollectionParents(e,t){const o=[],h=IDBKeyRange.bound([t,""],[au(t),""],!1,!0);return Ef(e).W(h).next(m=>{for(const I of m){if(I.collectionId!==t)break;o.push(tc(I.parent))}return o})}addFieldIndex(e,t){const o=dl(e),h={indexId:(I=t).indexId,collectionGroup:I.collectionGroup,fields:I.fields.map(P=>[P.fieldPath.canonicalString(),P.kind])};var I;delete h.indexId;const m=o.add(h);if(t.indexState){const I=lh(e);return m.next(P=>{I.put(ah(P,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const o=dl(e),h=lh(e),m=nc(e);return o.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=nc(e);let h=!0;const m=new Map;return nn.forEach(this.tn(t),I=>this.en(e,I).next(P=>{h&&(h=!!P),m.set(I,P)})).next(()=>{if(h){let I=ci();const P=[];return nn.forEach(m,(G,Q)=>{var Oe;Pn("IndexedDbIndexManager",`Using index ${Oe=G,`id=${Oe.indexId}|cg=${Oe.collectionGroup}|f=${Oe.fields.map(Ni=>`${Ni.fieldPath}:${Ni.kind}`).join(",")}`} to execute ${js(t)}`);const ht=function(Ni,to){const Cs=Fo(to);if(void 0===Cs)return null;for(const is of Hd(Ni,Cs.fieldPath))switch(is.op){case"array-contains-any":return is.value.arrayValue.values||[];case"array-contains":return[is.value]}return null}(Q,G),Kt=function(Ni,to){const Cs=new Map;for(const is of Qs(to))for(const Yo of Hd(Ni,is.fieldPath))switch(Yo.op){case"==":case"in":Cs.set(is.fieldPath.canonicalString(),Yo.value);break;case"not-in":case"!=":return Cs.set(is.fieldPath.canonicalString(),Yo.value),Array.from(Cs.values())}return null}(Q,G),dn=function(Ni,to){const Cs=[];let is=!0;for(const Yo of Qs(to)){const vp=0===Yo.kind?nf(Ni,Yo.fieldPath,Ni.startAt):jd(Ni,Yo.fieldPath,Ni.startAt);Cs.push(vp.value),is&&(is=vp.inclusive)}return new mc(Cs,is)}(Q,G),Dn=function(Ni,to){const Cs=[];let is=!0;for(const Yo of Qs(to)){const vp=0===Yo.kind?jd(Ni,Yo.fieldPath,Ni.endAt):nf(Ni,Yo.fieldPath,Ni.endAt);Cs.push(vp.value),is&&(is=vp.inclusive)}return new mc(Cs,is)}(Q,G),fr=this.nn(G,Q,dn),Tr=this.nn(G,Q,Dn),rs=this.sn(G,Q,Kt),Gi=this.rn(G.indexId,ht,fr,dn.inclusive,Tr,Dn.inclusive,rs);return nn.forEach(Gi,Ni=>o.J(Ni,t.limit).next(to=>{to.forEach(Cs=>{const is=Xn.fromSegments(Cs.documentKey);I.has(is)||(I=I.add(is),P.push(is))})}))}).next(()=>P)}return nn.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,h,m,I,P){const G=(null!=t?t.length:1)*Math.max(o.length,m.length),Q=G/(null!=t?t.length:1),Oe=[];for(let ht=0;ht<G;++ht){const Kt=t?this.on(t[ht/Q]):ul,dn=this.un(e,Kt,o[ht%Q],h),Dn=this.cn(e,Kt,m[ht%Q],I),fr=P.map(Tr=>this.un(e,Kt,Tr,!0));Oe.push(...this.createRange(dn,Dn,fr))}return Oe}un(e,t,o,h){const m=new wa(e,Xn.empty(),t,o);return h?m:m.Ke()}cn(e,t,o,h){const m=new wa(e,Xn.empty(),t,o);return h?m.Ke():m}en(e,t){const o=new Z_(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let I=null;for(const P of m)o.We(P)&&(!I||P.fields.length>I.fields.length)&&(I=P);return I})}getIndexType(e,t){let o=2;return nn.forEach(this.tn(t),h=>this.en(e,h).next(m=>{m?0!==o&&m.fields.length<function(I){let P=new Wi(Mi.comparator),G=!1;for(const Q of I.filters){const Oe=Q;Oe.field.isKeyField()||("array-contains"===Oe.op||"array-contains-any"===Oe.op?G=!0:P=P.add(Oe.field))}for(const Q of I.orderBy)Q.field.isKeyField()||(P=P.add(Q.field));return P.size+(G?1:0)}(h)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new Ca;for(const h of Qs(e)){const m=t.data.field(h.fieldPath);if(null==m)return null;const I=o.qe(h.kind);$l.Te.ce(m,I)}return o.$e()}on(e){const t=new Ca;return $l.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new Ca;return $l.Te.ce(zo(this.databaseId,t),o.qe(function(h){const m=Qs(h);return 0===m.length?0:m[m.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let h=[];h.push(new Ca);let m=0;for(const I of Qs(e)){const P=o[m++];for(const G of h)if(this.ln(t,I.fieldPath)&&Sl(P))h=this.fn(h,I,P);else{const Q=G.qe(I.kind);$l.Te.ce(P,Q)}}return this.dn(h)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const h=[...e],m=[];for(const I of o.arrayValue.values||[])for(const P of h){const G=new Ca;G.seed(P.$e()),$l.Te.ce(I,G.qe(t.kind)),m.push(G)}return m}ln(e,t){return!!e.filters.find(o=>o instanceof fo&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=dl(e),h=lh(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(m=>{const I=[];return nn.forEach(m,P=>h.get([P.indexId,this.uid]).next(G=>{I.push(function(Q,Oe){const ht=Oe?new Di(Oe.sequenceNumber,new Ts(cl(Oe.readTime),new Xn(tc(Oe.documentKey)),Oe.largestBatchId)):Di.empty(),Kt=Q.fields.map(([dn,Dn])=>new io(Mi.fromServerFormat(dn),Dn));return new ea(Q.indexId,Q.collectionGroup,Kt,ht)}(P,G))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,h)=>{const m=o.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:zr(o.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const h=dl(e),m=lh(e);return this._n(e).next(I=>h.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(P=>nn.forEach(P,G=>m.put(ah(G.indexId,this.user,I,o)))))}updateIndexEntries(e,t){const o=new Map;return nn.forEach(t,(h,m)=>{const I=o.get(h.collectionGroup);return(I?nn.resolve(I):this.getFieldIndexes(e,h.collectionGroup)).next(P=>(o.set(h.collectionGroup,P),nn.forEach(P,G=>this.wn(e,h,G).next(Q=>{const Oe=this.mn(m,G);return Q.isEqual(Oe)?nn.resolve():this.gn(e,m,G,Q,Oe)}))))})}yn(e,t,o,h){return nc(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,h){return nc(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const h=nc(e);let m=new Wi(Hc);return h.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(I,P)=>{m=m.add(new wa(o.indexId,t,P.arrayValue,P.directionalValue))}).next(()=>m)}mn(e,t){let o=new Wi(Hc);const h=this.an(t,e);if(null==h)return o;const m=Fo(t);if(null!=m){const I=e.data.field(m.fieldPath);if(Sl(I))for(const P of I.arrayValue.values||[])o=o.add(new wa(t.indexId,e.key,this.on(P),h))}else o=o.add(new wa(t.indexId,e.key,ul,h));return o}gn(e,t,o,h,m){Pn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const I=[];return function(P,G,Q,Oe,ht){const Kt=P.getIterator(),dn=G.getIterator();let Dn=v(Kt),fr=v(dn);for(;Dn||fr;){let Tr=!1,rs=!1;if(Dn&&fr){const Gi=Q(Dn,fr);Gi<0?rs=!0:Gi>0&&(Tr=!0)}else null!=Dn?rs=!0:Tr=!0;Tr?(Oe(fr),fr=v(dn)):rs?(ht(Dn),Dn=v(Kt)):(Dn=v(Kt),fr=v(dn))}}(h,m,Hc,P=>{I.push(this.yn(e,t,o,P))},P=>{I.push(this.pn(e,t,o,P))}),nn.waitFor(I)}_n(e){let t=1;return lh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,h,m)=>{m.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((I,P)=>Hc(I,P)).filter((I,P,G)=>!P||0!==Hc(I,G[P-1]));const h=[];h.push(e);for(const I of o){const P=Hc(I,e),G=Hc(I,t);if(0===P)h[0]=e.Ke();else if(P>0&&G<0)h.push(I),h.push(I.Ke());else if(G>0)break}h.push(t);const m=[];for(let I=0;I<h.length;I+=2)m.push(IDBKeyRange.bound([h[I].indexId,this.uid,h[I].arrayValue,h[I].directionalValue,ul,[]],[h[I+1].indexId,this.uid,h[I+1].arrayValue,h[I+1].directionalValue,ul,[]]));return m}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ud)}getMinOffset(e,t){return nn.mapArray(this.tn(t),o=>this.en(e,o).next(h=>h||Ir())).next(ud)}}function Ef(s){return Co(s,"collectionParents")}function nc(s){return Co(s,"indexEntries")}function dl(s){return Co(s,"indexConfiguration")}function lh(s){return Co(s,"indexState")}function ud(s){ar(0!==s.length);let e=s[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<s.length;o++){const h=s[o].indexState.offset;Rc(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new Ts(e.readTime,e.documentKey,t)}const om={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Vo(e,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uh(s,e,t){const o=s.store("mutations"),h=s.store("documentMutations"),m=[],I=IDBKeyRange.only(t.batchId);let P=0;const G=o.Z({range:I},(Oe,ht,Kt)=>(P++,Kt.delete()));m.push(G.next(()=>{ar(1===P)}));const Q=[];for(const Oe of t.mutations){const ht=hf(e,Oe.key.path,t.batchId);m.push(h.delete(ht)),Q.push(Oe.key)}return nn.waitFor(m).next(()=>Q)}function dd(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw Ir();e=s.noDocument}return JSON.stringify(e).length}Vo.DEFAULT_COLLECTION_PERCENTILE=10,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vo.DEFAULT=new Vo(41943040,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vo.DISABLED=new Vo(-1,0,0);class wu{constructor(e,t,o,h){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=h,this.In={}}static oe(e,t,o,h){ar(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new wu(m,t,o,h)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ka(e).Z({index:"userMutationsIndex",range:o},(h,m,I)=>{t=!1,I.done()}).next(()=>t)}addMutationBatch(e,t,o,h){const m=La(e),I=ka(e);return I.add({}).next(P=>{ar("number"==typeof P);const G=new xp(P,t,o,h),Q=function(Kt,dn,Dn){const fr=Dn.baseMutations.map(rs=>yu(Kt.re,rs)),Tr=Dn.mutations.map(rs=>yu(Kt.re,rs));return{userId:dn,batchId:Dn.batchId,localWriteTimeMs:Dn.localWriteTime.toMillis(),baseMutations:fr,mutations:Tr}}(this.It,this.userId,G),Oe=[];let ht=new Wi((Kt,dn)=>zr(Kt.canonicalString(),dn.canonicalString()));for(const Kt of h){const dn=hf(this.userId,Kt.key.path,P);ht=ht.add(Kt.key.path.popLast()),Oe.push(I.put(Q)),Oe.push(m.put(dn,Y_))}return ht.forEach(Kt=>{Oe.push(this.indexManager.addToCollectionParentIndex(e,Kt))}),e.addOnCommittedListener(()=>{this.In[P]=G.keys()}),nn.waitFor(Oe).next(()=>G)})}lookupMutationBatch(e,t){return ka(e).get(t).next(o=>o?(ar(o.userId===this.userId),ll(this.It,o)):null)}Tn(e,t){return this.In[t]?nn.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const h=o.keys();return this.In[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,h=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return ka(e).Z({index:"userMutationsIndex",range:h},(I,P,G)=>{P.userId===this.userId&&(ar(P.batchId>=o),m=ll(this.It,P)),G.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ka(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(h,m,I)=>{o=m.batchId,I.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ka(e).W("userMutationsIndex",t).next(o=>o.map(h=>ll(this.It,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Sp(this.userId,t.path),h=IDBKeyRange.lowerBound(o),m=[];return La(e).Z({range:h},(I,P,G)=>{const[Q,Oe,ht]=I,Kt=tc(Oe);if(Q===this.userId&&t.path.isEqual(Kt))return ka(e).get(ht).next(dn=>{if(!dn)throw Ir();ar(dn.userId===this.userId),m.push(ll(this.It,dn))});G.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Wi(zr);const h=[];return t.forEach(m=>{const I=Sp(this.userId,m.path),P=IDBKeyRange.lowerBound(I),G=La(e).Z({range:P},(Q,Oe,ht)=>{const[Kt,dn,Dn]=Q,fr=tc(dn);Kt===this.userId&&m.path.isEqual(fr)?o=o.add(Dn):ht.done()});h.push(G)}),nn.waitFor(h).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,h=o.length+1,m=Sp(this.userId,o),I=IDBKeyRange.lowerBound(m);let P=new Wi(zr);return La(e).Z({range:I},(G,Q,Oe)=>{const[ht,Kt,dn]=G,Dn=tc(Kt);ht===this.userId&&o.isPrefixOf(Dn)?Dn.length===h&&(P=P.add(dn)):Oe.done()}).next(()=>this.En(e,P))}En(e,t){const o=[],h=[];return t.forEach(m=>{h.push(ka(e).get(m).next(I=>{if(null===I)throw Ir();ar(I.userId===this.userId),o.push(ll(this.It,I))}))}),nn.waitFor(h).next(()=>o)}removeMutationBatch(e,t){return uh(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),nn.forEach(o,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return nn.resolve();const o=IDBKeyRange.lowerBound([this.userId]),h=[];return La(e).Z({range:o},(m,I,P)=>{if(m[0]===this.userId){const G=tc(m[1]);h.push(G)}else P.done()}).next(()=>{ar(0===h.length)})})}containsKey(e,t){return If(e,this.userId,t)}Rn(e){return Cf(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function If(s,e,t){const o=Sp(e,t.path),h=o[1],m=IDBKeyRange.lowerBound(o);let I=!1;return La(s).Z({range:m,X:!0},(P,G,Q)=>{const[Oe,ht,Kt]=P;Oe===e&&ht===h&&(I=!0),Q.done()}).next(()=>I)}function ka(s){return Co(s,"mutations")}function La(s){return Co(s,"documentMutations")}function Cf(s){return Co(s,"mutationQueues")}class jl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new jl(0)}static vn(){return new jl(-1)}}class wf{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new jl(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Br.fromTimestamp(new Kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(h=>(h.highestListenSequenceNumber=t,o&&(h.lastRemoteSnapshotVersion=o.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.Sn(e,h)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>jc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(ar(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let h=0;const m=[];return jc(e).Z((I,P)=>{const G=Iu(P);G.sequenceNumber<=t&&null===o.get(G.targetId)&&(h++,m.push(this.removeTargetData(e,G)))}).next(()=>nn.waitFor(m)).next(()=>h)}forEachTarget(e,t){return jc(e).Z((o,h)=>{const m=Iu(h);t(m)})}Vn(e){return dh(e).get("targetGlobalKey").next(t=>(ar(null!==t),t))}Sn(e,t){return dh(e).put("targetGlobalKey",t)}Dn(e,t){return jc(e).put(Mo(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=js(t),h=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return jc(e).Z({range:h,index:"queryTargetsIndex"},(I,P,G)=>{const Q=Iu(P);Lc(t,Q.target)&&(m=Q,G.done())}).next(()=>m)}addMatchingKeys(e,t,o){const h=[],m=Wc(e);return t.forEach(I=>{const P=Uo(I.path);h.push(m.put({targetId:o,path:P})),h.push(this.referenceDelegate.addReference(e,o,I))}),nn.waitFor(h)}removeMatchingKeys(e,t,o){const h=Wc(e);return nn.forEach(t,m=>{const I=Uo(m.path);return nn.waitFor([h.delete([o,I]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,t){const o=Wc(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(h)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),h=Wc(e);let m=ci();return h.Z({range:o,X:!0},(I,P,G)=>{const Q=tc(I[1]),Oe=new Xn(Q);m=m.add(Oe)}).next(()=>m)}containsKey(e,t){const o=Uo(t.path),h=IDBKeyRange.bound([o],[au(o)],!1,!0);let m=0;return Wc(e).Z({index:"documentTargetsIndex",X:!0,range:h},([I,P],G,Q)=>{0!==I&&(m++,Q.done())}).next(()=>m>0)}se(e,t){return jc(e).get(t).next(o=>o?Iu(o):null)}}function jc(s){return Co(s,"targets")}function dh(s){return Co(s,"targetGlobal")}function Wc(s){return Co(s,"targetDocuments")}function Df([s,e],[t,o]){const h=zr(s,t);return 0===h?zr(e,o):h}class Fp{constructor(e){this.xn=e,this.buffer=new Wi(Df),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Df(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class c_{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Pn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){ga(o)?Pn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield pa(o)}yield t.Fn(3e5)}))}}class hd{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return nn.resolve(lo.at);const o=new Fp(t);return this.$n.forEachTarget(e,h=>o.On(h.sequenceNumber)).next(()=>this.$n.Ln(e,h=>o.On(h))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pn("LruGarbageCollector","Garbage collection skipped; disabled"),nn.resolve(om)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Pn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),om):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,h,m,I,P,G,Q;const Oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ht=>(ht>this.params.maximumSequenceNumbersToCollect?(Pn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ht}`),h=this.params.maximumSequenceNumbersToCollect):h=ht,I=Date.now(),this.nthSequenceNumber(e,h))).next(ht=>(o=ht,P=Date.now(),this.removeTargets(e,o,t))).next(ht=>(m=ht,G=Date.now(),this.removeOrphanedDocuments(e,o))).next(ht=>(Q=Date.now(),_o()<=yt.in.DEBUG&&Pn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-Oe}ms\n\tDetermined least recently used ${h} in `+(P-I)+`ms\n\tRemoved ${m} targets in `+(G-P)+`ms\n\tRemoved ${ht} documents in `+(Q-G)+`ms\nTotal Duration: ${Q-Oe}ms`),nn.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:ht})))}}class Bp{constructor(e,t){this.db=e,this.garbageCollector=new hd(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(h=>o+h))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,h)=>t(h))}addReference(e,t,o){return hh(e,o)}removeReference(e,t,o){return hh(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return hh(e,t)}Gn(e,t){return function(o,h){let m=!1;return Cf(o).tt(I=>If(o,I,h).next(P=>(P&&(m=!0),nn.resolve(!P)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Kn(e,(I,P)=>{if(P<=t){const G=this.Gn(e,I).next(Q=>{if(!Q)return m++,o.getEntry(e,I).next(()=>(o.removeEntry(I,Br.min()),Wc(e).delete([0,Uo(I.path)])))});h.push(G)}}).next(()=>nn.waitFor(h)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return hh(e,t)}Kn(e,t){const o=Wc(e);let h,m=lo.at;return o.Z({index:"documentTargetsIndex"},([I,P],{path:G,sequenceNumber:Q})=>{0===I?(m!==lo.at&&t(new Xn(tc(h)),m),m=Q,h=G):m=lo.at}).next(()=>{m!==lo.at&&t(new Xn(tc(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hh(s,e){return Wc(s).put((t=e,o=s.currentSequenceNumber,{targetId:0,path:Uo(t.path),sequenceNumber:o}));var t,o}class bf{constructor(){this.changes=new Nl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,as.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?nn.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Up{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Fa(e).put(o)}removeEntry(e,t,o){return Fa(e).delete(function(h,m){const I=h.path.toArray();return[I.slice(0,I.length-2),I[I.length-2],mf(m),I[I.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=as.newInvalidDocument(t);return Fa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(fd(t))},(h,m)=>{o=this.jn(t,m)}).next(()=>o)}Wn(e,t){let o={size:0,document:as.newInvalidDocument(t)};return Fa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(fd(t))},(h,m)=>{o={document:this.jn(t,m),size:dd(m)}}).next(()=>o)}getEntries(e,t){let o=va();return this.zn(e,t,(h,m)=>{const I=this.jn(h,m);o=o.insert(h,I)}).next(()=>o)}Hn(e,t){let o=va(),h=new Es(Xn.comparator);return this.zn(e,t,(m,I)=>{const P=this.jn(m,I);o=o.insert(m,P),h=h.insert(m,dd(I))}).next(()=>({documents:o,Jn:h}))}zn(e,t,o){if(t.isEmpty())return nn.resolve();let h=new Wi(Rf);t.forEach(G=>h=h.add(G));const m=IDBKeyRange.bound(fd(h.first()),fd(h.last())),I=h.getIterator();let P=I.getNext();return Fa(e).Z({index:"documentKeyIndex",range:m},(G,Q,Oe)=>{const ht=Xn.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;P&&Rf(P,ht)<0;)o(P,null),P=I.getNext();P&&P.isEqual(ht)&&(o(P,Q),P=I.hasNext()?I.getNext():null),P?Oe.j(fd(P)):Oe.done()}).next(()=>{for(;P;)o(P,null),P=I.hasNext()?I.getNext():null})}getAllFromCollection(e,t,o){const h=[t.popLast().toArray(),t.lastSegment(),mf(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],m=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fa(e).W(IDBKeyRange.bound(h,m,!0)).next(I=>{let P=va();for(const G of I){const Q=this.jn(Xn.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);P=P.insert(Q.key,Q)}return P})}getAllFromCollectionGroup(e,t,o,h){let m=va();const I=Sf(t,o),P=Sf(t,Ts.max());return Fa(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,P,!0)},(G,Q,Oe)=>{const ht=this.jn(Xn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);m=m.insert(ht.key,ht),m.size===h&&Oe.done()}).next(()=>m)}newChangeBuffer(e){return new am(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Af(e).get("remoteDocumentGlobalKey").next(t=>(ar(!!t),t))}Qn(e,t){return Af(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function Jg(s,e){let t;if(e.document)t=ls(s.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Xn.fromSegments(e.noDocument.path),h=cl(e.noDocument.readTime);t=as.newNoDocument(o,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ir();{const o=Xn.fromSegments(e.unknownDocument.path),h=cl(e.unknownDocument.version);t=as.newUnknownDocument(o,h)}}return e.readTime&&t.setReadTime(function(o){const h=new Kr(o[0],o[1]);return Br.fromTimestamp(h)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(Br.min()))return o}return as.newInvalidDocument(e)}}function Tf(s){return new Up(s)}class am extends bf{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Nl(o=>o.toString(),(o,h)=>o.isEqual(h))}applyChanges(e){const t=[];let o=0,h=new Wi((m,I)=>zr(m.canonicalString(),I.canonicalString()));return this.changes.forEach((m,I)=>{const P=this.Xn.get(m);if(t.push(this.Yn.removeEntry(e,m,P.readTime)),I.isValidDocument()){const G=em(this.Yn.It,I);h=h.add(m.path.popLast()),o+=dd(G)-P.size,t.push(this.Yn.addEntry(e,m,G))}else if(o-=P.size,this.trackRemovals){const G=em(this.Yn.It,I.convertToNoDocument(Br.min()));t.push(this.Yn.addEntry(e,m,G))}}),h.forEach(m=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Yn.updateMetadata(e,o)),nn.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:h})=>(h.forEach((m,I)=>{this.Xn.set(m,{size:I,readTime:o.get(m).readTime})}),o))}}function Af(s){return Co(s,"remoteDocumentGlobal")}function Fa(s){return Co(s,"remoteDocumentsV14")}function fd(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Sf(s,e){const t=e.documentKey.path.toArray();return[s,mf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Rf(s,e){const t=s.path.toArray(),o=e.path.toArray();let h=0;for(let m=0;m<t.length-2&&m<o.length-2;++m)if(h=zr(t[m],o[m]),h)return h;return h=zr(t.length,o.length),h||(h=zr(t[t.length-2],o[o.length-2]),h||zr(t[t.length-1],o[o.length-1]))}class cm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Du{constructor(e,t,o,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=h}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(o=h,this.getBaseDocument(e,t,o))).next(h=>(null!==o&&Fc(o.mutation,h,b.empty(),Kr.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,ci()).next(()=>o))}getLocalViewOfDocuments(e,t,o=ci()){const h=Ja();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,o).next(m=>{let I=sd();return m.forEach((P,G)=>{I=I.insert(P,G.overlayedDocument)}),I}))}getOverlayedDocuments(e,t){const o=Ja();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,ci()))}populateOverlays(e,t,o){const h=[];return o.forEach(m=>{t.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((I,P)=>{t.set(I,P)})})}computeViews(e,t,o,h){let m=va();const I=Uc(),P=Uc();return t.forEach((G,Q)=>{const Oe=o.get(Q.key);h.has(Q.key)&&(void 0===Oe||Oe.mutation instanceof Bo)?m=m.insert(Q.key,Q):void 0!==Oe&&(I.set(Q.key,Oe.mutation.getFieldMask()),Fc(Oe.mutation,Q,Oe.mutation.getFieldMask(),Kr.now()))}),this.recalculateAndSaveOverlays(e,m).next(G=>(G.forEach((Q,Oe)=>I.set(Q,Oe)),t.forEach((Q,Oe)=>{var ht;return P.set(Q,new cm(Oe,null!==(ht=I.get(Q))&&void 0!==ht?ht:null))}),P))}recalculateAndSaveOverlays(e,t){const o=Uc();let h=new Es((I,P)=>I-P),m=ci();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(I=>{for(const P of I)P.keys().forEach(G=>{const Q=t.get(G);if(null===Q)return;let Oe=o.get(G)||b.empty();Oe=P.applyToLocalView(Q,Oe),o.set(G,Oe);const ht=(h.get(P.batchId)||ci()).add(G);h=h.insert(P.batchId,ht)})}).next(()=>{const I=[],P=h.getReverseIterator();for(;P.hasNext();){const G=P.getNext(),Q=G.key,Oe=G.value,ht=od();Oe.forEach(Kt=>{if(!m.has(Kt)){const dn=Qa(t.get(Kt),o.get(Kt));null!==dn&&ht.set(Kt,dn),m=m.add(Kt)}}),I.push(this.documentOverlayCache.saveOverlays(e,Q,ht))}return nn.waitFor(I)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return h=t,Xn.isDocumentKey(h.path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Xu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var h}getNextDocuments(e,t,o,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,h).next(m=>{const I=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,h-m.size):nn.resolve(Ja());let P=-1,G=m;return I.next(Q=>nn.forEach(Q,(Oe,ht)=>(P<ht.largestBatchId&&(P=ht.largestBatchId),m.get(Oe)?nn.resolve():this.getBaseDocument(e,Oe,ht).next(Kt=>{G=G.insert(Oe,Kt)}))).next(()=>this.populateOverlays(e,Q,m)).next(()=>this.computeViews(e,G,Q,ci())).next(Oe=>({batchId:P,changes:Bg(Oe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xn(t)).next(o=>{let h=sd();return o.isFoundDocument()&&(h=h.insert(o.key,o)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const h=t.collectionGroup;let m=sd();return this.indexManager.getCollectionParents(e,h).next(I=>nn.forEach(I,P=>{const G=(Q=t,Oe=P.child(h),new Xa(Oe,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,Oe;return this.getDocumentsMatchingCollectionQuery(e,G,o).next(Q=>{Q.forEach((Oe,ht)=>{m=m.insert(Oe,ht)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,o){let h;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(m=>(h=m,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(m=>{m.forEach((P,G)=>{const Q=G.getKey();null===h.get(Q)&&(h=h.insert(Q,as.newInvalidDocument(Q)))});let I=sd();return h.forEach((P,G)=>{const Q=m.get(P);void 0!==Q&&Fc(Q.mutation,G,b.empty(),Kr.now()),ks(t,G)&&(I=I.insert(P,G))}),I})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):nn.resolve(as.newInvalidDocument(t))}}class Of{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return nn.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:zs(o.createTime)}),nn.resolve()}getNamedQuery(e,t){return nn.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Ul(o.bundledQuery),readTime:zs(o.readTime)}),nn.resolve();var o}}class Wl{constructor(){this.overlays=new Es(Xn.comparator),this.es=new Map}getOverlay(e,t){return nn.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ja();return nn.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&o.set(h,m)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((h,m)=>{this.ue(e,t,m)}),nn.resolve()}removeOverlaysForBatchId(e,t,o){const h=this.es.get(o);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.es.delete(o)),nn.resolve()}getOverlaysForCollection(e,t,o){const h=Ja(),m=t.length+1,I=new Xn(t.child("")),P=this.overlays.getIteratorFrom(I);for(;P.hasNext();){const G=P.getNext().value,Q=G.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===m&&G.largestBatchId>o&&h.set(G.getKey(),G)}return nn.resolve(h)}getOverlaysForCollectionGroup(e,t,o,h){let m=new Es((Q,Oe)=>Q-Oe);const I=this.overlays.getIterator();for(;I.hasNext();){const Q=I.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>o){let Oe=m.get(Q.largestBatchId);null===Oe&&(Oe=Ja(),m=m.insert(Q.largestBatchId,Oe)),Oe.set(Q.getKey(),Q)}}const P=Ja(),G=m.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((Q,Oe)=>P.set(Q,Oe)),!(P.size()>=h)););return nn.resolve(P)}ue(e,t,o){const h=this.overlays.get(o.key);if(null!==h){const I=this.es.get(h.largestBatchId).delete(o.key);this.es.set(h.largestBatchId,I)}this.overlays=this.overlays.insert(o.key,new oh(t,o));let m=this.es.get(t);void 0===m&&(m=ci(),this.es.set(t,m)),this.es.set(t,m.add(o.key))}}class pd{constructor(){this.ns=new Wi(po.ss),this.rs=new Wi(po.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new po(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new po(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new Xn(new Jr([])),o=new po(t,e),h=new po(t,e+1),m=[];return this.rs.forEachInRange([o,h],I=>{this.cs(I),m.push(I.key)}),m}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Xn(new Jr([])),o=new po(t,e),h=new po(t,e+1);let m=ci();return this.rs.forEachInRange([o,h],I=>{m=m.add(I.key)}),m}containsKey(e){const t=new po(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class po{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Xn.comparator(e.key,t.key)||zr(e._s,t._s)}static os(e,t){return zr(e._s,t._s)||Xn.comparator(e.key,t.key)}}class Vp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Wi(po.ss)}checkEmpty(e){return nn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,h){const m=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const I=new xp(m,t,o,h);this.mutationQueue.push(I);for(const P of h)this.gs=this.gs.add(new po(P.key,m)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return nn.resolve(I)}lookupMutationBatch(e,t){return nn.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=t+1,h=this.ps(o),m=h<0?0:h;return nn.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return nn.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return nn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new po(t,0),h=new po(t,Number.POSITIVE_INFINITY),m=[];return this.gs.forEachInRange([o,h],I=>{const P=this.ys(I._s);m.push(P)}),nn.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Wi(zr);return t.forEach(h=>{const m=new po(h,0),I=new po(h,Number.POSITIVE_INFINITY);this.gs.forEachInRange([m,I],P=>{o=o.add(P._s)})}),nn.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,h=o.length+1;let m=o;Xn.isDocumentKey(m)||(m=m.child(""));const I=new po(new Xn(m),0);let P=new Wi(zr);return this.gs.forEachWhile(G=>{const Q=G.key.path;return!!o.isPrefixOf(Q)&&(Q.length===h&&(P=P.add(G._s)),!0)},I),nn.resolve(this.Is(P))}Is(e){const t=[];return e.forEach(o=>{const h=this.ys(o);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){ar(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return nn.forEach(t.mutations,h=>{const m=new po(h.key,t.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new po(t,0),h=this.gs.firstAfterOrEqual(o);return nn.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return this.mutationQueue.length,nn.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fh{constructor(e){this.Es=e,this.docs=new Es(Xn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,h=this.docs.get(o),m=h?h.size:0,I=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:I}),this.size+=I-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return nn.resolve(o?o.document.mutableCopy():as.newInvalidDocument(t))}getEntries(e,t){let o=va();return t.forEach(h=>{const m=this.docs.get(h);o=o.insert(h,m?m.document.mutableCopy():as.newInvalidDocument(h))}),nn.resolve(o)}getAllFromCollection(e,t,o){let h=va();const m=new Xn(t.child("")),I=this.docs.getIteratorFrom(m);for(;I.hasNext();){const{key:P,value:{document:G}}=I.getNext();if(!t.isPrefixOf(P.path))break;P.path.length>t.length+1||Rc(fc(G),o)<=0||(h=h.insert(G.key,G.mutableCopy()))}return nn.resolve(h)}getAllFromCollectionGroup(e,t,o,h){Ir()}As(e,t){return nn.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new ph(this)}getSize(e){return nn.resolve(this.size)}}class ph extends bf{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,h)=>{h.isValidDocument()?t.push(this.Yn.addEntry(e,h)):this.Yn.removeEntry(o)}),nn.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Mf{constructor(e){this.persistence=e,this.Rs=new Nl(t=>js(t),Lc),this.lastRemoteSnapshotVersion=Br.min(),this.highestTargetId=0,this.bs=0,this.Ps=new pd,this.targetCount=0,this.vs=jl.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,h)=>t(h)),nn.resolve()}getLastRemoteSnapshotVersion(e){return nn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nn.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),nn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),nn.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new jl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,nn.resolve()}updateTargetData(e,t){return this.Dn(t),nn.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,nn.resolve()}removeTargets(e,t,o){let h=0;const m=[];return this.Rs.forEach((I,P)=>{P.sequenceNumber<=t&&null===o.get(P.targetId)&&(this.Rs.delete(I),m.push(this.removeMatchingKeysForTargetId(e,P.targetId)),h++)}),nn.waitFor(m).next(()=>h)}getTargetCount(e){return nn.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return nn.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),nn.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const h=this.persistence.referenceDelegate,m=[];return h&&t.forEach(I=>{m.push(h.markPotentiallyOrphaned(e,I))}),nn.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),nn.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return nn.resolve(o)}containsKey(e,t){return nn.resolve(this.Ps.containsKey(t))}}class bu{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new lo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Mf(this),this.indexManager=new im,this.remoteDocumentCache=new fh(o=>this.referenceDelegate.xs(o)),this.It=new Qg(t),this.Ns=new Of(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Vp(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Pn("MemoryPersistence","Starting transaction:",e);const h=new gh(this.Ss.next());return this.referenceDelegate.ks(),o(h).next(m=>this.referenceDelegate.Os(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Ms(e,t){return nn.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class gh extends lu{constructor(e){super(),this.currentSequenceNumber=e}}class mh{constructor(e){this.persistence=e,this.Fs=new pd,this.$s=null}static Bs(e){return new mh(e)}get Ls(){if(this.$s)return this.$s;throw Ir()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),nn.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),nn.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),nn.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(h=>this.Ls.add(h.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(m=>this.Ls.add(m.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nn.forEach(this.Ls,o=>{const h=Xn.fromPath(o);return this.Us(e,h).next(m=>{m||t.removeEntry(h,Br.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return nn.or([()=>nn.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class $p{constructor(e){this.It=e}$(e,t,o,h){const m=new Oc("createOrUpgrade",t);o<1&&h>=1&&(e.createObjectStore("owner"),function(P){P.createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",i_,{unique:!0}),P.createObjectStore("documentMutations")}(e),gd(e),function(P){P.createObjectStore("remoteDocuments")}(e));let I=nn.resolve();return o<3&&h>=3&&(0!==o&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),gd(e)),I=I.next(()=>function(P){const G=P.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Br.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",Q)}(m))),o<4&&h>=4&&(0!==o&&(I=I.next(()=>function(P,G){return G.store("mutations").W().next(Q=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",i_,{unique:!0});const Oe=G.store("mutations"),ht=Q.map(Kt=>Oe.put(Kt));return nn.waitFor(ht)})}(e,m))),I=I.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&h>=5&&(I=I.next(()=>this.qs(m))),o<6&&h>=6&&(I=I.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(m)))),o<7&&h>=7&&(I=I.next(()=>this.Gs(m))),o<8&&h>=8&&(I=I.next(()=>this.Qs(e,m))),o<9&&h>=9&&(I=I.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&h>=10&&(I=I.next(()=>this.js(m))),o<11&&h>=11&&(I=I.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&h>=12&&(I=I.next(()=>{!function(P){const G=P.createObjectStore("documentOverlays",{keyPath:qg});G.createIndex("collectionPathOverlayIndex",rh,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",ih,{unique:!1})}(e)})),o<13&&h>=13&&(I=I.next(()=>function(P){const G=P.createObjectStore("remoteDocumentsV14",{keyPath:q_});G.createIndex("documentKeyIndex",Rp),G.createIndex("collectionGroupIndex",zg)}(e)).next(()=>this.Ws(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&h>=14&&(I=I.next(()=>this.zs(e,m))),o<15&&h>=15&&(I=I.next(()=>function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:Op}).createIndex("sequenceNumberIndex",Mp,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:Yg}).createIndex("documentKeyIndex",Pp,{unique:!1})}(e))),I}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,h)=>{t+=dd(h)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(h=>nn.forEach(h,m=>{const I=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",I).next(P=>nn.forEach(P,G=>{ar(G.userId===m.userId);const Q=ll(this.It,G);return uh(e,m.userId,Q).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return o.Z((I,P)=>{const G=new Jr(I),Q=[0,Uo(G)];m.push(t.get(Q).next(Oe=>{return Oe?nn.resolve():(ht=G,t.put({targetId:0,path:Uo(ht),sequenceNumber:h.highestListenSequenceNumber}));var ht}))}).next(()=>nn.waitFor(m))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:nh});const o=t.store("collectionParents"),h=new sm,m=I=>{if(h.add(I)){const P=I.lastSegment(),G=I.popLast();return o.put({collectionId:P,parent:Uo(G)})}};return t.store("remoteDocuments").Z({X:!0},(I,P)=>{const G=new Jr(I);return m(G.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([I,P,G],Q)=>{const Oe=tc(P);return m(Oe.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,h)=>{const m=Iu(h),I=Mo(this.It,m);return t.put(I)})}Ws(e,t){const o=t.store("remoteDocuments"),h=[];return o.Z((m,I)=>{const P=t.store("remoteDocumentsV14"),G=(Q=I,Q.document?new Xn(Jr.fromString(Q.document.name).popFirst(5)):Q.noDocument?Xn.fromSegments(Q.noDocument.path):Q.unknownDocument?Xn.fromSegments(Q.unknownDocument.path):Ir()).path.toArray();var Q;const Oe={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};h.push(P.put(Oe))}).next(()=>nn.waitFor(h))}zs(e,t){const o=t.store("mutations"),h=Tf(this.It),m=new bu(mh.Bs,this.It.re);return o.W().next(I=>{const P=new Map;return I.forEach(G=>{var Q;let Oe=null!==(Q=P.get(G.userId))&&void 0!==Q?Q:ci();ll(this.It,G).keys().forEach(ht=>Oe=Oe.add(ht)),P.set(G.userId,Oe)}),nn.forEach(P,(G,Q)=>{const Oe=new bs(Q),ht=yf.oe(this.It,Oe),Kt=m.getIndexManager(Oe),dn=wu.oe(Oe,this.It,Kt,m.referenceDelegate);return new Du(h,dn,ht,Kt).recalculateAndSaveOverlaysForDocumentKeys(new sh(t,lo.at),G).next()})})}}function gd(s){s.createObjectStore("targetDocuments",{keyPath:ff}).createIndex("documentTargetsIndex",Kg,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",s_,{unique:!0}),s.createObjectStore("targetGlobal")}const _h="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tu{constructor(e,t,o,h,m,I,P,G,Q,Oe,ht=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=m,this.window=I,this.document=P,this.Js=Q,this.Ys=Oe,this.Xs=ht,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Kt=>Promise.resolve(),!Tu.C())throw new fn(tn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bp(this,h),this.ii=t+"main",this.It=new Qg(G),this.ri=new Hi(this.ii,this.Xs,new $p(this.It)),this.Cs=new wf(this.referenceDelegate,this.It),this.remoteDocumentCache=Tf(this.It),this.Ns=new kp,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Oe&&qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fn(tn.FAILED_PRECONDITION,_h);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new lo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,Ee.Z)(function*(h){if(t.started)return e(h)});return function(h){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ee.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Pf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ga(e))return Pn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return md(e).get("owner").next(t=>nn.resolve(this.mi(t)))}gi(e){return Pf(e).delete(this.clientId)}yi(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const h=Co(o,"clientMetadata");return h.W().next(m=>{const I=e.Ii(m,18e5),P=m.filter(G=>-1===I.indexOf(G));return nn.forEach(P,G=>h.delete(G.clientId)).next(()=>P)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?nn.resolve(!0):md(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new fn(tn.FAILED_PRECONDITION,_h);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pf(e).W().next(o=>void 0===this.Ii(o,5e3).find(h=>{if(this.clientId!==h.clientId){const m=!this.networkEnabled&&h.networkEnabled,I=!this.inForeground&&h.inForeground,P=this.networkEnabled===h.networkEnabled;if(m||I&&P)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new sh(t,lo.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Pf(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return wu.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ch(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return yf.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Pn("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",m=15===(I=this.Xs)?gf:14===I?pf:13===I?Xg:12===I?o_:11===I?Zg:void Ir();var I;let P;return this.ri.runTransaction(e,h,m,G=>(P=new sh(G,this.Ss?this.Ss.next():lo.at),"readwrite-primary"===t?this.fi(P).next(Q=>!!Q||this.di(P)).next(Q=>{if(!Q)throw qi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new fn(tn.FAILED_PRECONDITION,cu);return o(P)}).next(Q=>this.wi(P).next(()=>Q)):this.Vi(P).next(()=>o(P)))).then(G=>(P.raiseOnCommittedEvent(),G))}Vi(e){return md(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new fn(tn.FAILED_PRECONDITION,_h)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return md(e).put("owner",t)}static C(){return Hi.C()}_i(e){const t=md(e);return t.get("owner").next(o=>this.mi(o)?(Pn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):nn.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(qi(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,et.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Pn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return qi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){qi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function md(s){return Co(s,"owner")}function Pf(s){return Co(s,"clientMetadata")}function Gl(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}class Da{constructor(e,t,o,h){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=h}static Ci(e,t){let o=ci(),h=ci();for(const m of t.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new Da(e,t.fromCache,o,h)}}class Au{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,h){return this.ki(e,t).next(m=>m||this.Oi(e,t,h,o)).next(m=>m||this.Mi(e,t))}ki(e,t){if(Ns(t))return nn.resolve(null);let o=Ms(t);return this.indexManager.getIndexType(e,o).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=Ol(t,null,"F"),o=Ms(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(m=>{const I=ci(...m);return this.Ni.getDocuments(e,I).next(P=>this.indexManager.getMinOffset(e,o).next(G=>{const Q=this.Fi(t,P);return this.$i(t,Q,I,G.readTime)?this.ki(e,Ol(t,null,"F")):this.Bi(e,Q,t,G)}))})))}Oi(e,t,o,h){return Ns(t)||h.isEqual(Br.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(m=>{const I=this.Fi(t,m);return this.$i(t,I,o,h)?this.Mi(e,t):(_o()<=yt.in.DEBUG&&Pn("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Ju(t)),this.Bi(e,I,t,$d(h,-1)))})}Fi(e,t){let o=new Wi(yc(e));return t.forEach((h,m)=>{ks(e,m)&&(o=o.add(m))}),o}$i(e,t,o,h){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Mi(e,t){return _o()<=yt.in.DEBUG&&Pn("QueryEngine","Using full collection scan to execute query:",Ju(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ts.min())}Bi(e,t,o,h){return this.Ni.getDocumentsMatchingQuery(e,o,h).next(m=>(t.forEach(I=>{m=m.insert(I.key,I)}),m))}}class X_{constructor(e,t,o,h){this.persistence=e,this.Li=t,this.It=h,this.Ui=new Es(zr),this.qi=new Nl(m=>js(m),Lc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Du(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function xf(s,e,t,o){return new X_(s,e,t,o)}function Nf(s,e){return zl.apply(this,arguments)}function zl(){return zl=(0,Ee.Z)(function*(s,e){const t=rr(s);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let h;return t.mutationQueue.getAllMutationBatches(o).next(m=>(h=m,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(m=>{const I=[],P=[];let G=ci();for(const Q of h){I.push(Q.batchId);for(const Oe of Q.mutations)G=G.add(Oe.key)}for(const Q of m){P.push(Q.batchId);for(const Oe of Q.mutations)G=G.add(Oe.key)}return t.localDocuments.getDocuments(o,G).next(Q=>({ji:Q,removedBatchIds:I,addedBatchIds:P}))})})}),zl.apply(this,arguments)}function yh(s,e){const t=rr(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const h=e.batch.keys(),m=t.Gi.newChangeBuffer({trackRemovals:!0});return function(I,P,G,Q){const Oe=G.batch,ht=Oe.keys();let Kt=nn.resolve();return ht.forEach(dn=>{Kt=Kt.next(()=>Q.getEntry(P,dn)).next(Dn=>{const fr=G.docVersions.get(dn);ar(null!==fr),Dn.version.compareTo(fr)<0&&(Oe.applyToRemoteDocument(Dn,G),Dn.isValidDocument()&&(Dn.setReadTime(G.commitVersion),Q.addEntry(Dn)))})}),Kt.next(()=>I.mutationQueue.removeMutationBatch(P,Oe))}(t,o,e,m).next(()=>m.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(I){let P=ci();for(let G=0;G<I.mutationResults.length;++G)I.mutationResults[G].transformResults.length>0&&(P=P.add(I.batch.mutations[G].key));return P}(e))).next(()=>t.localDocuments.getDocuments(o,h))})}function lm(s){const e=rr(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Js(s,e){const t=rr(s),o=e.snapshotVersion;let h=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const I=t.Gi.newChangeBuffer({trackRemovals:!0});h=t.Ui;const P=[];e.targetChanges.forEach((Oe,ht)=>{const Kt=h.get(ht);if(!Kt)return;P.push(t.Cs.removeMatchingKeys(m,Oe.removedDocuments,ht).next(()=>t.Cs.addMatchingKeys(m,Oe.addedDocuments,ht)));let dn=Kt.withSequenceNumber(m.currentSequenceNumber);var Dn,fr,Tr;e.targetMismatches.has(ht)?dn=dn.withResumeToken(W.EMPTY_BYTE_STRING,Br.min()).withLastLimboFreeSnapshotVersion(Br.min()):Oe.resumeToken.approximateByteSize()>0&&(dn=dn.withResumeToken(Oe.resumeToken,o)),h=h.insert(ht,dn),fr=dn,Tr=Oe,(0===(Dn=Kt).resumeToken.approximateByteSize()||fr.snapshotVersion.toMicroseconds()-Dn.snapshotVersion.toMicroseconds()>=3e8||Tr.addedDocuments.size+Tr.modifiedDocuments.size+Tr.removedDocuments.size>0)&&P.push(t.Cs.updateTargetData(m,dn))});let G=va(),Q=ci();if(e.documentUpdates.forEach(Oe=>{e.resolvedLimboDocuments.has(Oe)&&P.push(t.persistence.referenceDelegate.updateLimboDocument(m,Oe))}),P.push(Hp(m,I,e.documentUpdates).next(Oe=>{G=Oe.Wi,Q=Oe.zi})),!o.isEqual(Br.min())){const Oe=t.Cs.getLastRemoteSnapshotVersion(m).next(ht=>t.Cs.setTargetsMetadata(m,m.currentSequenceNumber,o));P.push(Oe)}return nn.waitFor(P).next(()=>I.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,G,Q)).next(()=>G)}).then(m=>(t.Ui=h,m))}function Hp(s,e,t){let o=ci(),h=ci();return t.forEach(m=>o=o.add(m)),e.getEntries(s,o).next(m=>{let I=va();return t.forEach((P,G)=>{const Q=m.get(P);G.isFoundDocument()!==Q.isFoundDocument()&&(h=h.add(P)),G.isNoDocument()&&G.version.isEqual(Br.min())?(e.removeEntry(P,G.readTime),I=I.insert(P,G)):!Q.isValidDocument()||G.version.compareTo(Q.version)>0||0===G.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(G),I=I.insert(P,G)):Pn("LocalStore","Ignoring outdated watch update for ",P,". Current version:",Q.version," Watch version:",G.version)}),{Wi:I,zi:h}})}function um(s,e){const t=rr(s);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function hl(s,e){const t=rr(s);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let h;return t.Cs.getTargetData(o,e).next(m=>m?(h=m,nn.resolve(h)):t.Cs.allocateTargetId(o).next(I=>(h=new Bl(e,I,0,o.currentSequenceNumber),t.Cs.addTargetData(o,h).next(()=>h))))}).then(o=>{const h=t.Ui.get(o.targetId);return(null===h||o.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function Su(s,e,t){return aa.apply(this,arguments)}function aa(){return aa=(0,Ee.Z)(function*(s,e,t){const o=rr(s),h=o.Ui.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",m,I=>o.persistence.referenceDelegate.removeTarget(I,h)))}catch(I){if(!ga(I))throw I;Pn("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}o.Ui=o.Ui.remove(e),o.qi.delete(h.target)}),aa.apply(this,arguments)}function vh(s,e,t){const o=rr(s);let h=Br.min(),m=ci();return o.persistence.runTransaction("Execute query","readonly",I=>function(P,G,Q){const Oe=rr(P),ht=Oe.qi.get(Q);return void 0!==ht?nn.resolve(Oe.Ui.get(ht)):Oe.Cs.getTargetData(G,Q)}(o,I,Ms(e)).next(P=>{if(P)return h=P.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(I,P.targetId).next(G=>{m=G})}).next(()=>o.Li.getDocumentsMatchingQuery(I,e,t?h:Br.min(),t?m:ci())).next(P=>(dm(o,_a(e),P),{documents:P,Hi:m})))}function jp(s,e){const t=rr(s),o=rr(t.Cs),h=t.Ui.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",m=>o.se(m,e).next(I=>I?I.target:null))}function Wp(s,e){const t=rr(s),o=t.Ki.get(e)||Br.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Gi.getAllFromCollectionGroup(h,e,$d(o,-1),Number.MAX_SAFE_INTEGER)).then(h=>(dm(t,e,h),h))}function dm(s,e,t){let o=s.Ki.get(e)||Br.min();t.forEach((h,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),s.Ki.set(e,o)}function si(){return si=(0,Ee.Z)(function*(s,e,t,o){const h=rr(s);let m=ci(),I=va();for(const Q of t){const Oe=e.Ji(Q.metadata.name);Q.document&&(m=m.add(Oe));const ht=e.Yi(Q);ht.setReadTime(e.Xi(Q.metadata.readTime)),I=I.insert(Oe,ht)}const P=h.Gi.newChangeBuffer({trackRemovals:!0}),G=yield hl(h,(Q=o,Ms(_c(Jr.fromString(`__bundle__/docs/${Q}`)))));var Q;return h.persistence.runTransaction("Apply bundle documents","readwrite",Q=>Hp(Q,P,I).next(Oe=>(P.apply(Q),Oe)).next(Oe=>h.Cs.removeMatchingKeysForTargetId(Q,G.targetId).next(()=>h.Cs.addMatchingKeys(Q,m,G.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(Q,Oe.Wi,Oe.zi)).next(()=>Oe.Wi)))}),si.apply(this,arguments)}function Gp(s,e){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,Ee.Z)(function*(s,e,t=ci()){const o=yield hl(s,Ms(Ul(e.bundledQuery))),h=rr(s);return h.persistence.runTransaction("Save named query","readwrite",m=>{const I=zs(e.readTime);if(o.snapshotVersion.compareTo(I)>=0)return h.Ns.saveNamedQuery(m,e);const P=o.withResumeToken(W.EMPTY_BYTE_STRING,I);return h.Ui=h.Ui.insert(P.targetId,P),h.Cs.updateTargetData(m,P).next(()=>h.Cs.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>h.Cs.addMatchingKeys(m,t,o.targetId)).next(()=>h.Ns.saveNamedQuery(m,e))})}),Kl.apply(this,arguments)}function kf(s,e){return`firestore_clients_${s}_${e}`}function zp(s,e,t){let o=`firestore_mutations_${s}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Kp(s,e){return`firestore_targets_${s}_${e}`}class Ru{constructor(e,t,o,h){this.user=e,this.batchId=t,this.state=o,this.error=h}static Zi(e,t,o){const h=JSON.parse(o);let m,I="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return I&&h.error&&(I="string"==typeof h.error.message&&"string"==typeof h.error.code,I&&(m=new fn(h.error.code,h.error.message))),I?new Ru(e,t,h.state,m):(qi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yl{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let h,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(h=new fn(o.error.code,o.error.message))),m?new Yl(e,o.state,h):(qi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Eh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let h="object"==typeof o&&o.activeTargetIds instanceof Array,m=qd();for(let I=0;h&&I<o.activeTargetIds.length;++I)h=ho(o.activeTargetIds[I]),m=m.add(o.activeTargetIds[I]);return h?new Eh(e,m):(qi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ih{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ih(t.clientId,t.onlineState):(qi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Yp{constructor(){this.activeTargetIds=qd()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qp{constructor(e,t,o,h,m){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Es(zr),this.started=!1,this.cr=[];const I=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ar=kf(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Yp),this.lr=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.wr=function(P){return`firestore_online_state_${P}`}(this.persistenceKey),this.mr=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.vi();for(const h of t){if(h===e.sr)continue;const m=e.getItem(kf(e.persistenceKey,h));if(m){const I=Eh.Zi(h,m);I&&(e.ur=e.ur.insert(I.clientId,I))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const h=e.yr(o);h&&e.pr(h)}for(const h of e.cr)e.rr(h);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Kp(this.persistenceKey,e));if(o){const h=Yl.Zi(e,o);h&&(t=h.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Kp(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(h=>{this.Er(h)}),this.currentUser=e,o.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pn("SharedClientState","READ",e,t),t}setItem(e,t){Pn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Pn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void qi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const h=t.vr(o.key);return t.Vr(h,null)}{const h=t.Sr(o.key,o.newValue);if(h)return t.Vr(h.clientId,h)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const h=t.Dr(o.key,o.newValue);if(h)return t.Cr(h)}}else if(t._r.test(o.key)){if(null!==o.newValue){const h=t.Nr(o.key,o.newValue);if(h)return t.kr(h)}}else if(o.key===t.wr){if(null!==o.newValue){const h=t.yr(o.newValue);if(h)return t.pr(h)}}else if(o.key===t.hr){const h=function(m){let I=lo.at;if(null!=m)try{const P=JSON.parse(m);ar("number"==typeof P),I=P}catch(P){qi("SharedClientState","Failed to read sequence number from WebStorage",P)}return I}(o.newValue);h!==lo.at&&t.sequenceNumberHandler(h)}else if(o.key===t.mr){const h=t.Or(o.newValue);yield Promise.all(h.map(m=>t.syncEngine.Mr(m)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const h=new Ru(this.currentUser,e,t,o),m=zp(this.persistenceKey,this.currentUser,e);this.setItem(m,h.tr())}Er(e){const t=zp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){const t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}Rr(e,t,o){const h=Kp(this.persistenceKey,e),m=new Yl(e,t,o);this.setItem(h,m.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return Eh.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),h=Number(o[1]),m=void 0!==o[2]?o[2]:null;return Ru.Zi(new bs(m),h,t)}Nr(e,t){const o=this._r.exec(e),h=Number(o[1]);return Yl.Zi(h,t)}yr(e){return Ih.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Pn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),h=this.Ir(this.ur),m=this.Ir(o),I=[],P=[];return m.forEach(G=>{h.has(G)||I.push(G)}),h.forEach(G=>{m.has(G)||P.push(G)}),this.syncEngine.Br(I,P).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=qd();return e.forEach((o,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class Zp{constructor(){this.Lr=new Yp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Yp,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xp{qr(e){}shutdown(){}}class ba{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Pn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Pn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const u_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qp{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Ch extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,h,m){const I=this.ho(e,t);Pn("RestConnection","Sending: ",I,o);const P={};return this.lo(P,h,m),this.fo(e,I,P,o).then(G=>(Pn("RestConnection","Received: ",G),G),G=>{throw To("RestConnection",`${e} failed with error: `,G,"url: ",I,"request:",o),G})}_o(e,t,o,h,m,I){return this.ao(e,t,o,h,m)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,m)=>e[m]=h),o&&o.headers.forEach((h,m)=>e[m]=h)}ho(e,t){const o=u_[e];return`${this.oo}/v1/${t}:${o}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,h){return new Promise((m,I)=>{const P=new Jc;P.setWithCredentials(!0),P.listenOnce(wl.COMPLETE,()=>{var Q;try{switch(P.getLastErrorCode()){case Cl.NO_ERROR:const Oe=P.getResponseJson();Pn("Connection","XHR received:",JSON.stringify(Oe)),m(Oe);break;case Cl.TIMEOUT:Pn("Connection",'RPC "'+e+'" timed out'),I(new fn(tn.DEADLINE_EXCEEDED,"Request time out"));break;case Cl.HTTP_ERROR:const ht=P.getStatus();if(Pn("Connection",'RPC "'+e+'" failed with status:',ht,"response text:",P.getResponseText()),ht>0){let Kt=P.getResponseJson();Array.isArray(Kt)&&(Kt=Kt[0]);const dn=null===(Q=Kt)||void 0===Q?void 0:Q.error;if(dn&&dn.status&&dn.message){const Dn=function(fr){const Tr=fr.toLowerCase().replace(/_/g,"-");return Object.values(tn).indexOf(Tr)>=0?Tr:tn.UNKNOWN}(dn.status);I(new fn(Dn,dn.message))}else I(new fn(tn.UNKNOWN,"Server responded with status "+P.getStatus()))}else I(new fn(tn.UNAVAILABLE,"Connection failed."));break;default:Ir()}}finally{Pn("Connection",'RPC "'+e+'" completed.')}});const G=JSON.stringify(h);P.send(t,"POST",G,o,15)})}wo(e,t,o){const h=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=ou(),I=Ud(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new Qc({})),this.lo(P.initMessageHeaders,t,o),P.encodeInitMessageHeaders=!0;const G=h.join("");Pn("Connection","Creating WebChannel: "+G,P);const Q=m.createWebChannel(G,P);let Oe=!1,ht=!1;const Kt=new Qp({Hr:Dn=>{ht?Pn("Connection","Not sending because WebChannel is closed:",Dn):(Oe||(Pn("Connection","Opening WebChannel transport."),Q.open(),Oe=!0),Pn("Connection","WebChannel sending:",Dn),Q.send(Dn))},Jr:()=>Q.close()}),dn=(Dn,fr,Tr)=>{Dn.listen(fr,rs=>{try{Tr(rs)}catch(Gi){setTimeout(()=>{throw Gi},0)}})};return dn(Q,uc.EventType.OPEN,()=>{ht||Pn("Connection","WebChannel transport opened.")}),dn(Q,uc.EventType.CLOSE,()=>{ht||(ht=!0,Pn("Connection","WebChannel transport closed"),Kt.io())}),dn(Q,uc.EventType.ERROR,Dn=>{ht||(ht=!0,To("Connection","WebChannel transport errored:",Dn),Kt.io(new fn(tn.UNAVAILABLE,"The operation could not be completed")))}),dn(Q,uc.EventType.MESSAGE,Dn=>{var fr;if(!ht){const Tr=Dn.data[0];ar(!!Tr);const rs=Tr,Gi=rs.error||(null===(fr=rs[0])||void 0===fr?void 0:fr.error);if(Gi){Pn("Connection","WebChannel received error:",Gi);const Ni=Gi.status;let to=function(is){const Yo=Gs[is];if(void 0!==Yo)return Kd(Yo)}(Ni),Cs=Gi.message;void 0===to&&(to=tn.INTERNAL,Cs="Unknown error status: "+Ni+" with message "+Gi.message),ht=!0,Kt.io(new fn(to,Cs)),Q.close()}else Pn("Connection","WebChannel received:",Tr),Kt.ro(Tr)}}),dn(I,Vd.STAT_EVENT,Dn=>{Dn.stat===ha.PROXY?Pn("Connection","Detected buffering proxy"):Dn.stat===ha.NOPROXY&&Pn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Kt.so()},0),Kt}}function Jp(){return"undefined"!=typeof window?window:null}function Lf(){return"undefined"!=typeof document?document:null}function Gc(s){return new ad(s,!0)}class zc{constructor(e,t,o=1e3,h=1.5,m=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=h,this.po=m,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),h=Math.max(0,t-o);h>0&&Pn("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,h,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class hm{constructor(e,t,o,h,m,I,P,G){this.Hs=e,this.vo=o,this.Vo=h,this.connection=m,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=P,this.listener=G,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new zc(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ee.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ee.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,Ee.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===tn.RESOURCE_EXHAUSTED?(qi(t.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===tn.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,h])=>{this.So===t&&this.Go(o,h)},o=>{e(()=>{const h=new fn(tn.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(h)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(h=>{o(()=>this.Qo(h))}),this.stream.onMessage(h=>{o(()=>this.onMessage(h))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ee.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Pn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Pn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ff extends hm{constructor(e,t,o,h,m,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,h,I),this.It=m}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function cd(s,e){let t;if("targetChange"in e){e.targetChange;const o="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:Ir(),h=e.targetChange.targetIds||[],m=function(G,Q){return G.gt?(ar(void 0===Q||"string"==typeof Q),W.fromBase64String(Q||"")):(ar(void 0===Q||Q instanceof Uint8Array),W.fromUint8Array(Q||new Uint8Array))}(s,e.targetChange.resumeToken),I=e.targetChange.cause,P=I&&function(G){const Q=void 0===G.code?tn.UNKNOWN:Kd(G.code);return new fn(Q,G.message||"")}(I);t=new Ea(o,h,m,P||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const h=oa(s,o.document.name),m=zs(o.document.updateTime),I=new oo({mapValue:{fields:o.document.fields}}),P=as.newFoundDocument(h,m,I),G=o.targetIds||[],Q=o.removedTargetIds||[];t=new wp(G,Q,P.key,P)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const h=oa(s,o.document),m=o.readTime?zs(o.readTime):Br.min(),I=as.newNoDocument(h,m),P=o.removedTargetIds||[];t=new wp([],P,I.key,I)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const h=oa(s,o.document),m=o.removedTargetIds||[];t=new wp([],m,h,null)}else{if(!("filter"in e))return Ir();{e.filter;const o=e.filter;o.targetId;const h=o.count||0,m=new sa(h),I=o.targetId;t=new Ug(I,m)}}var G;return t}(this.It,e),o=function(h){if(!("targetChange"in h))return Br.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Br.min():m.readTime?zs(m.readTime):Br.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=vc(this.It),t.addTarget=function(h,m){let I;const P=m.target;return I=Eo(P)?{documents:Ll(h,P)}:{query:ol(h,P)},I.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?I.resumeToken=Qd(h,m.resumeToken):m.snapshotVersion.compareTo(Br.min())>0&&(I.readTime=Ia(h,m.snapshotVersion.toTimestamp())),I}(this.It,e);const o=function Fl(s,e){const t=function(o,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ir()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(this.It,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=vc(this.It),t.removeTarget=e,this.Bo(t)}}class Bf extends hm{constructor(e,t,o,h,m,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,h,I),this.It=m,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ar(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Hg(s,e){return s&&s.length>0?(ar(void 0!==e),s.map(t=>function(o,h){let m=o.updateTime?zs(o.updateTime):zs(h);return m.isEqual(Br.min())&&(m=zs(h)),new Ur(m,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=zs(e.commitTime);return this.listener.Zo(o,t)}return ar(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=vc(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>yu(this.It,o))};this.Bo(t)}}class d_ extends class{}{constructor(e,t,o,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.It=h,this.nu=!1}su(){if(this.nu)throw new fn(tn.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.ao(e,t,o,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===tn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fn(tn.UNKNOWN,h.toString())})}_o(e,t,o,h){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,I])=>this.connection._o(e,t,o,m,I,h)).catch(m=>{throw"FirebaseError"===m.name?(m.code===tn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new fn(tn.UNKNOWN,m.toString())})}terminate(){this.nu=!0}}class tg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(qi(t),this.ou=!1):Pn("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class wh{constructor(e,t,o,h,m){var I=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=m,this.mu.qr(P=>{o.enqueueAndForget((0,Ee.Z)(function*(){var G;rc(I)&&(Pn("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,Ee.Z)(function*(Q){const Oe=rr(Q);Oe._u.add(4),yield ql(Oe),Oe.gu.set("Unknown"),Oe._u.delete(4),yield _d(Oe)}),function(Q){return G.apply(this,arguments)})(I))}))}),this.gu=new tg(o,h)}}function _d(s){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,Ee.Z)(function*(s){if(rc(s))for(const e of s.wu)yield e(!0)}),Ou.apply(this,arguments)}function ql(s){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,Ee.Z)(function*(s){for(const e of s.wu)yield e(!1)}),Dh.apply(this,arguments)}function Uf(s,e){const t=rr(s);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Ah(t)?Vf(t):Pu(t).ko()&&Th(t,e))}function bh(s,e){const t=rr(s),o=Pu(t);t.du.delete(e),o.ko()&&ng(t,e),0===t.du.size&&(o.ko()?o.Fo():rc(t)&&t.gu.set("Unknown"))}function Th(s,e){s.yu.Mt(e.targetId),Pu(s).zo(e)}function ng(s,e){s.yu.Mt(e),Pu(s).Ho(e)}function Vf(s){s.yu=new uf({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),se:e=>s.du.get(e)||null}),Pu(s).start(),s.gu.uu()}function Ah(s){return rc(s)&&!Pu(s).No()&&s.du.size>0}function rc(s){return 0===rr(s)._u.size}function Sh(s){s.yu=void 0}function Po(s){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,Ee.Z)(function*(s){s.du.forEach((e,t)=>{Th(s,e)})}),Kc.apply(this,arguments)}function Ua(s,e){return yd.apply(this,arguments)}function yd(){return yd=(0,Ee.Z)(function*(s,e){Sh(s),Ah(s)?(s.gu.hu(e),Vf(s)):s.gu.set("Unknown")}),yd.apply(this,arguments)}function $o(s,e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,Ee.Z)(function*(s,e,t){if(s.gu.set("Online"),e instanceof Ea&&2===e.state&&e.cause)try{yield(o=(0,Ee.Z)(function*(h,m){const I=m.cause;for(const P of m.targetIds)h.du.has(P)&&(yield h.remoteSyncer.rejectListen(P,I),h.du.delete(P),h.yu.removeTarget(P))}),function(h,m){return o.apply(this,arguments)})(s,e)}catch(o){Pn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield vd(s,o)}else if(e instanceof wp?s.yu.Gt(e):e instanceof Ug?s.yu.Yt(e):s.yu.Wt(e),!t.isEqual(Br.min()))try{const o=yield lm(s.localStore);t.compareTo(o)>=0&&(yield function(h,m){const I=h.yu.te(m);return I.targetChanges.forEach((P,G)=>{if(P.resumeToken.approximateByteSize()>0){const Q=h.du.get(G);Q&&h.du.set(G,Q.withResumeToken(P.resumeToken,m))}}),I.targetMismatches.forEach(P=>{const G=h.du.get(P);if(!G)return;h.du.set(P,G.withResumeToken(W.EMPTY_BYTE_STRING,G.snapshotVersion)),ng(h,P);const Q=new Bl(G.target,P,1,G.sequenceNumber);Th(h,Q)}),h.remoteSyncer.applyRemoteEvent(I)}(s,t))}catch(o){Pn("RemoteStore","Failed to raise snapshot:",o),yield vd(s,o)}var o}),Yc.apply(this,arguments)}function vd(s,e,t){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,Ee.Z)(function*(s,e,t){if(!ga(e))throw e;s._u.add(1),yield ql(s),s.gu.set("Offline"),t||(t=()=>lm(s.localStore)),s.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Pn("RemoteStore","Retrying IndexedDB access"),yield t(),s._u.delete(1),yield _d(s)}))}),Mu.apply(this,arguments)}function xo(s,e){return e().catch(t=>vd(s,t,e))}function Ed(s){return rg.apply(this,arguments)}function rg(){return rg=(0,Ee.Z)(function*(s){const e=rr(s),t=Ql(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;ig(e);)try{const h=yield um(e.localStore,o);if(null===h){0===e.fu.length&&t.Fo();break}o=h.batchId,Ic(e,h)}catch(h){yield vd(e,h)}$f(e)&&sg(e)}),rg.apply(this,arguments)}function ig(s){return rc(s)&&s.fu.length<10}function Ic(s,e){s.fu.push(e);const t=Ql(s);t.ko()&&t.Yo&&t.Xo(e.mutations)}function $f(s){return rc(s)&&!Ql(s).No()&&s.fu.length>0}function sg(s){Ql(s).start()}function og(s){return fm.apply(this,arguments)}function fm(){return fm=(0,Ee.Z)(function*(s){Ql(s).eu()}),fm.apply(this,arguments)}function Id(s){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,Ee.Z)(function*(s){const e=Ql(s);for(const t of s.fu)e.Xo(t.mutations)}),Rh.apply(this,arguments)}function Zl(s,e,t){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,Ee.Z)(function*(s,e,t){const o=s.fu.shift(),h=ld.from(o,e,t);yield xo(s,()=>s.remoteSyncer.applySuccessfulWrite(h)),yield Ed(s)}),Xl.apply(this,arguments)}function Hf(s,e){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,Ee.Z)(function*(s,e){var t;e&&Ql(s).Yo&&(yield(t=(0,Ee.Z)(function*(o,h){if(cf(m=h.code)&&m!==tn.ABORTED){const I=o.fu.shift();Ql(o).Mo(),yield xo(o,()=>o.remoteSyncer.rejectFailedWrite(I.batchId,h)),yield Ed(o)}var m}),function(o,h){return t.apply(this,arguments)})(s,e)),$f(s)&&sg(s)}),Cd.apply(this,arguments)}function Oh(s,e){return ag.apply(this,arguments)}function ag(){return ag=(0,Ee.Z)(function*(s,e){const t=rr(s);t.asyncQueue.verifyOperationInProgress(),Pn("RemoteStore","RemoteStore received new credentials");const o=rc(t);t._u.add(3),yield ql(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield _d(t)}),ag.apply(this,arguments)}function jf(s,e){return Va.apply(this,arguments)}function Va(){return Va=(0,Ee.Z)(function*(s,e){const t=rr(s);e?(t._u.delete(2),yield _d(t)):e||(t._u.add(2),yield ql(t),t.gu.set("Unknown"))}),Va.apply(this,arguments)}function Pu(s){return s.pu||(s.pu=function(e,t,o){const h=rr(e);return h.su(),new Ff(t,h.connection,h.authCredentials,h.appCheckCredentials,h.It,o)}(s.datastore,s.asyncQueue,{Yr:Po.bind(null,s),Zr:Ua.bind(null,s),Wo:$o.bind(null,s)}),s.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(s.pu.Mo(),Ah(s)?Vf(s):s.gu.set("Unknown")):(yield s.pu.stop(),Sh(s))});return function(t){return e.apply(this,arguments)}}())),s.pu}function Ql(s){return s.Iu||(s.Iu=function(e,t,o){const h=rr(e);return h.su(),new Bf(t,h.connection,h.authCredentials,h.appCheckCredentials,h.It,o)}(s.datastore,s.asyncQueue,{Yr:og.bind(null,s),Zr:Hf.bind(null,s),tu:Id.bind(null,s),Zo:Zl.bind(null,s)}),s.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(s.Iu.Mo(),yield Ed(s)):(yield s.Iu.stop(),s.fu.length>0&&(Pn("RemoteStore",`Stopping write stream with ${s.fu.length} pending writes`),s.fu=[]))});return function(t){return e.apply(this,arguments)}}())),s.Iu}class Wf{constructor(e,t,o,h,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=h,this.removalCallback=m,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}static createAndSchedule(e,t,o,h,m){const I=Date.now()+o,P=new Wf(e,t,I,h,m);return P.start(o),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fn(tn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mh(s,e){if(qi("AsyncQueue",`${e}: ${s}`),ga(s))return new fn(tn.UNAVAILABLE,`${e}: ${s}`);throw s}class xu{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Xn.comparator(t.key,o.key):(t,o)=>Xn.comparator(t.key,o.key),this.keyedMap=sd(),this.sortedSet=new Es(this.comparator)}static emptySet(e){return new xu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=o.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new xu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class h_{constructor(){this.Tu=new Es(Xn.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ir():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Nu{constructor(e,t,o,h,m,I,P,G,Q){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=h,this.mutatedKeys=m,this.fromCache=I,this.syncStateChanged=P,this.excludesMetadataChanges=G,this.hasCachedResults=Q}static fromInitialDocuments(e,t,o,h,m){const I=[];return t.forEach(P=>{I.push({type:0,doc:P})}),new Nu(e,t,xu.emptySet(t),I,o,h,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==o[h].type||!t[h].doc.isEqual(o[h].doc))return!1;return!0}}class pm{constructor(){this.Au=void 0,this.listeners=[]}}class f_{constructor(){this.queries=new Nl(e=>Qu(e),Ml),this.onlineState="Unknown",this.Ru=new Set}}function Ph(s,e){return gm.apply(this,arguments)}function gm(){return gm=(0,Ee.Z)(function*(s,e){const t=rr(s),o=e.query;let h=!1,m=t.queries.get(o);if(m||(h=!0,m=new pm),h)try{m.Au=yield t.onListen(o)}catch(I){const P=Mh(I,`Initialization of query '${Ju(e.query)}' failed`);return void e.onError(P)}t.queries.set(o,m),m.listeners.push(e),e.bu(t.onlineState),m.Au&&e.Pu(m.Au)&&ym(t)}),gm.apply(this,arguments)}function mm(s,e){return _m.apply(this,arguments)}function _m(){return _m=(0,Ee.Z)(function*(s,e){const t=rr(s),o=e.query;let h=!1;const m=t.queries.get(o);if(m){const I=m.listeners.indexOf(e);I>=0&&(m.listeners.splice(I,1),h=0===m.listeners.length)}if(h)return t.queries.delete(o),t.onUnlisten(o)}),_m.apply(this,arguments)}function Q_(s,e){const t=rr(s);let o=!1;for(const h of e){const m=h.query,I=t.queries.get(m);if(I){for(const P of I.listeners)P.Pu(h)&&(o=!0);I.Au=h}}o&&ym(t)}function J_(s,e,t){const o=rr(s),h=o.queries.get(e);if(h)for(const m of h.listeners)m.onError(t);o.queries.delete(e)}function ym(s){s.Ru.forEach(e=>{e.next()})}class vm{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const h of e.docChanges)3!==h.type&&o.push(h);e=new Nu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){if(!e.fromCache)return!0;const o="Offline"!==t;return(!this.options.Nu||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){if(e.docChanges.length>0)return!0;const t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}xu(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class ey{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class p_{constructor(e){this.It=e}Ji(e){return oa(this.It,e)}Yi(e){return e.metadata.exists?ls(this.It,e.document,!1):as.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return zs(e)}}class ty{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fl(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const o=Jr.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new p_(this.It);for(const h of e)if(h.metadata.queries){const m=o.Ji(h.metadata.name);for(const I of h.metadata.queries){const P=(t.get(I)||ci()).add(m);t.set(I,P)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function l_(s,e,t,o){return si.apply(this,arguments)}(e.localStore,new p_(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const h of e.queries)yield Gp(e.localStore,h,o.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function fl(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Gf{constructor(e){this.key=e}}class ic{constructor(e){this.key=e}}class cg{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ci(),this.mutatedKeys=ci(),this.Gu=yc(e),this.Qu=new xu(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new h_,h=t?t.Qu:this.Qu;let m=t?t.mutatedKeys:this.mutatedKeys,I=h,P=!1;const G="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,Q="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Oe,ht)=>{const Kt=h.get(Oe),dn=ks(this.query,ht)?ht:null,Dn=!!Kt&&this.mutatedKeys.has(Kt.key),fr=!!dn&&(dn.hasLocalMutations||this.mutatedKeys.has(dn.key)&&dn.hasCommittedMutations);let Tr=!1;Kt&&dn?Kt.data.isEqual(dn.data)?Dn!==fr&&(o.track({type:3,doc:dn}),Tr=!0):this.Hu(Kt,dn)||(o.track({type:2,doc:dn}),Tr=!0,(G&&this.Gu(dn,G)>0||Q&&this.Gu(dn,Q)<0)&&(P=!0)):!Kt&&dn?(o.track({type:0,doc:dn}),Tr=!0):Kt&&!dn&&(o.track({type:1,doc:Kt}),Tr=!0,(G||Q)&&(P=!0)),Tr&&(dn?(I=I.add(dn),m=fr?m.add(Oe):m.delete(Oe)):(I=I.delete(Oe),m=m.delete(Oe)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const Oe="F"===this.query.limitType?I.last():I.first();I=I.delete(Oe.key),m=m.delete(Oe.key),o.track({type:1,doc:Oe})}return{Qu:I,zu:o,$i:P,mutatedKeys:m}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const h=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const m=e.zu.Eu();m.sort((Q,Oe)=>function(ht,Kt){const dn=Dn=>{switch(Dn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ir()}};return dn(ht)-dn(Kt)}(Q.type,Oe.type)||this.Gu(Q.doc,Oe.doc)),this.Ju(o);const I=t?this.Yu():[],P=0===this.Ku.size&&this.current?1:0,G=P!==this.qu;return this.qu=P,0!==m.length||G?{snapshot:new Nu(this.query,e.Qu,h,m,e.mutatedKeys,0===P,G,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:I}:{Xu:I}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new h_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ci(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new ic(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Gf(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=ci();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Nu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class xh{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class lg{constructor(e){this.key=e,this.nc=!1}}class ug{constructor(e,t,o,h,m,I){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=I,this.sc={},this.ic=new Nl(P=>Qu(P),Ml),this.rc=new Map,this.oc=new Set,this.uc=new Es(Xn.comparator),this.cc=new Map,this.ac=new pd,this.hc={},this.lc=new Map,this.fc=jl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Em(s,e){return qc.apply(this,arguments)}function qc(){return qc=(0,Ee.Z)(function*(s,e){const t=Uh(s);let o,h;const m=t.ic.get(e);if(m)o=m.targetId,t.sharedClientState.addLocalQueryTarget(o),h=m.view.ec();else{const I=yield hl(t.localStore,Ms(e));t.isPrimaryClient&&Uf(t.remoteStore,I);const P=t.sharedClientState.addLocalQueryTarget(I.targetId);o=I.targetId,h=yield zf(t,e,o,"current"===P,I.resumeToken)}return h}),qc.apply(this,arguments)}function zf(s,e,t,o,h){return dg.apply(this,arguments)}function dg(){return dg=(0,Ee.Z)(function*(s,e,t,o,h){s._c=(ht,Kt,dn)=>{return(Dn=(0,Ee.Z)(function*(fr,Tr,rs,Gi){let Ni=Tr.view.Wu(rs);Ni.$i&&(Ni=yield vh(fr.localStore,Tr.query,!1).then(({documents:is})=>Tr.view.Wu(is,Ni)));const to=Gi&&Gi.targetChanges.get(Tr.targetId),Cs=Tr.view.applyChanges(Ni,fr.isPrimaryClient,to);return Jf(fr,Tr.targetId,Cs.Xu),Cs.snapshot}),function(fr,Tr,rs,Gi){return Dn.apply(this,arguments)})(s,ht,Kt,dn);var Dn};const m=yield vh(s.localStore,e,!0),I=new cg(e,m.Hi),P=I.Wu(m.documents),G=gu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==s.onlineState,h),Q=I.applyChanges(P,s.isPrimaryClient,G);Jf(s,t,Q.Xu);const Oe=new xh(e,t,I);return s.ic.set(e,Oe),s.rc.has(t)?s.rc.get(t).push(e):s.rc.set(t,[e]),Q.snapshot}),dg.apply(this,arguments)}function g_(s,e){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,Ee.Z)(function*(s,e){const t=rr(s),o=t.ic.get(e),h=t.rc.get(o.targetId);if(h.length>1)return t.rc.set(o.targetId,h.filter(m=>!Ml(m,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Su(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),bh(t.remoteStore,o.targetId),Fh(t,o.targetId)}).catch(pa))):(Fh(t,o.targetId),yield Su(t.localStore,o.targetId,!0))}),Nh.apply(this,arguments)}function hg(){return hg=(0,Ee.Z)(function*(s,e,t){const o=ip(s);try{const h=yield function(m,I){const P=rr(m),G=Kr.now(),Q=I.reduce((Kt,dn)=>Kt.add(dn.key),ci());let Oe,ht;return P.persistence.runTransaction("Locally write mutations","readwrite",Kt=>{let dn=va(),Dn=ci();return P.Gi.getEntries(Kt,Q).next(fr=>{dn=fr,dn.forEach((Tr,rs)=>{rs.isValidDocument()||(Dn=Dn.add(Tr))})}).next(()=>P.localDocuments.getOverlayedDocuments(Kt,dn)).next(fr=>{Oe=fr;const Tr=[];for(const rs of I){const Gi=rd(rs,Oe.get(rs.key).overlayedDocument);null!=Gi&&Tr.push(new Bo(rs.key,Gi,nl(Gi.value.mapValue),br.exists(!0)))}return P.mutationQueue.addMutationBatch(Kt,G,Tr,I)}).next(fr=>{ht=fr;const Tr=fr.applyToLocalDocumentSet(Oe,Dn);return P.documentOverlayCache.saveOverlays(Kt,fr.batchId,Tr)})}).then(()=>({batchId:ht.batchId,changes:Bg(Oe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(h.batchId),function(m,I,P){let G=m.hc[m.currentUser.toKey()];G||(G=new Es(zr)),G=G.insert(I,P),m.hc[m.currentUser.toKey()]=G}(o,h.batchId,t),yield Zc(o,h.changes),yield Ed(o.remoteStore)}catch(h){const m=Mh(h,"Failed to persist write");t.reject(m)}}),hg.apply(this,arguments)}function Kf(s,e){return pl.apply(this,arguments)}function pl(){return pl=(0,Ee.Z)(function*(s,e){const t=rr(s);try{const o=yield Js(t.localStore,e);e.targetChanges.forEach((h,m)=>{const I=t.cc.get(m);I&&(ar(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?I.nc=!0:h.modifiedDocuments.size>0?ar(I.nc):h.removedDocuments.size>0&&(ar(I.nc),I.nc=!1))}),yield Zc(t,o,e)}catch(o){yield pa(o)}}),pl.apply(this,arguments)}function Yf(s,e,t){const o=rr(s);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const h=[];o.ic.forEach((m,I)=>{const P=I.view.bu(e);P.snapshot&&h.push(P.snapshot)}),function(m,I){const P=rr(m);P.onlineState=I;let G=!1;P.queries.forEach((Q,Oe)=>{for(const ht of Oe.listeners)ht.bu(I)&&(G=!0)}),G&&ym(P)}(o.eventManager,e),h.length&&o.sc.Wo(h),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function wd(s,e,t){return kh.apply(this,arguments)}function kh(){return kh=(0,Ee.Z)(function*(s,e,t){const o=rr(s);o.sharedClientState.updateQueryState(e,"rejected",t);const h=o.cc.get(e),m=h&&h.key;if(m){let I=new Es(Xn.comparator);I=I.insert(m,as.newNoDocument(m,Br.min()));const P=ci().add(m),G=new pu(Br.min(),new Map,new Wi(zr),I,P);yield Kf(o,G),o.uc=o.uc.remove(m),o.cc.delete(e),ep(o)}else yield Su(o.localStore,e,!1).then(()=>Fh(o,e,t)).catch(pa)}),kh.apply(this,arguments)}function qf(s,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,Ee.Z)(function*(s,e){const t=rr(s),o=e.batch.batchId;try{const h=yield yh(t.localStore,e);Cm(t,o,null),Qf(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Zc(t,h)}catch(h){yield pa(h)}}),Zf.apply(this,arguments)}function Im(s,e,t){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,Ee.Z)(function*(s,e,t){const o=rr(s);try{const h=yield function(m,I){const P=rr(m);return P.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let Q;return P.mutationQueue.lookupMutationBatch(G,I).next(Oe=>(ar(null!==Oe),Q=Oe.keys(),P.mutationQueue.removeMutationBatch(G,Oe))).next(()=>P.mutationQueue.performConsistencyCheck(G)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(G,Q,I)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,Q)).next(()=>P.localDocuments.getDocuments(G,Q))})}(o.localStore,e);Cm(o,e,t),Qf(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Zc(o,h)}catch(h){yield pa(h)}}),Lh.apply(this,arguments)}function Xf(){return Xf=(0,Ee.Z)(function*(s,e){const t=rr(s);rc(t.remoteStore)||Pn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const I=rr(m);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>I.mutationQueue.getHighestUnacknowledgedBatchId(P))}(t.localStore);if(-1===o)return void e.resolve();const h=t.lc.get(o)||[];h.push(e),t.lc.set(o,h)}catch(o){const h=Mh(o,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),Xf.apply(this,arguments)}function Qf(s,e){(s.lc.get(e)||[]).forEach(t=>{t.resolve()}),s.lc.delete(e)}function Cm(s,e,t){const o=rr(s);let h=o.hc[o.currentUser.toKey()];if(h){const m=h.get(e);m&&(t?m.reject(t):m.resolve(),h=h.remove(e)),o.hc[o.currentUser.toKey()]=h}}function Fh(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const o of s.rc.get(e))s.ic.delete(o),t&&s.sc.wc(o,t);s.rc.delete(e),s.isPrimaryClient&&s.ac.ls(e).forEach(o=>{s.ac.containsKey(o)||wm(s,o)})}function wm(s,e){s.oc.delete(e.path.canonicalString());const t=s.uc.get(e);null!==t&&(bh(s.remoteStore,t),s.uc=s.uc.remove(e),s.cc.delete(t),ep(s))}function Jf(s,e,t){for(const o of t)o instanceof Gf?(s.ac.addReference(o.key,e),Dm(s,o)):o instanceof ic?(Pn("SyncEngine","Document no longer in limbo: "+o.key),s.ac.removeReference(o.key,e),s.ac.containsKey(o.key)||wm(s,o.key)):Ir()}function Dm(s,e){const t=e.key,o=t.path.canonicalString();s.uc.get(t)||s.oc.has(o)||(Pn("SyncEngine","New document in limbo: "+t),s.oc.add(o),ep(s))}function ep(s){for(;s.oc.size>0&&s.uc.size<s.maxConcurrentLimboResolutions;){const e=s.oc.values().next().value;s.oc.delete(e);const t=new Xn(Jr.fromString(e)),o=s.fc.next();s.cc.set(o,new lg(t)),s.uc=s.uc.insert(t,o),Uf(s.remoteStore,new Bl(Ms(_c(t.path)),o,2,lo.at))}}function Zc(s,e,t){return pg.apply(this,arguments)}function pg(){return pg=(0,Ee.Z)(function*(s,e,t){const o=rr(s),h=[],m=[],I=[];var P;o.ic.isEmpty()||(o.ic.forEach((P,G)=>{I.push(o._c(G,e,t).then(Q=>{if((Q||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(G.targetId,null!=Q&&Q.fromCache?"not-current":"current"),Q){h.push(Q);const Oe=Da.Ci(G.targetId,Q);m.push(Oe)}}))}),yield Promise.all(I),o.sc.Wo(h),yield(P=(0,Ee.Z)(function*(G,Q){const Oe=rr(G);try{yield Oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",ht=>nn.forEach(Q,Kt=>nn.forEach(Kt.Si,dn=>Oe.persistence.referenceDelegate.addReference(ht,Kt.targetId,dn)).next(()=>nn.forEach(Kt.Di,dn=>Oe.persistence.referenceDelegate.removeReference(ht,Kt.targetId,dn)))))}catch(ht){if(!ga(ht))throw ht;Pn("LocalStore","Failed to update sequence numbers: "+ht)}for(const ht of Q){const Kt=ht.targetId;if(!ht.fromCache){const dn=Oe.Ui.get(Kt),Dn=dn.snapshotVersion,fr=dn.withLastLimboFreeSnapshotVersion(Dn);Oe.Ui=Oe.Ui.insert(Kt,fr)}}}),function(G,Q){return P.apply(this,arguments)})(o.localStore,m))}),pg.apply(this,arguments)}function $a(s,e){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,Ee.Z)(function*(s,e){const t=rr(s);if(!t.currentUser.isEqual(e)){Pn("SyncEngine","User change. New user:",e.toKey());const o=yield Nf(t.localStore,e);t.currentUser=e,(h=t).lc.forEach(I=>{I.forEach(P=>{P.reject(new fn(tn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Zc(t,o.ji)}var h}),Cc.apply(this,arguments)}function Ho(s,e){const t=rr(s),o=t.cc.get(e);if(o&&o.nc)return ci().add(o.key);{let h=ci();const m=t.rc.get(e);if(!m)return h;for(const I of m){const P=t.ic.get(I);h=h.unionWith(P.view.ju)}return h}}function sc(s,e){return ku.apply(this,arguments)}function ku(){return ku=(0,Ee.Z)(function*(s,e){const t=rr(s),o=yield vh(t.localStore,e.query,!0),h=e.view.tc(o);return t.isPrimaryClient&&Jf(t,e.targetId,h.Xu),h}),ku.apply(this,arguments)}function gg(s,e){return tp.apply(this,arguments)}function tp(){return tp=(0,Ee.Z)(function*(s,e){const t=rr(s);return Wp(t.localStore,e).then(o=>Zc(t,o))}),tp.apply(this,arguments)}function __(s,e,t,o){return mg.apply(this,arguments)}function mg(){return mg=(0,Ee.Z)(function*(s,e,t,o){const h=rr(s),m=yield function(I,P){const G=rr(I),Q=rr(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",Oe=>Q.Tn(Oe,P).next(ht=>ht?G.localDocuments.getDocuments(Oe,ht):nn.resolve(null)))}(h.localStore,e);var I,P;null!==m?("pending"===t?yield Ed(h.remoteStore):"acknowledged"===t||"rejected"===t?(Cm(h,e,o||null),Qf(h,e),I=h.localStore,P=e,rr(rr(I).mutationQueue).An(P)):Ir(),yield Zc(h,m)):Pn("SyncEngine","Cannot apply mutation batch with id: "+e)}),mg.apply(this,arguments)}function np(){return np=(0,Ee.Z)(function*(s,e){const t=rr(s);if(Uh(t),ip(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),h=yield _g(t,o.toArray());t.dc=!0,yield jf(t.remoteStore,!0);for(const m of h)Uf(t.remoteStore,m)}else if(!1===e&&!1!==t.dc){const o=[];let h=Promise.resolve();t.rc.forEach((m,I)=>{t.sharedClientState.isLocalQueryTarget(I)?o.push(I):h=h.then(()=>(Fh(t,I),Su(t.localStore,I,!0))),bh(t.remoteStore,I)}),yield h,yield _g(t,o),function(m){const I=rr(m);I.cc.forEach((P,G)=>{bh(I.remoteStore,G)}),I.ac.fs(),I.cc=new Map,I.uc=new Es(Xn.comparator)}(t),t.dc=!1,yield jf(t.remoteStore,!1)}}),np.apply(this,arguments)}function _g(s,e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,Ee.Z)(function*(s,e,t){const o=rr(s),h=[],m=[];for(const I of e){let P;const G=o.rc.get(I);if(G&&0!==G.length){P=yield hl(o.localStore,Ms(G[0]));for(const Q of G){const Oe=o.ic.get(Q),ht=yield sc(o,Oe);ht.snapshot&&m.push(ht.snapshot)}}else{const Q=yield jp(o.localStore,I);P=yield hl(o.localStore,Q),yield zf(o,yg(Q),I,!1,P.resumeToken)}h.push(P)}return o.sc.Wo(m),h}),Bh.apply(this,arguments)}function yg(s){return Pa(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function bm(s){const e=rr(s);return rr(rr(e.localStore).persistence).vi()}function Dd(s,e,t,o){return rp.apply(this,arguments)}function rp(){return rp=(0,Ee.Z)(function*(s,e,t,o){const h=rr(s);if(h.dc)return void Pn("SyncEngine","Ignoring unexpected query state notification.");const m=h.rc.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const I=yield Wp(h.localStore,_a(m[0])),P=pu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,W.EMPTY_BYTE_STRING);yield Zc(h,I,P);break}case"rejected":yield Su(h.localStore,e,!0),Fh(h,e,o);break;default:Ir()}}),rp.apply(this,arguments)}function Tm(s,e,t){return oc.apply(this,arguments)}function oc(){return oc=(0,Ee.Z)(function*(s,e,t){const o=Uh(s);if(o.dc){for(const h of e){if(o.rc.has(h)){Pn("SyncEngine","Adding an already active target "+h);continue}const m=yield jp(o.localStore,h),I=yield hl(o.localStore,m);yield zf(o,yg(m),I.targetId,!1,I.resumeToken),Uf(o.remoteStore,I)}for(const h of t)o.rc.has(h)&&(yield Su(o.localStore,h,!1).then(()=>{bh(o.remoteStore,h),Fh(o,h)}).catch(pa))}}),oc.apply(this,arguments)}function Uh(s){const e=rr(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ho.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wd.bind(null,e),e.sc.Wo=Q_.bind(null,e.eventManager),e.sc.wc=J_.bind(null,e.eventManager),e}function ip(s){const e=rr(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Im.bind(null,e),e}class Sm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.It=Gc(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return xf(this.persistence,new Au,e.initialUser,this.It)}yc(e){return new bu(mh.Bs,this.It)}gc(e){return new Zp}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vg extends Sm{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Ee.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield ip(o.Ac.syncEngine),yield Ed(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return xf(this.persistence,new Au,e.initialUser,this.It)}Tc(e,t){const o=this.persistence.referenceDelegate.garbageCollector;return new c_(o,e.asyncQueue,t)}Ec(e,t){const o=new vo(t,this.persistence);return new pc(e.asyncQueue,o)}yc(e){const t=Gl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Vo.withCacheSize(this.cacheSizeBytes):Vo.DEFAULT;return new Tu(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Jp(),Lf(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Zp}}class v_ extends vg{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Ee.Z)(function*(){yield t().call(o,e);const h=o.Ac.syncEngine;o.sharedClientState instanceof qp&&(o.sharedClientState.syncEngine={Fr:__.bind(null,h),$r:Dd.bind(null,h),Br:Tm.bind(null,h),vi:bm.bind(null,h),Mr:gg.bind(null,h)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var m=(0,Ee.Z)(function*(I){yield function y_(s,e){return np.apply(this,arguments)}(o.Ac.syncEngine,I),o.gcScheduler&&(I&&!o.gcScheduler.started?o.gcScheduler.start():I||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(I&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():I||o.indexBackfillerScheduler.stop())});return function(I){return m.apply(this,arguments)}}())})()}gc(e){const t=Jp();if(!qp.C(t))throw new fn(tn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Gl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qp(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Eg{initialize(e,t){var o=this;return(0,Ee.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=h=>Yf(o.syncEngine,h,1),o.remoteStore.remoteSyncer.handleCredentialChange=$a.bind(null,o.syncEngine),yield jf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new f_}createDatastore(e){const t=Gc(e.databaseInfo.databaseId),o=(h=e.databaseInfo,new Ch(h));var h,m,I;return m=e.authCredentials,I=e.appCheckCredentials,new d_(m,I,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,h=e.asyncQueue,m=P=>Yf(this.syncEngine,P,0),I=ba.C()?new ba:new Xp,new wh(t,o,h,m,I);var t,o,h,m,I}createSyncEngine(e,t){return function(o,h,m,I,P,G,Q){const Oe=new ug(o,h,m,I,P,G);return Q&&(Oe.dc=!0),Oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const o=rr(t);Pn("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield ql(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function sp(s,e,t){if(!t)throw new fn(tn.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function op(s,e,t,o){if(!0===e&&!0===o)throw new fn(tn.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Rm(s){if(!Xn.isDocumentKey(s))throw new fn(tn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ig(s){if(Xn.isDocumentKey(s))throw new fn(tn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Lu(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(t=s).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof s?"a function":Ir()}function Ri(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fn(tn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lu(s);throw new fn(tn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function Vh(s,e){if(e<=0)throw new fn(tn.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}const bd=new Map;class gl{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new fn(tn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fn(tn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,op("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fu{constructor(e,t,o,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fn(tn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fn(tn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gl(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new dc;switch(t.type){case"gapi":const o=t.client;return new Yu(o,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new fn(tn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bd.get(e);t&&(Pn("ComponentProvider","Removing Datastore"),bd.delete(e),t.terminate())}(this),Promise.resolve()}}function Jl(s,e,t,o={}){var h;const m=(s=Ri(s,Fu))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&To("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let I,P;if("string"==typeof o.mockUserToken)I=o.mockUserToken,P=bs.MOCK_USER;else{I=(0,et.Sg)(o.mockUserToken,null===(h=s._app)||void 0===h?void 0:h.options.projectId);const G=o.mockUserToken.sub||o.mockUserToken.user_id;if(!G)throw new fn(tn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new bs(G)}s._authCredentials=new Wo(new za(I,P))}}class ms{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ms(this.firestore,e,this._key)}}class eo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class wc extends eo{constructor(e,t,o){super(e,t,_c(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ms(this.firestore,null,new Xn(e))}withConverter(e){return new wc(this.firestore,e,this._path)}}function ml(s,e,...t){if(s=(0,et.m9)(s),sp("collection","path",e),s instanceof Fu){const o=Jr.fromString(e,...t);return Ig(o),new wc(s,null,o)}{if(!(s instanceof ms||s instanceof wc))throw new fn(tn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Jr.fromString(e,...t));return Ig(o),new wc(s.firestore,null,o)}}function eu(s,e,...t){if(s=(0,et.m9)(s),1===arguments.length&&(e=Sc.R()),sp("doc","path",e),s instanceof Fu){const o=Jr.fromString(e,...t);return Rm(o),new ms(s,null,new Xn(o))}{if(!(s instanceof ms||s instanceof wc))throw new fn(tn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Jr.fromString(e,...t));return Rm(o),new ms(s.firestore,s instanceof wc?s.converter:null,new Xn(o))}}function Td(s,e){return s=(0,et.m9)(s),e=(0,et.m9)(e),(s instanceof ms||s instanceof wc)&&(e instanceof ms||e instanceof wc)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function _l(s,e){return s=(0,et.m9)(s),e=(0,et.m9)(e),s instanceof eo&&e instanceof eo&&s.firestore===e.firestore&&Ml(s._query,e._query)&&s.converter===e.converter}function Cg(s,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<s.byteLength){const o={value:s.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class bc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ad{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new vs,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.ku)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const o=e.vc.decode(t),h=Number(o);isNaN(h)&&e.Dc(`length string (${o}) is not valid number`);const m=yield e.Cc(h);return new ey(JSON.parse(m),t.length+h)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ee.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Cc(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Hh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new fn(tn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(h=(0,Ee.Z)(function*(m,I){const P=rr(m),G=vc(P.It)+"/documents",Q={documents:I.map(dn=>kl(P.It,dn))},Oe=yield P._o("BatchGetDocuments",G,Q,I.length),ht=new Map;Oe.forEach(dn=>{const Dn=function Ec(s,e){return"found"in e?function(t,o){ar(!!o.found),o.found.name,o.found.updateTime;const h=oa(t,o.found.name),m=zs(o.found.updateTime),I=new oo({mapValue:{fields:o.found.fields}});return as.newFoundDocument(h,m,I)}(s,e):"missing"in e?function(t,o){ar(!!o.missing),ar(!!o.readTime);const h=oa(t,o.missing),m=zs(o.readTime);return as.newNoDocument(h,m)}(s,e):Ir()}(P.It,dn);ht.set(Dn.key.toString(),Dn)});const Kt=[];return I.forEach(dn=>{const Dn=ht.get(dn.toString());ar(!!Dn),Kt.push(Dn)}),Kt}),function(m,I){return h.apply(this,arguments)})(t.datastore,e);var h;return o.forEach(h=>t.recordVersion(h)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ia(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,h)=>{const m=Xn.fromPath(h);e.mutations.push(new zd(m,e.precondition(m)))}),yield(o=(0,Ee.Z)(function*(h,m){const I=rr(h),P=vc(I.It)+"/documents",G={writes:m.map(Q=>yu(I.It,Q))};yield I.ao("Commit",P,G)}),function(h,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ir();t=Br.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new fn(tn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Br.min())?br.exists(!1):br.updateTime(t):br.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Br.min()))throw new fn(tn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return br.updateTime(t)}return br.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ny{constructor(e,t,o,h,m){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=h,this.deferred=m,this.kc=o.maxAttempts,this.xo=new zc(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ee.Z)(function*(){const t=new Hh(e.datastore),o=e.Mc(t);o&&o.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Fc(m)}))}).catch(h=>{e.Fc(h)})}))}Mc(e){try{const t=this.updateFunction(e);return!Is(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cf(t)}return!1}}class I_{constructor(e,t,o,h){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=h,this.user=bs.UNAUTHENTICATED,this.clientId=Sc.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var I=(0,Ee.Z)(function*(P){Pn("FirestoreClient","Received user=",P.uid),yield m.authCredentialListener(P),m.user=P});return function(P){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(o,I=>(Pn("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fn(tn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const h=Mh(o,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Om(s,e){return wg.apply(this,arguments)}function wg(){return wg=(0,Ee.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Pn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield s.getConfiguration();yield e.initialize(t);let o=t.initialUser;s.setCredentialChangeListener(function(){var h=(0,Ee.Z)(function*(m){o.isEqual(m)||(yield Nf(e.localStore,m),o=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e}),wg.apply(this,arguments)}function Bu(s,e){return u.apply(this,arguments)}function u(){return u=(0,Ee.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const t=yield i(s);Pn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield e.initialize(t,o),s.setCredentialChangeListener(h=>Oh(e.remoteStore,h)),s.setAppCheckTokenChangeListener((h,m)=>Oh(e.remoteStore,m)),s.onlineComponents=e}),u.apply(this,arguments)}function i(s){return l.apply(this,arguments)}function l(){return l=(0,Ee.Z)(function*(s){return s.offlineComponents||(Pn("FirestoreClient","Using default OfflineComponentProvider"),yield Om(s,new Sm)),s.offlineComponents}),l.apply(this,arguments)}function f(s){return y.apply(this,arguments)}function y(){return y=(0,Ee.Z)(function*(s){return s.onlineComponents||(Pn("FirestoreClient","Using default OnlineComponentProvider"),yield Bu(s,new Eg)),s.onlineComponents}),y.apply(this,arguments)}function A(s){return i(s).then(e=>e.persistence)}function F(s){return i(s).then(e=>e.localStore)}function ne(s){return f(s).then(e=>e.remoteStore)}function he(s){return f(s).then(e=>e.syncEngine)}function We(s){return f(s).then(e=>e.datastore)}function wt(s){return Pt.apply(this,arguments)}function Pt(){return Pt=(0,Ee.Z)(function*(s){const e=yield f(s),t=e.eventManager;return t.onListen=Em.bind(null,e.syncEngine),t.onUnlisten=g_.bind(null,e.syncEngine),t}),Pt.apply(this,arguments)}function hi(s,e,t={}){const o=new vs;return s.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(h,m,I,P,G){const Q=new bc({next:ht=>{m.enqueueAndForget(()=>mm(h,Oe));const Kt=ht.docs.has(I);!Kt&&ht.fromCache?G.reject(new fn(tn.UNAVAILABLE,"Failed to get document because the client is offline.")):Kt&&ht.fromCache&&P&&"server"===P.source?G.reject(new fn(tn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(ht)},error:ht=>G.reject(ht)}),Oe=new vm(_c(I.path),Q,{includeMetadataChanges:!0,Nu:!0});return Ph(h,Oe)}(yield wt(s),s.asyncQueue,e,t,o)})),o.promise}function Ls(s,e,t={}){const o=new vs;return s.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(h,m,I,P,G){const Q=new bc({next:ht=>{m.enqueueAndForget(()=>mm(h,Oe)),ht.fromCache&&"server"===P.source?G.reject(new fn(tn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(ht)},error:ht=>G.reject(ht)}),Oe=new vm(I,Q,{includeMetadataChanges:!0,Nu:!0});return Ph(h,Oe)}(yield wt(s),s.asyncQueue,e,t,o)})),o.promise}function us(s,e,t,o){const h=function(m,I){let P;return P="string"==typeof m?(new TextEncoder).encode(m):m,G=function(G,Q){if(G instanceof Uint8Array)return Cg(G,Q);if(G instanceof ArrayBuffer)return Cg(new Uint8Array(G),Q);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new Ad(G,I);var G}(t,Gc(e));s.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function Am(s,e,t){const o=rr(s);var h;(h=(0,Ee.Z)(function*(m,I,P){try{const G=yield I.getMetadata();if(yield function(Kt,dn){const Dn=rr(Kt),fr=zs(dn.createTime);return Dn.persistence.runTransaction("hasNewerBundle","readonly",Tr=>Dn.Ns.getBundleMetadata(Tr,dn.id)).then(Tr=>!!Tr&&Tr.createTime.compareTo(fr)>=0)}(m.localStore,G))return yield I.close(),P._completeWith({taskState:"Success",documentsLoaded:(Kt=G).totalDocuments,bytesLoaded:Kt.totalBytes,totalDocuments:Kt.totalDocuments,totalBytes:Kt.totalBytes}),Promise.resolve(new Set);P._updateProgress(fl(G));const Q=new ty(G,m.localStore,I.It);let Oe=yield I.mc();for(;Oe;){const Kt=yield Q.Fu(Oe);Kt&&P._updateProgress(Kt),Oe=yield I.mc()}const ht=yield Q.complete();return yield Zc(m,ht.Lu,void 0),yield function(Kt,dn){const Dn=rr(Kt);return Dn.persistence.runTransaction("Save bundle","readwrite",fr=>Dn.Ns.saveBundleMetadata(fr,dn))}(m.localStore,G),P._completeWith(ht.progress),Promise.resolve(ht.Bu)}catch(G){return To("SyncEngine",`Loading bundle failed with ${G}`),P._failWith(G),Promise.resolve(new Set)}var Kt}),function(m,I,P){return h.apply(this,arguments)})(o,e,t).then(h=>{o.sharedClientState.notifyBundleLoaded(h)})}(yield he(s),h,o)}))}class co{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new zc(this,"async_queue_retry"),this.Wc=()=>{const t=Lf();t&&Pn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Lf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Lf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new vs;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!ga(t))throw t;Pn("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{this.Kc=o,this.Gc=!1;throw qi("INTERNAL UNHANDLED ERROR: ",function(m){let I=m.message||"";return m.stack&&(I=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),I}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const h=Wf.createAndSchedule(this,e,t,o,m=>this.Yc(m));return this.qc.push(h),h}zc(){this.Kc&&Ir()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Ta(s){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const h of["next","error","complete"])if(h in o&&"function"==typeof o[h])return!0;return!1}(s)}class Rd{constructor(){this._progressObserver={},this._taskCompletionResolver=new vs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ds extends Fu{constructor(e,t,o,h){super(e,t,o,h),this.type="firestore",this._queue=new co,this._persistenceKey=(null==h?void 0:h.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jh(this),this._firestoreClient.terminate()}}function Fs(s){return s._firestoreClient||jh(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function jh(s){var e;const t=s._freezeSettings(),o=(h=s._databaseId,m=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",I=s._persistenceKey,new Yr(h,m,I,(P=t).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var h,m,I,P;s._firestoreClient=new I_(s._authCredentials,s._appCheckCredentials,s._queue,o)}function Wh(s,e,t){const o=new vs;return s.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield Om(s,t),yield Bu(s,e),o.resolve()}catch(h){const m=h;if(!("FirebaseError"===(I=m).name?I.code===tn.FAILED_PRECONDITION||I.code===tn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&I instanceof DOMException)||22===I.code||20===I.code||11===I.code))throw m;To("Error enabling offline persistence. Falling back to persistence disabled: "+m),o.reject(m)}var I})).then(()=>o.promise)}function up(s){return function(e){const t=new vs;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function fg(s,e){return Xf.apply(this,arguments)}(yield he(e),t)})),t.promise}(Fs(s=Ri(s,ds)))}function ry(s){return function Gt(s){return s.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield A(s),t=yield ne(s);return e.setNetworkEnabled(!0),function(o){const h=rr(o);return h._u.delete(0),_d(h)}(t)}))}(Fs(s=Ri(s,ds)))}function iy(s){return function Qn(s){return s.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield A(s),t=yield ne(s);return e.setNetworkEnabled(!1),(o=(0,Ee.Z)(function*(h){const m=rr(h);m._u.add(0),yield ql(m),m.gu.set("Offline")}),function(h){return o.apply(this,arguments)})(t);var o}))}(Fs(s=Ri(s,ds)))}function oy(s,e){return function Ks(s,e){return s.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,o){const h=rr(t);return h.persistence.runTransaction("Get named query","readonly",m=>h.Ns.getNamedQuery(m,o))}(yield F(s),e)}))}(Fs(s=Ri(s,ds)),e).then(t=>t?new eo(s,null,t.query):null)}function C_(s){if(s._initialized||s._terminated)throw new fn(tn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(W.fromBase64String(e))}catch(t){throw new fn(tn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yl(W.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new fn(tn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gh{constructor(e){this._methodName=e}}class Mm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fn(tn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fn(tn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zr(this._lat,e._lat)||zr(this._long,e._long)}}const ay=/^__.*__$/;class nv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms):new ya(e,this.data,t,this.fieldTransforms)}}class w_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Pm(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ir()}}class dp{constructor(e,t,o,h,m,I){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=h,void 0===m&&this.na(),this.fieldTransforms=m||[],this.fieldMask=I||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new dp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.ia({path:o,oa:!1});return h.ua(e),h}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.ia({path:o,oa:!1});return h.na(),h}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Fm(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Pm(this.sa)&&ay.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class rv{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||Gc(e)}da(e,t,o,h=!1){return new dp({sa:e,methodName:t,fa:o,path:Mi.emptyPath(),oa:!1,la:h},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function nu(s){const e=s._freezeSettings(),t=Gc(s._databaseId);return new rv(s._databaseId,!!e.ignoreUndefinedProperties,t)}function zh(s,e,t,o,h,m={}){const I=s.da(m.merge||m.mergeFields?2:0,e,t,h);km("Data must be an object, but it was:",I,o);const P=T_(o,I);let G,Q;if(m.merge)G=new b(I.fieldMask),Q=I.fieldTransforms;else if(m.mergeFields){const Oe=[];for(const ht of m.mergeFields){const Kt=Lm(e,ht,t);if(!I.contains(Kt))throw new fn(tn.INVALID_ARGUMENT,`Field '${Kt}' is specified in your field mask but missing from your input data.`);A_(Oe,Kt)||Oe.push(Kt)}G=new b(Oe),Q=I.fieldTransforms.filter(ht=>G.covers(ht.field))}else G=null,Q=I.fieldTransforms;return new nv(new oo(P),G,Q)}class Kh extends Gh{_toFieldTransform(e){if(2!==e.sa)throw 1===e.sa?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function cy(s,e,t){return new dp({sa:3,fa:e.settings.fa,methodName:s._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class hp extends Gh{_toFieldTransform(e){return new wn(e.path,new Na)}isEqual(e){return e instanceof hp}}class xm extends Gh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=cy(this,e,!0),o=this._a.map(m=>Uu(m,t)),h=new M(o);return new wn(e.path,h)}isEqual(e){return this===e}}class D_ extends Gh{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=cy(this,e,!0),o=this._a.map(m=>Uu(m,t)),h=new C(o);return new wn(e.path,h)}isEqual(e){return this===e}}class ly extends Gh{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new pe(e.It,cs(e.It,this.wa));return new wn(e.path,t)}isEqual(e){return this===e}}function Tg(s,e,t,o){const h=s.da(1,e,t);km("Data must be an object, but it was:",h,o);const m=[],I=oo.empty();Ro(o,(G,Q)=>{const Oe=Ag(e,G,t);Q=(0,et.m9)(Q);const ht=h.ca(Oe);if(Q instanceof Kh)m.push(Oe);else{const Kt=Uu(Q,ht);null!=Kt&&(m.push(Oe),I.set(Oe,Kt))}});const P=new b(m);return new w_(I,P,h.fieldTransforms)}function Nm(s,e,t,o,h,m){const I=s.da(1,e,t),P=[Lm(e,o,t)],G=[h];if(m.length%2!=0)throw new fn(tn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Kt=0;Kt<m.length;Kt+=2)P.push(Lm(e,m[Kt])),G.push(m[Kt+1]);const Q=[],Oe=oo.empty();for(let Kt=P.length-1;Kt>=0;--Kt)if(!A_(Q,P[Kt])){const dn=P[Kt];let Dn=G[Kt];Dn=(0,et.m9)(Dn);const fr=I.ca(dn);if(Dn instanceof Kh)Q.push(dn);else{const Tr=Uu(Dn,fr);null!=Tr&&(Q.push(dn),Oe.set(dn,Tr))}}const ht=new b(Q);return new w_(Oe,ht,I.fieldTransforms)}function b_(s,e,t,o=!1){return Uu(t,s.da(o?4:3,e))}function Uu(s,e){if(uy(s=(0,et.m9)(s)))return km("Unsupported field value:",e,s),T_(s,e);if(s instanceof Gh)return function(t,o){if(!Pm(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const h=[];let m=0;for(const I of t){let P=Uu(I,o.aa(m));null==P&&(P={nullValue:"NULL_VALUE"}),h.push(P),m++}return{arrayValue:{values:h}}}(s,e)}return function(t,o){if(null===(t=(0,et.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return cs(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=Kr.fromDate(t);return{timestampValue:Ia(o.It,h)}}if(t instanceof Kr){const h=new Kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ia(o.It,h)}}if(t instanceof Mm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof yl)return{bytesValue:Qd(o.It,t._byteString)};if(t instanceof ms){const h=o.databaseId,m=t.firestore._databaseId;if(!m.isEqual(h))throw o.ha(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Jd(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${Lu(t)}`)}(s,e)}function T_(s,e){const t={};return gc(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(s,(o,h)=>{const m=Uu(h,e.ra(o));null!=m&&(t[o]=m)}),{mapValue:{fields:t}}}function uy(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Kr||s instanceof Mm||s instanceof yl||s instanceof ms||s instanceof Gh)}function km(s,e,t){if(!uy(t)||("object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o))){const o=Lu(t);throw"an object"===o?e.ha(s+" a custom object"):e.ha(s+" "+o)}var o}function Lm(s,e,t){if((e=(0,et.m9)(e))instanceof tu)return e._internalPath;if("string"==typeof e)return Ag(s,e);throw Fm("Field path arguments must be of type string or ",s,!1,void 0,t)}const dy=new RegExp("[~\\*/\\[\\]]");function Ag(s,e,t){if(e.search(dy)>=0)throw Fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new tu(...e.split("."))._internalPath}catch(o){throw Fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Fm(s,e,t,o,h){const m=o&&!o.isEmpty(),I=void 0!==h;let P=`Function ${e}() called with invalid data`;t&&(P+=" (via `toFirestore()`)"),P+=". ";let G="";return(m||I)&&(G+=" (found",m&&(G+=` in field ${o}`),I&&(G+=` in document ${h}`),G+=")"),new fn(tn.INVALID_ARGUMENT,P+s+G)}function A_(s,e){return s.some(t=>t.isEqual(e))}class fp{constructor(e,t,o,h,m){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new ms(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hy extends fp{data(){return super.data()}}function pp(s,e){return"string"==typeof e?Ag(s,e):e instanceof tu?e._internalPath:e._delegate._internalPath}function S_(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new fn(tn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gp{}function Vu(s,...e){for(const t of e)s=t._apply(s);return s}class fy extends gp{constructor(e,t,o){super(),this.ma=e,this.ga=t,this.ya=o,this.type="where"}_apply(e){const t=nu(e.firestore),o=function(h,m,I,P,G,Q,Oe){let ht;if(G.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new fn(tn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){Iy(Oe,Q);const dn=[];for(const Dn of Oe)dn.push(O_(P,h,Dn));ht={arrayValue:{values:dn}}}else ht=O_(P,h,Oe)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||Iy(Oe,Q),ht=b_(I,"where",Oe,"in"===Q||"not-in"===Q);const Kt=fo.create(G,Q,ht);return function(dn,Dn){if(Dn.dt()){const Tr=Io(dn);if(null!==Tr&&!Tr.isEqual(Dn.field))throw new fn(tn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Tr.toString()}' and '${Dn.field.toString()}'`);const rs=hu(dn);null!==rs&&M_(dn,Dn.field,rs)}const fr=function(Tr,rs){for(const Gi of Tr.filters)if(rs.indexOf(Gi.op)>=0)return Gi.op;return null}(dn,function(Tr){switch(Tr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Dn.op));if(null!==fr)throw fr===Dn.op?new fn(tn.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${Dn.op.toString()}' filter.`):new fn(tn.INVALID_ARGUMENT,`Invalid query. You cannot use '${Dn.op.toString()}' filters with '${fr.toString()}' filters.`)}(h,Kt),Kt}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new eo(e.firestore,e.converter,function(h,m){const I=h.filters.concat([m]);return new Xa(h.path,h.collectionGroup,h.explicitOrderBy.slice(),I,h.limit,h.limitType,h.startAt,h.endAt)}(e._query,o))}}class gy extends gp{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(o,h,m){if(null!==o.startAt)throw new fn(tn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new fn(tn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const I=new Ws(h,m);return function(P,G){if(null===hu(P)){const Q=Io(P);null!==Q&&M_(P,Q,G.field)}}(o,I),I}(e._query,this.ma,this.pa);return new eo(e.firestore,e.converter,function(o,h){const m=o.explicitOrderBy.concat([h]);return new Xa(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class R_ extends gp{constructor(e,t,o){super(),this.type=e,this.Ia=t,this.Ta=o}_apply(e){return new eo(e.firestore,e.converter,Ol(e._query,this.Ia,this.Ta))}}class _y extends gp{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=Ey(e,this.type,this.Ea,this.Aa);return new eo(e.firestore,e.converter,(o=e._query,h=t,new Xa(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,h,o.endAt)));var o,h}}class No extends gp{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=Ey(e,this.type,this.Ea,this.Aa);return new eo(e.firestore,e.converter,(o=e._query,h=t,new Xa(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,h)));var o,h}}function Ey(s,e,t,o){if(t[0]=(0,et.m9)(t[0]),t[0]instanceof fp)return function(h,m,I,P,G){if(!P)throw new fn(tn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${I}().`);const Q=[];for(const Oe of xa(h))if(Oe.field.isKeyField())Q.push(zo(m,P.key));else{const ht=P.data.field(Oe.field);if(qn(ht))throw new fn(tn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ht){const Kt=Oe.field.canonicalString();throw new fn(tn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Kt}' (used as the orderBy) does not exist.`)}Q.push(ht)}return new mc(Q,G)}(s._query,s.firestore._databaseId,e,t[0]._document,o);{const h=nu(s.firestore);return function(m,I,P,G,Q,Oe){const ht=m.explicitOrderBy;if(Q.length>ht.length)throw new fn(tn.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Kt=[];for(let dn=0;dn<Q.length;dn++){const Dn=Q[dn];if(ht[dn].field.isKeyField()){if("string"!=typeof Dn)throw new fn(tn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Dn}`);if(!Xu(m)&&-1!==Dn.indexOf("/"))throw new fn(tn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Dn}' contains a slash.`);const fr=m.path.child(Jr.fromString(Dn));if(!Xn.isDocumentKey(fr))throw new fn(tn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${fr}' is not because it contains an odd number of segments.`);const Tr=new Xn(fr);Kt.push(zo(I,Tr))}else{const fr=b_(P,G,Dn);Kt.push(fr)}}return new mc(Kt,Oe)}(s._query,s.firestore._databaseId,h,e,t,o)}}function O_(s,e,t){if("string"==typeof(t=(0,et.m9)(t))){if(""===t)throw new fn(tn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xu(e)&&-1!==t.indexOf("/"))throw new fn(tn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Jr.fromString(t));if(!Xn.isDocumentKey(o))throw new fn(tn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return zo(s,new Xn(o))}if(t instanceof ms)return zo(s,t._key);throw new fn(tn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lu(t)}.`)}function Iy(s,e){if(!Array.isArray(s)||0===s.length)throw new fn(tn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new fn(tn.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function M_(s,e,t){if(!t.isEqual(e))throw new fn(tn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Bm{convertValue(e,t="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ir()}}convertObject(e,t){const o={};return Ro(e.fields,(h,m)=>{o[h]=this.convertValue(m,t)}),o}convertGeoPoint(e){return new Mm(rt(e.latitude),rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Ln(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Or(e));default:return null}}convertTimestamp(e){const t=ve(e);return new Kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Jr.fromString(e);ar(Tp(o));const h=new Ci(o.get(1),o.get(3)),m=new Xn(o.popFirst(5));return h.isEqual(t)||qi(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function $u(s,e,t){let o;return o=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,o}class av extends Bm{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ms(this.firestore,null,t)}}class Yh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ru extends fp{constructor(e,t,o,h,m,I){super(e,t,o,h,I),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(pp("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Sg extends ru{data(e={}){return super.data(e)}}class Hu{constructor(e,t,o,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new Yh(h.hasPendingWrites,h.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Sg(this._firestore,this._userDataWriter,o.key,o,new Yh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fn(tn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(I=>{const P=new Sg(o._firestore,o._userDataWriter,I.doc.key,I.doc,new Yh(o._snapshot.mutatedKeys.has(I.doc.key),o._snapshot.fromCache),o.query.converter);return I.doc,{type:"added",doc:P,oldIndex:-1,newIndex:m++}})}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(I=>h||3!==I.type).map(I=>{const P=new Sg(o._firestore,o._userDataWriter,I.doc.key,I.doc,new Yh(o._snapshot.mutatedKeys.has(I.doc.key),o._snapshot.fromCache),o.query.converter);let G=-1,Q=-1;return 0!==I.type&&(G=m.indexOf(I.doc.key),m=m.delete(I.doc.key)),1!==I.type&&(m=m.add(I.doc),Q=m.indexOf(I.doc.key)),{type:dE(I.type),doc:P,oldIndex:G,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dE(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ir()}}function P_(s,e){return s instanceof ru&&e instanceof ru?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Hu&&e instanceof Hu&&s._firestore===e._firestore&&_l(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}class ca extends Bm{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ms(this.firestore,null,t)}}function cv(s){s=Ri(s,ms);const e=Ri(s.firestore,ds),t=Fs(e),o=new ca(e);return function dr(s,e){const t=new vs;return s.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(o=(0,Ee.Z)(function*(h,m,I){try{const P=yield function(G,Q){const Oe=rr(G);return Oe.persistence.runTransaction("read document","readonly",ht=>Oe.localDocuments.getDocument(ht,Q))}(h,m);P.isFoundDocument()?I.resolve(P):P.isNoDocument()?I.resolve(null):I.reject(new fn(tn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const G=Mh(P,`Failed to get document '${m} from cache`);I.reject(G)}}),function(h,m,I){return o.apply(this,arguments)})(yield F(s),e,t);var o})),t.promise}(t,s._key).then(h=>new ru(e,o,s._key,h,new Yh(null!==h&&h.hasLocalMutations,!0),s.converter))}function vl(s){s=Ri(s,eo);const e=Ri(s.firestore,ds),t=Fs(e),o=new ca(e);return function Ei(s,e){const t=new vs;return s.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(o=(0,Ee.Z)(function*(h,m,I){try{const P=yield vh(h,m,!0),G=new cg(m,P.Hi),Q=G.Wu(P.documents),Oe=G.applyChanges(Q,!1);I.resolve(Oe.snapshot)}catch(P){const G=Mh(P,`Failed to execute query '${m} against cache`);I.reject(G)}}),function(h,m,I){return o.apply(this,arguments)})(yield F(s),e,t);var o})),t.promise}(t,s._query).then(h=>new Hu(e,o,s,h))}function N_(s,e,t){s=Ri(s,ms);const o=Ri(s.firestore,ds),h=$u(s.converter,e,t);return Od(o,[zh(nu(o),"setDoc",s._key,h,null!==s.converter,t).toMutation(s._key,br.none())])}function k_(s,e,t,...o){s=Ri(s,ms);const h=Ri(s.firestore,ds),m=nu(h);let I;return I="string"==typeof(e=(0,et.m9)(e))||e instanceof tu?Nm(m,"updateDoc",s._key,e,t,o):Tg(m,"updateDoc",s._key,e),Od(h,[I.toMutation(s._key,br.exists(!0))])}function Cy(s,...e){var t,o,h;s=(0,et.m9)(s);let m={includeMetadataChanges:!1},I=0;"object"!=typeof e[I]||Ta(e[I])||(m=e[I],I++);const P={includeMetadataChanges:m.includeMetadataChanges};if(Ta(e[I])){const ht=e[I];e[I]=null===(t=ht.next)||void 0===t?void 0:t.bind(ht),e[I+1]=null===(o=ht.error)||void 0===o?void 0:o.bind(ht),e[I+2]=null===(h=ht.complete)||void 0===h?void 0:h.bind(ht)}let G,Q,Oe;if(s instanceof ms)Q=Ri(s.firestore,ds),Oe=_c(s._key.path),G={next:ht=>{e[I]&&e[I](qh(Q,s,ht))},error:e[I+1],complete:e[I+2]};else{const ht=Ri(s,eo);Q=Ri(ht.firestore,ds),Oe=ht._query;const Kt=new ca(Q);G={next:dn=>{e[I]&&e[I](new Hu(Q,Kt,ht,dn))},error:e[I+1],complete:e[I+2]},S_(s._query)}return function(ht,Kt,dn,Dn){const fr=new bc(Dn),Tr=new vm(Kt,fr,dn);return ht.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Ph(yield wt(ht),Tr)})),()=>{fr.bc(),ht.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return mm(yield wt(ht),Tr)}))}}(Fs(Q),Oe,P,G)}function hv(s,e){return function jo(s,e){const t=new bc(e);return s.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return o=yield wt(s),h=t,rr(o).Ru.add(h),void h.next();var o,h})),()=>{t.bc(),s.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return o=yield wt(s),h=t,void rr(o).Ru.delete(h);var o,h}))}}(Fs(s=Ri(s,ds)),Ta(e)?e:{next:e})}function Od(s,e){return function(t,o){const h=new vs;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function m_(s,e,t){return hg.apply(this,arguments)}(yield he(t),o,h)})),h.promise}(Fs(s),e)}function qh(s,e,t){const o=t.docs.get(e._key),h=new ca(s);return new ru(s,h,e._key,o,new Yh(t.hasPendingWrites,t.fromCache),e.converter)}const pv={maxAttempts:5};class L_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nu(e)}set(e,t,o){this._verifyNotCommitted();const h=ju(e,this._firestore),m=$u(h.converter,t,o),I=zh(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,o);return this._mutations.push(I.toMutation(h._key,br.none())),this}update(e,t,o,...h){this._verifyNotCommitted();const m=ju(e,this._firestore);let I;return I="string"==typeof(t=(0,et.m9)(t))||t instanceof tu?Nm(this._dataReader,"WriteBatch.update",m._key,t,o,h):Tg(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(I.toMutation(m._key,br.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ju(e,this._firestore);return this._mutations=this._mutations.concat(new ia(t._key,br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fn(tn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ju(s,e){if((s=(0,et.m9)(s)).firestore!==e)throw new fn(tn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Um extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=nu(e)}get(e){const t=ju(e,this._firestore),o=new av(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return Ir();const m=h[0];if(m.isFoundDocument())return new fp(this._firestore,o,m.key,m,t.converter);if(m.isNoDocument())return new fp(this._firestore,o,t._key,null,t.converter);throw Ir()})}set(e,t,o){const h=ju(e,this._firestore),m=$u(h.converter,t,o),I=zh(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,o);return this._transaction.set(h._key,I),this}update(e,t,o,...h){const m=ju(e,this._firestore);let I;return I="string"==typeof(t=(0,et.m9)(t))||t instanceof tu?Nm(this._dataReader,"Transaction.update",m._key,t,o,h):Tg(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,I),this}delete(e){const t=ju(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ju(e,this._firestore),o=new ca(this._firestore);return super.get(e).then(h=>new ru(this._firestore,o,t._key,h._document,new Yh(!1,!1),t.converter))}}!function(s,e=!0){var t;t=xt.SDK_VERSION,Hs=t,(0,xt._registerComponent)(new mt.wA("firestore",(t,{instanceIdentifier:o,options:h})=>{const m=t.getProvider("app").getImmediate(),I=new ds(new ro(t.getProvider("auth-internal")),new fa(t.getProvider("app-check-internal")),function(P,G){if(!Object.prototype.hasOwnProperty.apply(P.options,["projectId"]))throw new fn(tn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ci(P.options.projectId,G)}(m,o),m);return h=Object.assign({useFetchStreams:e},h),I._setSettings(h),I},"PUBLIC").setMultipleInstances(!0)),(0,xt.registerVersion)(Dl,"3.7.3",s),(0,xt.registerVersion)(Dl,"3.7.3","esm2017")}();function $m(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new fn("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function U_(){if("undefined"==typeof Uint8Array)throw new fn("unimplemented","Uint8Arrays are not available in this environment.")}function Sy(){if(!function k(){return"undefined"!=typeof atob}())throw new fn("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Rg{constructor(e){this._delegate=e}static fromBase64String(e){return Sy(),new Rg(yl.fromBase64String(e))}static fromUint8Array(e){return U_(),new Rg(yl.fromUint8Array(e))}toBase64(){return Sy(),this._delegate.toBase64()}toUint8Array(){return U_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function V_(s){return function yv(s,e){if("object"!=typeof s||null===s)return!1;const t=s;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(s,["next","error","complete"])}class vv{enableIndexedDbPersistence(e,t){return function ap(s,e){C_(s=Ri(s,ds));const t=Fs(s),o=s._freezeSettings(),h=new Eg;return Wh(t,h,new vg(h,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function cp(s){C_(s=Ri(s,ds));const e=Fs(s),t=s._freezeSettings(),o=new Eg;return Wh(e,o,new v_(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function lp(s){if(s._initialized&&!s._terminated)throw new fn(tn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new vs;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(o){if(!Hi.C())return Promise.resolve();const h=o+"main";yield Hi.delete(h)}),function(o){return t.apply(this,arguments)})(Gl(s._databaseId,s._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ry{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ci||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&To("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){Jl(this._delegate,e,t,o)}enableNetwork(){return ry(this._delegate)}disableNetwork(){return iy(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,op("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return up(this._delegate)}onSnapshotsInSync(e){return hv(this._delegate,e)}get app(){if(!this._appCompat)throw new fn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Zh(this,ml(this._delegate,e))}catch(t){throw Ha(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xc(this,eu(this._delegate,e))}catch(t){throw Ha(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ja(this,function Dc(s,e){if(s=Ri(s,Fu),sp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fn(tn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new eo(s,null,(t=e,new Xa(Jr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ha(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function gv(s,e,t){s=Ri(s,ds);const o=Object.assign(Object.assign({},pv),t);return function(h){if(h.maxAttempts<1)throw new fn(tn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(h,m,I){const P=new vs;return h.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const G=yield We(h);new ny(h.asyncQueue,G,I,m,P).run()})),P.promise}(Fs(s),h=>e(new Um(s,h)),o)}(this._delegate,t=>e(new Oy(this,t)))}batch(){return Fs(this._delegate),new My(new L_(this._delegate,e=>Od(this._delegate,e)))}loadBundle(e){return function sy(s,e){const t=Fs(s=Ri(s,ds)),o=new Rd;return us(t,s._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return oy(this._delegate,e).then(t=>t?new ja(this,t):null)}}class Hm extends Bm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rg(new yl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xc.forKey(t,this.firestore,null)}}class Oy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Hm(e)}get(e){const t=Pd(e);return this._delegate.get(t).then(o=>new Og(this._firestore,new ru(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const h=Pd(e);return o?($m("Transaction.set",o),this._delegate.set(h,t,o)):this._delegate.set(h,t),this}update(e,t,o,...h){const m=Pd(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,o,...h),this}delete(e){const t=Pd(e);return this._delegate.delete(t),this}}class My{constructor(e){this._delegate=e}set(e,t,o){const h=Pd(e);return o?($m("WriteBatch.set",o),this._delegate.set(h,t,o)):this._delegate.set(h,t),this}update(e,t,o,...h){const m=Pd(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,o,...h),this}delete(e){const t=Pd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Md{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Sg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Mg(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Md.INSTANCES;let h=o.get(e);h||(h=new WeakMap,o.set(e,h));let m=h.get(t);return m||(m=new Md(e,new Hm(e),t),h.set(t,m)),m}}Md.INSTANCES=new WeakMap;class Xc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Hm(e)}static forPath(e,t,o){if(e.length%2!=0)throw new fn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xc(t,new ms(t._delegate,o,new Xn(e)))}static forKey(e,t,o){return new Xc(t,new ms(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Zh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Zh(this.firestore,ml(this._delegate,e))}catch(t){throw Ha(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,et.m9)(e))instanceof ms&&Td(this._delegate,e)}set(e,t){t=$m("DocumentReference.set",t);try{return t?N_(this._delegate,e,t):N_(this._delegate,e)}catch(o){throw Ha(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?k_(this._delegate,e):k_(this._delegate,e,t,...o)}catch(h){throw Ha(h,"updateDoc()","DocumentReference.update()")}}delete(){return function uv(s){return Od(Ri(s.firestore,ds),[new ia(s._key,br.none())])}(this._delegate)}onSnapshot(...e){const t=Py(e),o=xy(e,h=>new Og(this.firestore,new ru(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return Cy(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?cv(this._delegate):"server"===(null==e?void 0:e.source)?function lv(s){s=Ri(s,ms);const e=Ri(s.firestore,ds);return hi(Fs(e),s._key,{source:"server"}).then(t=>qh(e,s,t))}(this._delegate):function x_(s){s=Ri(s,ms);const e=Ri(s.firestore,ds);return hi(Fs(e),s._key).then(t=>qh(e,s,t))}(this._delegate),t.then(o=>new Og(this.firestore,new ru(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Xc(this.firestore,e?this._delegate.withConverter(Md.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ha(s,e,t){return s.message=s.message.replace(e,t),s}function Py(s){for(const e of s)if("object"==typeof e&&!V_(e))return e;return{}}function xy(s,e){var t,o;let h;return h=V_(s[0])?s[0]:V_(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:m=>{h.next&&h.next(e(m))},error:null===(t=h.error)||void 0===t?void 0:t.bind(h),complete:null===(o=h.complete)||void 0===o?void 0:o.bind(h)}}class Og{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return P_(this._delegate,e._delegate)}}class Mg extends Og{data(e){const t=this._delegate.data(e);return function Qo(s,e){s||Ir()}(void 0!==t),t}}class ja{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Hm(e)}where(e,t,o){try{return new ja(this.firestore,Vu(this._delegate,function py(s,e,t){const o=e,h=pp("where",s);return new fy(h,o,t)}(e,t,o)))}catch(h){throw Ha(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ja(this.firestore,Vu(this._delegate,function my(s,e="asc"){const t=e,o=pp("orderBy",s);return new gy(o,t)}(e,t)))}catch(o){throw Ha(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ja(this.firestore,Vu(this._delegate,function uE(s){return Vh("limit",s),new R_("limit",s,"F")}(e)))}catch(t){throw Ha(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ja(this.firestore,Vu(this._delegate,function iv(s){return Vh("limitToLast",s),new R_("limitToLast",s,"L")}(e)))}catch(t){throw Ha(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ja(this.firestore,Vu(this._delegate,function yy(...s){return new _y("startAt",s,!0)}(...e)))}catch(t){throw Ha(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ja(this.firestore,Vu(this._delegate,function sv(...s){return new _y("startAfter",s,!1)}(...e)))}catch(t){throw Ha(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ja(this.firestore,Vu(this._delegate,function vy(...s){return new No("endBefore",s,!1)}(...e)))}catch(t){throw Ha(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ja(this.firestore,Vu(this._delegate,function ov(...s){return new No("endAt",s,!0)}(...e)))}catch(t){throw Ha(t,"endAt()","Query.endAt()")}}isEqual(e){return _l(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?vl(this._delegate):"server"===(null==e?void 0:e.source)?function El(s){s=Ri(s,eo);const e=Ri(s.firestore,ds),t=Fs(e),o=new ca(e);return Ls(t,s._query,{source:"server"}).then(h=>new Hu(e,o,s,h))}(this._delegate):function iu(s){s=Ri(s,eo);const e=Ri(s.firestore,ds),t=Fs(e),o=new ca(e);return S_(s._query),Ls(t,s._query).then(h=>new Hu(e,o,s,h))}(this._delegate),t.then(o=>new jm(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Py(e),o=xy(e,h=>new jm(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return Cy(this._delegate,t,o)}withConverter(e){return new ja(this.firestore,e?this._delegate.withConverter(Md.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Ny{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Mg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ja(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Mg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ny(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Mg(this._firestore,o))})}isEqual(e){return P_(this._delegate,e._delegate)}}class Zh extends ja{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xc(this.firestore,e):null}doc(e){try{return new Xc(this.firestore,void 0===e?eu(this._delegate):eu(this._delegate,e))}catch(t){throw Ha(t,"doc()","CollectionReference.doc()")}}add(e){return function dv(s,e){const t=Ri(s.firestore,ds),o=eu(s),h=$u(s.converter,e);return Od(t,[zh(nu(s.firestore),"addDoc",o._key,h,null!==s.converter,{}).toMutation(o._key,br.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new Xc(this.firestore,t))}isEqual(e){return Td(this._delegate,e._delegate)}withConverter(e){return new Zh(this.firestore,e?this._delegate.withConverter(Md.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Pd(s){return Ri(s,ms)}class Wm{constructor(...e){this._delegate=new tu(...e)}static documentId(){return new Wm(Mi.keyField().canonicalString())}isEqual(e){return(e=(0,et.m9)(e))instanceof tu&&this._delegate._internalPath.isEqual(e._internalPath)}}class xd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Dy(){return new hp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new xd(e)}static delete(){const e=function wy(){return new Kh("deleteField")}();return e._methodName="FieldValue.delete",new xd(e)}static arrayUnion(...e){const t=function F_(...s){return new xm("arrayUnion",s)}(...e);return t._methodName="FieldValue.arrayUnion",new xd(t)}static arrayRemove(...e){const t=function Vm(...s){return new D_("arrayRemove",s)}(...e);return t._methodName="FieldValue.arrayRemove",new xd(t)}static increment(e){const t=function by(s){return new ly("increment",s)}(e);return t._methodName="FieldValue.increment",new xd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ky={Firestore:Ry,GeoPoint:Mm,Timestamp:Kr,Blob:Rg,Transaction:Oy,WriteBatch:My,DocumentReference:Xc,DocumentSnapshot:Og,Query:ja,QueryDocumentSnapshot:Mg,QuerySnapshot:jm,CollectionReference:Zh,FieldPath:Wm,FieldValue:xd,setLogLevel:function Ev(s){!function bl(s){Xo.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function Fy(s){(function Ly(s,e){s.INTERNAL.registerComponent(new mt.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),h=t.getProvider("firestore").getImmediate();return e(o,h)},"PUBLIC").setServiceProps(Object.assign({},ky)))})(s,(e,t)=>new Ry(e,t,new vv)),s.registerVersion("@firebase/firestore-compat","0.2.3")}(be.Z);var Wu=R(5873),By=R(3670),Xh=R(8427);function Uy(s,e){return function Iv(s,e=B.z){return new $.y(t=>{let o;return null!=e?e.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},t)}):o=s.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(s,e)}function Vy(s,e){return Uy(s,e).pipe((0,_e.U)(t=>({payload:t,type:"query"})))}function _p(s,e){return Vy(s,e).pipe((0,le.O)(void 0),ue(),(0,_e.U)(([t,o])=>{const h=o.payload.docChanges(),m=h.map(I=>({type:I.type,payload:I}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((I,P)=>{const G=h.find(Oe=>Oe.doc.ref.isEqual(I.ref)),Q=null==t?void 0:t.payload.docs.find(Oe=>Oe.ref.isEqual(I.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(I.metadata)||!G&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(I.metadata)||m.push({type:"modified",payload:{oldIndex:P,newIndex:P,type:"modified",doc:I}})}),m}))}function Cv(s,e,t){return _p(s,t).pipe((0,xe.R)((o,h)=>function $y(s,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(s=function fE(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return Gm(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=s.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Gm(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Gm(s,e.oldIndex,1)}return s}(s,o))}),s}(o,h.map(m=>m.payload),e),[]),(0,de.x)(),(0,_e.U)(o=>o.map(h=>({type:h.type,payload:h}))))}function Gm(s,e,t,...o){const h=s.slice();return h.splice(e,t,...o),h}function Nd(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class Hy{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=_p(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_e.U)(o=>o.filter(h=>e.indexOf(h.type)>-1)))),t.pipe((0,le.O)(void 0),ue(),(0,Be.h)(([o,h])=>h.length>0||!o),(0,_e.U)(([o,h])=>h),Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,xe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Nd(e);return Cv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return Vy(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),Ie.iC)}get(e){return(0,Le.D)(this.query.get(e)).pipe(Ie.iC)}add(e){return this.ref.add(e)}doc(e){return new jy(this.ref.doc(e),this.afs)}}class jy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:h,query:m}=Aa(o,t);return new Hy(h,m,this.afs)}snapshotChanges(){return function mp(s,e){return Uy(s,e).pipe((0,le.O)(void 0),ue(),(0,_e.U)(([t,o])=>o.exists?null!=t&&t.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_e.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Le.D)(this.ref.get(e)).pipe(Ie.iC)}}class wv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_p(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Be.h)(t=>t.length>0),Ie.iC):_p(this.query,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,xe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Nd(e);return Cv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return Vy(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(o=>o.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),Ie.iC)}get(e){return(0,Le.D)(this.query.get(e)).pipe(Ie.iC)}}const Qh=new c.OlP("angularfire2.enableFirestorePersistence"),Wy=new c.OlP("angularfire2.firestore.persistenceSettings"),zm=new c.OlP("angularfire2.firestore.settings"),Km=new c.OlP("angularfire2.firestore.use-emulator");function Aa(s,e=(t=>t)){return{query:e(s),ref:s}}class yp{constructor(e,t,o,h,m,I,P,G,Q,Oe,ht,Kt,dn,Dn,fr,Tr,rs){this.schedulers=P;const Gi=(0,Ge.on)(e,I,t),Ni=Q;Oe&&(0,Wu.nw)(Gi,I,ht,dn,Dn,fr,Kt,Tr),[this.firestore,this.persistenceEnabled$]=(0,Ge.cc)(`${Gi.name}.firestore`,"AngularFirestore",Gi.name,()=>{const to=I.runOutsideAngular(()=>Gi.firestore());if(h&&to.settings(h),Ni&&to.useEmulator(...Ni),o&&!(0,dt.PM)(m)){const Cs=()=>{try{return(0,Le.D)(to.enablePersistence(G||void 0).then(()=>!0,()=>!1))}catch(is){return"undefined"!=typeof console&&console.warn(is),(0,Fe.of)(!1)}};return[to,I.runOutsideAngular(Cs)]}return[to,(0,Fe.of)(!1)]},[h,Ni,o])}collection(e,t){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:h,query:m}=Aa(o,t),I=this.schedulers.ngZone.run(()=>h);return new Hy(I,m,this)}collectionGroup(e,t){const o=t||(m=>m),h=this.firestore.collectionGroup(e);return new wv(o(h),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>t);return new jy(o,this)}createId(){return this.firestore.collection("_").doc().id}}yp.\u0275fac=function(e){return new(e||yp)(c.LFG(Ge.Dh),c.LFG(Ge.xv,8),c.LFG(Qh,8),c.LFG(zm,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ie.HU),c.LFG(Wy,8),c.LFG(Km,8),c.LFG(Wu.zQ,8),c.LFG(Wu.Qv,8),c.LFG(Wu.L6,8),c.LFG(Wu._Q,8),c.LFG(Wu.rT,8),c.LFG(Wu.lh,8),c.LFG(Wu.f7,8),c.LFG(By.nm,8))},yp.\u0275prov=c.Yz7({token:yp,factory:yp.\u0275fac,providedIn:"any"});class Gu{constructor(){Xh.Z.registerVersion("angularfire",Ie.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:Gu,providers:[{provide:Qh,useValue:!0},{provide:Wy,useValue:e}]}}}Gu.\u0275fac=function(e){return new(e||Gu)},Gu.\u0275mod=c.oAB({type:Gu}),Gu.\u0275inj=c.cJS({providers:[yp]})},8883:(ln,at,R)=>{"use strict";R.d(at,{BG:()=>jn,XZ:()=>Mn});function Ce(z,Rt,Vt,hn){return new(Vt||(Vt=Promise))(function(rn,Et){function cn(hr){try{Gn(hn.next(hr))}catch(Wn){Et(Wn)}}function nr(hr){try{Gn(hn.throw(hr))}catch(Wn){Et(Wn)}}function Gn(hr){hr.done?rn(hr.value):function bt(rn){return rn instanceof Vt?rn:new Vt(function(Et){Et(rn)})}(hr.value).then(cn,nr)}Gn((hn=hn.apply(z,Rt||[])).next())})}Object.create;Object.create;var st=R(3184),ie=R(745),ee=R(591),oe=R(833),J=R(9319),ge=R(4317),Ne=R(8728),Ae=R(2673),Ve=R(635),qe=R(513),Se=R(5720),Ye=R(3158),it=R(9525),lt=R(4744),St=R(2513),Ht=R(1879),qt=R(3793),an=R(8427);const ir=new st.OlP("angularfire2.messaging.vapid-key"),tr=new st.OlP("angularfire2.messaging.service-worker-registeration");class jn{constructor(Rt,Vt,hn,bt,rn,Et,cn){const nr=cn,Gn=(0,ie.of)(void 0).pipe((0,ge.R)(rn.outsideAngular),(0,Ne.Q)(rn.insideAngular),(0,Ae.w)(qt.Gb),(0,Ae.w)(En=>En?R.e(5161).then(R.bind(R,5161)):ee.E),(0,Ve.U)(()=>(0,Ht.on)(Rt,bt,Vt)),(0,Ae.w)(En=>(0,Ht.cc)(`${En.name}.messaging`,"AngularFireMessaging",En.name,()=>Ce(this,void 0,void 0,function*(){return En.messaging()}),[])),(0,qe.d)({bufferSize:1,refCount:!1}));this.requestPermission=Gn.pipe((0,ge.R)(rn.outsideAngular),(0,Ne.Q)(rn.insideAngular),(0,Ae.w)(()=>Notification.requestPermission())),this.getToken=Gn.pipe((0,ge.R)(rn.outsideAngular),(0,Ne.Q)(rn.insideAngular),(0,Ae.w)(En=>Ce(this,void 0,void 0,function*(){if("granted"===Notification.permission){const $n=nr?yield nr:null;return yield En.getToken({vapidKey:Et,serviceWorkerRegistration:$n})}return null})));const hr=new oe.y(En=>{navigator.permissions.query({name:"notifications"}).then($n=>{$n.onchange=()=>En.next()})}),Wn=Gn.pipe((0,ge.R)(rn.outsideAngular),(0,Ne.Q)(rn.insideAngular),(0,Se.c)(hr),(0,Se.c)(this.getToken));return this.tokenChanges=Gn.pipe((0,ge.R)(rn.outsideAngular),(0,Ne.Q)(rn.insideAngular),(0,Ae.w)(()=>(0,J.z)(this.getToken,Wn))),this.messages=Gn.pipe((0,ge.R)(rn.outsideAngular),(0,Ne.Q)(rn.insideAngular),(0,Ae.w)(En=>new oe.y($n=>En.onMessage($n)))),this.requestToken=Gn.pipe((0,ge.R)(rn.outsideAngular),(0,Ne.Q)(rn.insideAngular),(0,Ae.w)(()=>this.requestPermission),(0,Ye.K)(()=>(0,ie.of)(null)),(0,it.z)(()=>this.tokenChanges)),this.deleteToken=()=>Gn.pipe((0,ge.R)(rn.outsideAngular),(0,Ne.Q)(rn.insideAngular),(0,Ae.w)(En=>En.deleteToken()),(0,lt.d)(!1)),(0,Ht.pX)(this,Gn,bt)}}jn.\u0275fac=function(Rt){return new(Rt||jn)(st.LFG(Ht.Dh),st.LFG(Ht.xv,8),st.LFG(st.Lbi),st.LFG(st.R0b),st.LFG(St.HU),st.LFG(ir,8),st.LFG(tr,8))},jn.\u0275prov=st.Yz7({token:jn,factory:jn.\u0275fac,providedIn:"any"}),(0,Ht.GT)(jn,[{deleteToken:null,getToken:null,onMessage:null,onBackgroundMessage:null}]);class Mn{constructor(){an.Z.registerVersion("angularfire",St.q4.full,"fcm-compat")}}Mn.\u0275fac=function(Rt){return new(Rt||Mn)},Mn.\u0275mod=st.oAB({type:Mn}),Mn.\u0275inj=st.cJS({providers:[jn]})},1879:(ln,at,R)=>{"use strict";R.d(at,{Dh:()=>Ce,GT:()=>Ie,cc:()=>Be,hO:()=>de,on:()=>ue,pX:()=>Fe,xv:()=>$e});var c=R(3184),B=R(8427),$=R(2513);ln=R.hmd(ln);const Le=["ngOnDestroy"],Fe=(be,Ee,xt,mt={})=>new Proxy(be,{get:(yt,et)=>xt.runOutsideAngular(()=>{var nt;if(be[et])return!(null===(nt=null==mt?void 0:mt.spy)||void 0===nt)&&nt.get&&mt.spy.get(et,be[et]),be[et];if(Le.indexOf(et)>-1)return()=>{};const me=Ee.toPromise().then(De=>{const st=De&&De[et];return"function"==typeof st?st.bind(De):st&&st.then?st.then(ie=>xt.run(()=>ie)):xt.run(()=>st)});return new Proxy(()=>{},{get:(De,st)=>me[st],apply:(De,st,ie)=>me.then(ee=>{var oe;const J=ee&&ee(...ie);return!(null===(oe=null==mt?void 0:mt.spy)||void 0===oe)&&oe.apply&&mt.spy.apply(et,ie,J),J})})})}),Ie=(be,Ee)=>{Ee.forEach(xt=>{Object.getOwnPropertyNames(xt.prototype||xt).forEach(mt=>{Object.defineProperty(be.prototype,mt,Object.getOwnPropertyDescriptor(xt.prototype||xt,mt))})})};class le{constructor(Ee){return Ee}}const Ce=new c.OlP("angularfire2.app.options"),$e=new c.OlP("angularfire2.app.name");function ue(be,Ee,xt){const mt="string"==typeof xt&&xt||"[DEFAULT]",yt="object"==typeof xt&&xt||{};yt.name=yt.name||mt;const nt=B.Z.apps.filter(me=>me&&me.name===yt.name)[0]||Ee.runOutsideAngular(()=>B.Z.initializeApp(be,yt));try{if(JSON.stringify(be)!==JSON.stringify(nt.options)){const me=!!ln.hot;_e("error",`${nt.name} Firebase App already initialized with different options${me?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch(me){}return new le(nt)}const _e=(be,...Ee)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[be](...Ee)},xe={provide:le,useFactory:ue,deps:[Ce,c.R0b,[new c.FiY,$e]]};class de{constructor(Ee){B.Z.registerVersion("angularfire",$.q4.full,"core"),B.Z.registerVersion("angularfire",$.q4.full,"app-compat"),B.Z.registerVersion("angular",c.q4F.full,Ee.toString())}static initializeApp(Ee,xt){return{ngModule:de,providers:[{provide:Ce,useValue:Ee},{provide:$e,useValue:xt}]}}}function Be(be,Ee,xt,mt,yt){const[,et,nt]=globalThis.\u0275AngularfireInstanceCache.find(me=>me[0]===be)||[];if(et)return function Ge(be,Ee){try{return be.toString()===Ee.toString()}catch(xt){return be===Ee}}(yt,nt)||(Me("error",`${Ee} was already initialized on the ${xt} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:yt,was:nt})),et;{const me=mt();return globalThis.\u0275AngularfireInstanceCache.push([be,me,yt]),me}}de.\u0275fac=function(Ee){return new(Ee||de)(c.LFG(c.Lbi))},de.\u0275mod=c.oAB({type:de}),de.\u0275inj=c.cJS({providers:[xe]});const dt=!!ln.hot,Me=(be,...Ee)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[be](...Ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2513:(ln,at,R)=>{"use strict";R.d(at,{q4:()=>Us,iC:()=>fs,fc:()=>ti,HU:()=>ii,vb:()=>Xi,JM:()=>Xr,u3:()=>fi});var c=R(3184),B=R(6369),$=R(1670),Le=R(8770),Fe=R(7748),Ie=R(4692),le=R(8118);R(7152);const $e="@firebase/remote-config";const xe="remote-config",de={"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"},Be=new Fe.LL("remoteconfig","Remote Config",de);class Ae{constructor(ke,ft,Lt,Zt){this.client=ke,this.storage=ft,this.storageCache=Lt,this.logger=Zt}isCachedDataFresh(ke,ft){if(!ft)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Lt=Date.now()-ft,Zt=Lt<=ke;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Lt}. Cache max age millis (minimumFetchIntervalMillis setting): ${ke}. Is cache hit: ${Zt}.`),Zt}fetch(ke){var ft=this;return(0,$.Z)(function*(){const[Lt,Zt]=yield Promise.all([ft.storage.getLastSuccessfulFetchTimestampMillis(),ft.storage.getLastSuccessfulFetchResponse()]);if(Zt&&ft.isCachedDataFresh(ke.cacheMaxAgeMillis,Lt))return Zt;ke.eTag=Zt&&Zt.eTag;const Cn=yield ft.client.fetch(ke),Nn=[ft.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Cn.status&&Nn.push(ft.storage.setLastSuccessfulFetchResponse(Cn)),yield Promise.all(Nn),Cn})()}}function Ve(Ze=navigator){return Ze.languages&&Ze.languages[0]||Ze.language}class qe{constructor(ke,ft,Lt,Zt,Cn,Nn){this.firebaseInstallations=ke,this.sdkVersion=ft,this.namespace=Lt,this.projectId=Zt,this.apiKey=Cn,this.appId=Nn}fetch(ke){var ft=this;return(0,$.Z)(function*(){var Lt,Zt,Cn;const[Nn,Yn]=yield Promise.all([ft.firebaseInstallations.getId(),ft.firebaseInstallations.getToken()]),Wr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ft.projectId}/namespaces/${ft.namespace}:fetch?key=${ft.apiKey}`,Qr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ke.eTag||"*"},Vr={sdk_version:ft.sdkVersion,app_instance_id:Nn,app_instance_id_token:Yn,app_id:ft.appId,language_code:Ve()},ni={method:"POST",headers:Qr,body:JSON.stringify(Vr)},$i=fetch(Wr,ni),Er=new Promise((Li,es)=>{ke.signal.addEventListener(()=>{const wo=new Error("The operation was aborted.");wo.name="AbortError",es(wo)})});let Ds;try{yield Promise.race([$i,Er]),Ds=yield $i}catch(Li){let es="fetch-client-network";throw"AbortError"===(null===(Lt=Li)||void 0===Lt?void 0:Lt.name)&&(es="fetch-timeout"),Be.create(es,{originalErrorMessage:null===(Zt=Li)||void 0===Zt?void 0:Zt.message})}let Si=Ds.status;const no=Ds.headers.get("ETag")||void 0;let _s,ki;if(200===Ds.status){let Li;try{Li=yield Ds.json()}catch(es){throw Be.create("fetch-client-parse",{originalErrorMessage:null===(Cn=es)||void 0===Cn?void 0:Cn.message})}_s=Li.entries,ki=Li.state}if("INSTANCE_STATE_UNSPECIFIED"===ki?Si=500:"NO_CHANGE"===ki?Si=304:("NO_TEMPLATE"===ki||"EMPTY_CONFIG"===ki)&&(_s={}),304!==Si&&200!==Si)throw Be.create("fetch-status",{httpStatus:Si});return{status:Si,eTag:no,config:_s}})()}}class it{constructor(ke,ft){this.client=ke,this.storage=ft}fetch(ke){var ft=this;return(0,$.Z)(function*(){const Lt=(yield ft.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ft.attemptFetch(ke,Lt)})()}attemptFetch(ke,{throttleEndTimeMillis:ft,backoffCount:Lt}){var Zt=this;return(0,$.Z)(function*(){yield function Se(Ze,ke){return new Promise((ft,Lt)=>{const Zt=Math.max(ke-Date.now(),0),Cn=setTimeout(ft,Zt);Ze.addEventListener(()=>{clearTimeout(Cn),Lt(Be.create("fetch-throttle",{throttleEndTimeMillis:ke}))})})}(ke.signal,ft);try{const Cn=yield Zt.client.fetch(ke);return yield Zt.storage.deleteThrottleMetadata(),Cn}catch(Cn){if(!function Ye(Ze){if(!(Ze instanceof Fe.ZR&&Ze.customData))return!1;const ke=Number(Ze.customData.httpStatus);return 429===ke||500===ke||503===ke||504===ke}(Cn))throw Cn;const Nn={throttleEndTimeMillis:Date.now()+(0,Fe.$s)(Lt),backoffCount:Lt+1};return yield Zt.storage.setThrottleMetadata(Nn),Zt.attemptFetch(ke,Nn)}})()}}class Ht{constructor(ke,ft,Lt,Zt,Cn){this.app=ke,this._client=ft,this._storageCache=Lt,this._storage=Zt,this._logger=Cn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qt(Ze,ke){var ft;const Lt=Ze.target.error||void 0;return Be.create(ke,{originalErrorMessage:Lt&&(null===(ft=Lt)||void 0===ft?void 0:ft.message)})}const an="app_namespace_store";class jn{constructor(ke,ft,Lt,Zt=function tr(){return new Promise((Ze,ke)=>{var ft;try{const Lt=indexedDB.open("firebase_remote_config",1);Lt.onerror=Zt=>{ke(qt(Zt,"storage-open"))},Lt.onsuccess=Zt=>{Ze(Zt.target.result)},Lt.onupgradeneeded=Zt=>{const Cn=Zt.target.result;0===Zt.oldVersion&&Cn.createObjectStore(an,{keyPath:"compositeKey"})}}catch(Lt){ke(Be.create("storage-open",{originalErrorMessage:null===(ft=Lt)||void 0===ft?void 0:ft.message}))}})}()){this.appId=ke,this.appName=ft,this.namespace=Lt,this.openDbPromise=Zt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ke){return this.set("last_fetch_status",ke)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ke){return this.set("last_successful_fetch_timestamp_millis",ke)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ke){return this.set("last_successful_fetch_response",ke)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ke){return this.set("active_config",ke)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ke){return this.set("active_config_etag",ke)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ke){return this.set("throttle_metadata",ke)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ke){var ft=this;return(0,$.Z)(function*(){const Lt=yield ft.openDbPromise;return new Promise((Zt,Cn)=>{var Nn;const Cr=Lt.transaction([an],"readonly").objectStore(an),Wr=ft.createCompositeKey(ke);try{const Qr=Cr.get(Wr);Qr.onerror=Vr=>{Cn(qt(Vr,"storage-get"))},Qr.onsuccess=Vr=>{const ni=Vr.target.result;Zt(ni?ni.value:void 0)}}catch(Qr){Cn(Be.create("storage-get",{originalErrorMessage:null===(Nn=Qr)||void 0===Nn?void 0:Nn.message}))}})})()}set(ke,ft){var Lt=this;return(0,$.Z)(function*(){const Zt=yield Lt.openDbPromise;return new Promise((Cn,Nn)=>{var Yn;const Wr=Zt.transaction([an],"readwrite").objectStore(an),Qr=Lt.createCompositeKey(ke);try{const Vr=Wr.put({compositeKey:Qr,value:ft});Vr.onerror=ni=>{Nn(qt(ni,"storage-set"))},Vr.onsuccess=()=>{Cn()}}catch(Vr){Nn(Be.create("storage-set",{originalErrorMessage:null===(Yn=Vr)||void 0===Yn?void 0:Yn.message}))}})})()}delete(ke){var ft=this;return(0,$.Z)(function*(){const Lt=yield ft.openDbPromise;return new Promise((Zt,Cn)=>{var Nn;const Cr=Lt.transaction([an],"readwrite").objectStore(an),Wr=ft.createCompositeKey(ke);try{const Qr=Cr.delete(Wr);Qr.onerror=Vr=>{Cn(qt(Vr,"storage-delete"))},Qr.onsuccess=()=>{Zt()}}catch(Qr){Cn(Be.create("storage-delete",{originalErrorMessage:null===(Nn=Qr)||void 0===Nn?void 0:Nn.message}))}})})()}createCompositeKey(ke){return[this.appId,this.appName,this.namespace,ke].join()}}class Mn{constructor(ke){this.storage=ke}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ke=this;return(0,$.Z)(function*(){const ft=ke.storage.getLastFetchStatus(),Lt=ke.storage.getLastSuccessfulFetchTimestampMillis(),Zt=ke.storage.getActiveConfig(),Cn=yield ft;Cn&&(ke.lastFetchStatus=Cn);const Nn=yield Lt;Nn&&(ke.lastSuccessfulFetchTimestampMillis=Nn);const Yn=yield Zt;Yn&&(ke.activeConfig=Yn)})()}setLastFetchStatus(ke){return this.lastFetchStatus=ke,this.storage.setLastFetchStatus(ke)}setLastSuccessfulFetchTimestampMillis(ke){return this.lastSuccessfulFetchTimestampMillis=ke,this.storage.setLastSuccessfulFetchTimestampMillis(ke)}setActiveConfig(ke){return this.activeConfig=ke,this.storage.setActiveConfig(ke)}}function bt(){return(bt=(0,$.Z)(function*(){if(!(0,Fe.hl)())return!1;try{return yield(0,Fe.eu)()}catch(Ze){return!1}})).apply(this,arguments)}!function z(){(0,Le._registerComponent)(new Ie.wA(xe,function Ze(ke,{instanceIdentifier:ft}){const Lt=ke.getProvider("app").getImmediate(),Zt=ke.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Be.create("registration-window");if(!(0,Fe.hl)())throw Be.create("indexed-db-unavailable");const{projectId:Cn,apiKey:Nn,appId:Yn}=Lt.options;if(!Cn)throw Be.create("registration-project-id");if(!Nn)throw Be.create("registration-api-key");if(!Yn)throw Be.create("registration-app-id");ft=ft||"firebase";const Cr=new jn(Yn,Lt.name,ft),Wr=new Mn(Cr),Qr=new le.Yd($e);Qr.logLevel=le.in.ERROR;const Vr=new qe(Zt,Le.SDK_VERSION,ft,Cn,Nn,Yn),ni=new it(Vr,Cr),$i=new Ae(ni,Cr,Wr,Qr),Er=new Ht(Lt,$i,Wr,Cr,Qr);return function nt(Ze){const ke=(0,Fe.m9)(Ze);return ke._initializePromise||(ke._initializePromise=ke._storageCache.loadFromStorage().then(()=>{ke._isInitializationComplete=!0})),ke._initializePromise}(Er),Er},"PUBLIC").setMultipleInstances(!0)),(0,Le.registerVersion)($e,"0.3.15"),(0,Le.registerVersion)($e,"0.3.15","esm2017")}();var rn=R(3793);const Et="analytics",cn="firebase_id",hr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wn="https://www.googletagmanager.com/gtag/js",En=new le.Yd("@firebase/analytics");function $n(Ze){return Promise.all(Ze.map(ke=>ke.catch(ft=>ft)))}function bn(Ze,ke){const ft=document.createElement("script");ft.src=`${Wn}?l=${Ze}&id=${ke}`,ft.async=!0,document.head.appendChild(ft)}function yr(Ze,ke,ft,Lt,Zt,Cn){return _r.apply(this,arguments)}function _r(){return(_r=(0,$.Z)(function*(Ze,ke,ft,Lt,Zt,Cn){const Nn=Lt[Zt];try{if(Nn)yield ke[Nn];else{const Cr=(yield $n(ft)).find(Wr=>Wr.measurementId===Zt);Cr&&(yield ke[Cr.appId])}}catch(Yn){En.error(Yn)}Ze("config",Zt,Cn)})).apply(this,arguments)}function pr(Ze,ke,ft,Lt,Zt){return zn.apply(this,arguments)}function zn(){return(zn=(0,$.Z)(function*(Ze,ke,ft,Lt,Zt){try{let Cn=[];if(Zt&&Zt.send_to){let Nn=Zt.send_to;Array.isArray(Nn)||(Nn=[Nn]);const Yn=yield $n(ft);for(const Cr of Nn){const Wr=Yn.find(Vr=>Vr.measurementId===Cr),Qr=Wr&&ke[Wr.appId];if(!Qr){Cn=[];break}Cn.push(Qr)}}0===Cn.length&&(Cn=Object.values(ke)),yield Promise.all(Cn),Ze("event",Lt,Zt||{})}catch(Cn){En.error(Cn)}})).apply(this,arguments)}function sr(Ze,ke,ft,Lt,Zt){let Cn=function(...Nn){window[Lt].push(arguments)};return window[Zt]&&"function"==typeof window[Zt]&&(Cn=window[Zt]),window[Zt]=function Mr(Ze,ke,ft,Lt){function Cn(){return(Cn=(0,$.Z)(function*(Nn,Yn,Cr){try{"event"===Nn?yield pr(Ze,ke,ft,Yn,Cr):"config"===Nn?yield yr(Ze,ke,ft,Lt,Yn,Cr):"consent"===Nn?Ze("consent","update",Cr):Ze("set",Yn)}catch(Wr){En.error(Wr)}})).apply(this,arguments)}return function Zt(Nn,Yn,Cr){return Cn.apply(this,arguments)}}(Cn,Ze,ke,ft),{gtagCore:Cn,wrappedGtag:window[Zt]}}function Zr(Ze){const ke=window.document.getElementsByTagName("script");for(const ft of Object.values(ke))if(ft.src&&ft.src.includes(Wn)&&ft.src.includes(Ze))return ft;return null}const gr={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},vr=new Fe.LL("analytics","Analytics",gr);const Tn=new class Wt{constructor(ke={},ft=1e3){this.throttleMetadata=ke,this.intervalMillis=ft}getThrottleMetadata(ke){return this.throttleMetadata[ke]}setThrottleMetadata(ke,ft){this.throttleMetadata[ke]=ft}deleteThrottleMetadata(ke){delete this.throttleMetadata[ke]}};function Rn(Ze){return new Headers({Accept:"application/json","x-goog-api-key":Ze})}function Kn(Ze){return lr.apply(this,arguments)}function lr(){return(lr=(0,$.Z)(function*(Ze){var ke;const{appId:ft,apiKey:Lt}=Ze,Zt={method:"GET",headers:Rn(Lt)},Cn=hr.replace("{app-id}",ft),Nn=yield fetch(Cn,Zt);if(200!==Nn.status&&304!==Nn.status){let Yn="";try{const Cr=yield Nn.json();null!==(ke=Cr.error)&&void 0!==ke&&ke.message&&(Yn=Cr.error.message)}catch(Cr){}throw vr.create("config-fetch-failed",{httpStatus:Nn.status,responseMessage:Yn})}return Nn.json()})).apply(this,arguments)}function Xe(Ze){return Te.apply(this,arguments)}function Te(){return(Te=(0,$.Z)(function*(Ze,ke=Tn,ft){const{appId:Lt,apiKey:Zt,measurementId:Cn}=Ze.options;if(!Lt)throw vr.create("no-app-id");if(!Zt){if(Cn)return{measurementId:Cn,appId:Lt};throw vr.create("no-api-key")}const Nn=ke.getThrottleMetadata(Lt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Yn=new Nt;return setTimeout((0,$.Z)(function*(){Yn.abort()}),void 0!==ft?ft:6e4),tt({appId:Lt,apiKey:Zt,measurementId:Cn},Nn,Yn,ke)})).apply(this,arguments)}function tt(Ze,ke,ft){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,$.Z)(function*(Ze,{throttleEndTimeMillis:ke,backoffCount:ft},Lt,Zt=Tn){var Cn,Nn;const{appId:Yn,measurementId:Cr}=Ze;try{yield Y(Lt,ke)}catch(Wr){if(Cr)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Cr} provided in the "measurementId" field in the local Firebase config. [${null===(Cn=Wr)||void 0===Cn?void 0:Cn.message}]`),{appId:Yn,measurementId:Cr};throw Wr}try{const Wr=yield Kn(Ze);return Zt.deleteThrottleMetadata(Yn),Wr}catch(Wr){const Qr=Wr;if(!je(Qr)){if(Zt.deleteThrottleMetadata(Yn),Cr)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Cr} provided in the "measurementId" field in the local Firebase config. [${null==Qr?void 0:Qr.message}]`),{appId:Yn,measurementId:Cr};throw Wr}const Vr=503===Number(null===(Nn=null==Qr?void 0:Qr.customData)||void 0===Nn?void 0:Nn.httpStatus)?(0,Fe.$s)(ft,Zt.intervalMillis,30):(0,Fe.$s)(ft,Zt.intervalMillis),ni={throttleEndTimeMillis:Date.now()+Vr,backoffCount:ft+1};return Zt.setThrottleMetadata(Yn,ni),En.debug(`Calling attemptFetch again in ${Vr} millis`),tt(Ze,ni,Lt,Zt)}})).apply(this,arguments)}function Y(Ze,ke){return new Promise((ft,Lt)=>{const Zt=Math.max(ke-Date.now(),0),Cn=setTimeout(ft,Zt);Ze.addEventListener(()=>{clearTimeout(Cn),Lt(vr.create("fetch-throttle",{throttleEndTimeMillis:ke}))})})}function je(Ze){if(!(Ze instanceof Fe.ZR&&Ze.customData))return!1;const ke=Number(Ze.customData.httpStatus);return 429===ke||500===ke||503===ke||504===ke}class Nt{constructor(){this.listeners=[]}addEventListener(ke){this.listeners.push(ke)}abort(){this.listeners.forEach(ke=>ke())}}let on,zt;function Hn(){return(Hn=(0,$.Z)(function*(Ze,ke,ft,Lt,Zt){if(Zt&&Zt.global)Ze("event",ft,Lt);else{const Cn=yield ke;Ze("event",ft,Object.assign(Object.assign({},Lt),{send_to:Cn}))}})).apply(this,arguments)}function un(Ze){zt=Ze}function xn(Ze){on=Ze}function ct(){return Z.apply(this,arguments)}function Z(){return(Z=(0,$.Z)(function*(){var Ze;if(!(0,Fe.hl)())return En.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Fe.eu)()}catch(ke){return En.warn(vr.create("indexeddb-unavailable",{errorInfo:null===(Ze=ke)||void 0===Ze?void 0:Ze.toString()}).message),!1}return!0})).apply(this,arguments)}function j(){return(j=(0,$.Z)(function*(Ze,ke,ft,Lt,Zt,Cn,Nn){var Yn;const Cr=Xe(Ze);Cr.then($i=>{ft[$i.measurementId]=$i.appId,Ze.options.measurementId&&$i.measurementId!==Ze.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${Ze.options.measurementId}) does not match the measurement ID fetched from the server (${$i.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($i=>En.error($i)),ke.push(Cr);const Wr=ct().then($i=>{if($i)return Lt.getId()}),[Qr,Vr]=yield Promise.all([Cr,Wr]);Zr(Cn)||bn(Cn,Qr.measurementId),zt&&(Zt("consent","default",zt),un(void 0)),Zt("js",new Date);const ni=null!==(Yn=null==Nn?void 0:Nn.config)&&void 0!==Yn?Yn:{};return ni.origin="firebase",ni.update=!0,null!=Vr&&(ni[cn]=Vr),Zt("config",Qr.measurementId,ni),on&&(Zt("set",on),xn(void 0)),Qr.measurementId})).apply(this,arguments)}class ye{constructor(ke){this.app=ke}_delete(){return delete Ct[this.app.options.appId],Promise.resolve()}}let Ct={},It=[];const _n={};let Nr,Rr,Jn="dataLayer",cr="gtag",Lr=!1;function li(Ze,ke,ft){!function Ii(){const Ze=[];if((0,Fe.ru)()&&Ze.push("This is a browser extension environment."),(0,Fe.zI)()||Ze.push("Cookies are not available."),Ze.length>0){const ke=Ze.map((Lt,Zt)=>`(${Zt+1}) ${Lt}`).join(" "),ft=vr.create("invalid-analytics-context",{errorInfo:ke});En.warn(ft.message)}}();const Lt=Ze.options.appId;if(!Lt)throw vr.create("no-app-id");if(!Ze.options.apiKey){if(!Ze.options.measurementId)throw vr.create("no-api-key");En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Ze.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ct[Lt])throw vr.create("already-exists",{id:Lt});if(!Lr){!function Bn(Ze){let ke=[];return Array.isArray(window[Ze])?ke=window[Ze]:window[Ze]=ke,ke}(Jn);const{wrappedGtag:Cn,gtagCore:Nn}=sr(Ct,It,_n,Jn,cr);Rr=Cn,Nr=Nn,Lr=!0}return Ct[Lt]=function x(Ze,ke,ft,Lt,Zt,Cn,Nn){return j.apply(this,arguments)}(Ze,It,_n,ke,Nr,Jn,ft),new ye(Ze)}function pt(){return(pt=(0,$.Z)(function*(){if((0,Fe.ru)()||!(0,Fe.zI)()||!(0,Fe.hl)())return!1;try{return yield(0,Fe.eu)()}catch(Ze){return!1}})).apply(this,arguments)}function jt(Ze,ke,ft,Lt){Ze=(0,Fe.m9)(Ze),function pn(Ze,ke,ft,Lt,Zt){return Hn.apply(this,arguments)}(Rr,Ct[Ze.app.options.appId],ke,ft,Lt).catch(Zt=>En.error(Zt))}const An="@firebase/analytics";!function or(){(0,Le._registerComponent)(new Ie.wA(Et,(ke,{options:ft})=>li(ke.getProvider("app").getImmediate(),ke.getProvider("installations-internal").getImmediate(),ft),"PUBLIC")),(0,Le._registerComponent)(new Ie.wA("analytics-internal",function Ze(ke){try{const ft=ke.getProvider(Et).getImmediate();return{logEvent:(Lt,Zt,Cn)=>jt(ft,Lt,Zt,Cn)}}catch(ft){throw vr.create("interop-component-reg-failed",{reason:ft})}},"PRIVATE")),(0,Le.registerVersion)(An,"0.8.4"),(0,Le.registerVersion)(An,"0.8.4","esm2017")}();var ai=R(5417);class Fr extends ai.o{constructor(ke,ft){super(ke,ft),this.scheduler=ke,this.work=ft}schedule(ke,ft=0){return ft>0?super.schedule(ke,ft):(this.delay=ft,this.state=ke,this.scheduler.flush(this),this)}execute(ke,ft){return ft>0||this.closed?super.execute(ke,ft):this._execute(ke,ft)}requestAsyncId(ke,ft,Lt=0){return null!=Lt&&Lt>0||null==Lt&&this.delay>0?super.requestAsyncId(ke,ft,Lt):(ke.flush(this),0)}}var ui=R(1010);class bi extends ui.v{}const Ys=new bi(Fr);var Ti=R(6936),Pi=R(833),qs=R(9337),Ss=R(8728),Bs=R(4317);const Us=new c.GfV("7.4.1"),Ki="__angularfire_symbol__analyticsIsSupportedValue",vt="__angularfire_symbol__analyticsIsSupported",gt="__angularfire_symbol__remoteConfigIsSupportedValue",kt="__angularfire_symbol__remoteConfigIsSupported",Qt="__angularfire_symbol__messagingIsSupportedValue",vn="__angularfire_symbol__messagingIsSupported";globalThis[vt]||(globalThis[vt]=function Re(){return pt.apply(this,arguments)}().then(Ze=>globalThis[Ki]=Ze).catch(()=>globalThis[Ki]=!1)),globalThis[vn]||(globalThis[vn]=(0,rn.Gb)().then(Ze=>globalThis[Qt]=Ze).catch(()=>globalThis[Qt]=!1)),globalThis[kt]||(globalThis[kt]=function hn(){return bt.apply(this,arguments)}().then(Ze=>globalThis[gt]=Ze).catch(()=>globalThis[gt]=!1));function Xr(Ze,ke,ft){if(ke){if(1===ke.length)return ke[0];const Cn=ke.filter(Nn=>Nn.app===ft);if(1===Cn.length)return Cn[0]}return ft.container.getProvider(Ze).getImmediate({optional:!0})}const Xi=(Ze,ke)=>{const ft=ke?[ke]:(0,B.C6)(),Lt=[];return ft.forEach(Zt=>{Zt.container.getProvider(Ze).instances.forEach(Nn=>{Lt.includes(Nn)||Lt.push(Nn)})}),Lt};function Pr(){}class Yi{constructor(ke,ft=Ys){this.zone=ke,this.delegate=ft}now(){return this.delegate.now()}schedule(ke,ft,Lt){const Zt=this.zone;return this.delegate.schedule(function(Nn){Zt.runGuarded(()=>{ke.apply(this,[Nn])})},ft,Lt)}}class Ai{constructor(ke){this.zone=ke,this.task=null}call(ke,ft){const Lt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pr,{},Pr,Pr)),ft.pipe((0,qs.b)({next:Lt,complete:Lt,error:Lt})).subscribe(ke).add(Lt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ii{constructor(ke){this.ngZone=ke,this.outsideAngular=ke.runOutsideAngular(()=>new Yi(Zone.current)),this.insideAngular=ke.run(()=>new Yi(Zone.current,Ti.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}function hs(){const Ze=globalThis.\u0275AngularFireScheduler;if(!Ze)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ze}function Rs(Ze){return hs().ngZone.runOutsideAngular(()=>Ze())}function Vi(Ze){return hs().ngZone.run(()=>Ze())}function ti(Ze){return Ze.pipe((0,Ss.Q)(hs().outsideAngular))}function fs(Ze){hs();return function ps(Ze){return function(ft){return(ft=ft.lift(new Ai(Ze.ngZone))).pipe((0,Bs.R)(Ze.outsideAngular),(0,Ss.Q)(Ze.insideAngular))}}(hs())(Ze)}ii.\u0275fac=function(ke){return new(ke||ii)(c.LFG(c.R0b))},ii.\u0275prov=c.Yz7({token:ii,factory:ii.\u0275fac,providedIn:"root"});const Vs=(Ze,ke)=>function(){const Lt=arguments;return ke&&setTimeout(()=>{"scheduled"===ke.state&&ke.invoke()},10),Vi(()=>Ze.apply(void 0,Lt))},fi=(Ze,ke)=>function(){let ft;const Lt=arguments;for(let Cn=0;Cn<arguments.length;Cn++)"function"==typeof Lt[Cn]&&(ke&&(ft||(ft=Vi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pr,{},Pr,Pr)))),Lt[Cn]=Vs(Lt[Cn],ft));const Zt=Rs(()=>Ze.apply(this,Lt));if(!ke){if(Zt instanceof Pi.y){const Cn=hs();return Zt.pipe((0,Bs.R)(Cn.outsideAngular),(0,Ss.Q)(Cn.insideAngular))}return Vi(()=>Zt)}return Zt instanceof Pi.y?Zt.pipe(fs):Zt instanceof Promise?Vi(()=>new Promise((Cn,Nn)=>Zt.then(Yn=>Vi(()=>Cn(Yn)),Yn=>Vi(()=>Nn(Yn))))):"function"==typeof Zt&&ft?function(){return setTimeout(()=>{ft&&"scheduled"===ft.state&&ft.invoke()},10),Zt.apply(this,arguments)}:Vi(()=>Zt)}},6987:(ln,at,R)=>{"use strict";R.d(at,{On:()=>nt,DM:()=>me});var B=R(833),$=R(3280),Le={error:"cordova_not_available"},Fe={error:"plugin_not_installed"};function Ie(J){if("undefined"!=typeof window&&window.angular){var Ne=window.document,Ae=window.angular.element(Ne.querySelector("[ng-app]")||Ne.body).injector();if(Ae)return Ae.get("$q")(function(qe,Se){J(qe,Se)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(qe,Se){J(qe,Se)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function le(J,ge,Ne,Ae){void 0===Ae&&(Ae={});var Ve,qe,Se=Ie(function(Ye,it){Ve=Ae.destruct?Be(J,ge,Ne,Ae,function(){for(var lt=[],St=0;St<arguments.length;St++)lt[St]=arguments[St];return Ye(lt)},function(){for(var lt=[],St=0;St<arguments.length;St++)lt[St]=arguments[St];return it(lt)}):Be(J,ge,Ne,Ae,Ye,it),qe=it});return Ve&&Ve.error&&(Se.catch(function(){}),"function"==typeof qe&&qe(Ve.error)),Se}function Ce(J,ge,Ne,Ae){return void 0===Ae&&(Ae={}),Ie(function(Ve,qe){var Se=Be(J,ge,Ne,Ae);Se?Se.error?qe(Se.error):Se.then&&Se.then(Ve).catch(qe):qe({error:"unexpected_error"})})}function $e(J,ge,Ne,Ae){return void 0===Ae&&(Ae={}),new B.y(function(Ve){var qe;return qe=Ae.destruct?Be(J,ge,Ne,Ae,function(){for(var Se=[],Ye=0;Ye<arguments.length;Ye++)Se[Ye]=arguments[Ye];return Ve.next(Se)},function(){for(var Se=[],Ye=0;Ye<arguments.length;Ye++)Se[Ye]=arguments[Ye];return Ve.error(Se)}):Be(J,ge,Ne,Ae,Ve.next.bind(Ve),Ve.error.bind(Ve)),qe&&qe.error&&(Ve.error(qe.error),Ve.complete()),function(){try{if(Ae.clearFunction)return Ae.clearWithArgs?Be(J,Ae.clearFunction,Ne,Ae,Ve.next.bind(Ve),Ve.error.bind(Ve)):Be(J,Ae.clearFunction,[])}catch(Se){console.warn("Unable to clear the previous observable watch for",J.constructor.getPluginName(),ge),console.warn(Se)}}})}function ue(J,ge){return ge="undefined"!=typeof window&&ge?Me(window,ge):ge||("undefined"!=typeof window?window:{}),(0,$.R)(ge,J)}function _e(J,ge,Ne){var Ae,Ve;"string"==typeof J?Ae=J:(Ae=J.constructor.getPluginRef(),Ne=J.constructor.getPluginName(),Ve=J.constructor.getPluginInstallName());var qe=dt(Ae);return!(!qe||ge&&void 0===qe[ge])||("undefined"!=typeof window&&window.cordova?(function be(J,ge,Ne){console.warn(Ne?"Native: tried calling "+J+"."+Ne+", but the "+J+" plugin is not installed.":"Native: tried accessing the "+J+" plugin but it's not installed."),ge&&console.warn("Install the "+J+" plugin: 'ionic cordova plugin add "+ge+"'")}(Ne,Ve,ge),Fe):(function Ee(J,ge){"undefined"==typeof process&&console.warn(ge?"Native: tried calling "+J+"."+ge+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+J+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(Ne,ge),Le))}function de(J,ge,Ne,Ae){if(void 0===ge&&(ge={}),ge.sync)return J;if("reverse"===ge.callbackOrder)J.unshift(Ae),J.unshift(Ne);else if("node"===ge.callbackStyle)J.push(function(Ye,it){Ye?Ae(Ye):Ne(it)});else if("object"===ge.callbackStyle&&ge.successName&&ge.errorName){var Ve={};Ve[ge.successName]=Ne,Ve[ge.errorName]=Ae,J.push(Ve)}else if(void 0!==ge.successIndex||void 0!==ge.errorIndex){var qe=function(){ge.successIndex>J.length?J[ge.successIndex]=Ne:J.splice(ge.successIndex,0,Ne)},Se=function(){ge.errorIndex>J.length?J[ge.errorIndex]=Ae:J.splice(ge.errorIndex,0,Ae)};ge.successIndex>ge.errorIndex?(Se(),qe()):(qe(),Se())}else J.push(Ne),J.push(Ae);return J}function Be(J,ge,Ne,Ae,Ve,qe){void 0===Ae&&(Ae={}),Ne=de(Ne,Ae,Ve,qe);var Se=_e(J,ge);if(!0===Se){var Ye=dt(J.constructor.getPluginRef());return Ye[ge].apply(Ye,Ne)}return Se}function dt(J){return"undefined"!=typeof window?Me(window,J):null}function Me(J,ge){for(var Ne=ge.split("."),Ae=J,Ve=0;Ve<Ne.length;Ve++){if(!Ae)return null;Ae=Ae[Ne[Ve]]}return Ae}var nt=function(){function J(){}return J.installed=function(){return!0===_e(this.pluginRef)},J.getPlugin=function(){return"undefined"!=typeof window?function yt(J,ge){for(var Ne=ge.split("."),Ae=J,Ve=0;Ve<Ne.length;Ve++){if(!Ae)return null;Ae=Ae[Ne[Ve]]}return Ae}(window,this.pluginRef):null},J.getPluginName=function(){return this.pluginName},J.getPluginRef=function(){return this.pluginRef},J.getPluginInstallName=function(){return this.plugin},J.getSupportedPlatforms=function(){return this.platforms},J.pluginName="",J.pluginRef="",J.plugin="",J.repo="",J.platforms=[],J.install="",J}();function me(J,ge,Ne,Ae){return function(J,ge,Ne){return void 0===Ne&&(Ne={}),function(){for(var Ae=[],Ve=0;Ve<arguments.length;Ve++)Ae[Ve]=arguments[Ve];return Ne.sync?Be(J,ge,Ae,Ne):Ne.observable?$e(J,ge,Ae,Ne):Ne.eventObservable&&Ne.event?ue(Ne.event,Ne.element):Ne.otherPromise?Ce(J,ge,Ae,Ne):le(J,ge,Ae,Ne)}}(J,ge,Ne).apply(this,Ae)}!function c(){if("undefined"==typeof process){var J="undefined"!=typeof window?window:{},Ne=Date.now(),Ae=!1;J.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-Ne)+" ms"),Ae=!0}),setTimeout(function(){!Ae&&J.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},2617:(ln,at,R)=>{"use strict";R.d(at,{y:()=>Le});var c=R(4929),B=R(3184),$=R(6987),Le=function(Fe){function Ie(){return null!==Fe&&Fe.apply(this,arguments)||this}return(0,c.ZT)(Ie,Fe),Ie.prototype.send=function(le,Ce,$e){return(0,$.DM)(this,"send",{successIndex:3,errorIndex:4},arguments)},Ie.prototype.hasPermission=function(){return(0,$.DM)(this,"hasPermission",{platforms:["Android"]},arguments)},Ie.\u0275fac=function(){let le;return function($e){return(le||(le=B.n5z(Ie)))($e||Ie)}}(),Ie.\u0275prov=B.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie.pluginName="SMS",Ie.plugin="cordova-sms-plugin",Ie.pluginRef="sms",Ie.repo="https://github.com/cordova-sms/cordova-sms-plugin",Ie.platforms=["Android","iOS","Windows","Windows Phone 8"],Ie=(0,c.gn)([],Ie)}($.On)},6549:(ln,at,R)=>{"use strict";R.d(at,{Uw:()=>Me,fo:()=>Be,xz:()=>$e});var c=R(1670);const Le=(ie=>ie.CapacitorPlatforms=(ie=>{const ee=new Map;ee.set("web",{name:"web"});const oe=ie.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:ee};return oe.addPlatform=(Ne,Ae)=>{oe.platforms.set(Ne,Ae)},oe.setPlatform=Ne=>{oe.platforms.has(Ne)&&(oe.currentPlatform=oe.platforms.get(Ne))},oe})(ie))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});Le.addPlatform,Le.setPlatform;var Ce,ie;(ie=Ce||(Ce={})).Unimplemented="UNIMPLEMENTED",ie.Unavailable="UNAVAILABLE";class $e extends Error{constructor(ee,oe,J){super(ee),this.message=ee,this.code=oe,this.data=J}}const _e=ie=>{var ee,oe,J,ge,Ne;const Ae=ie.CapacitorCustomPlatform||null,Ve=ie.Capacitor||{},qe=Ve.Plugins=Ve.Plugins||{},Se=ie.CapacitorPlatforms,it=(null===(ee=null==Se?void 0:Se.currentPlatform)||void 0===ee?void 0:ee.getPlatform)||(()=>null!==Ae?Ae.name:(ie=>{var ee,oe;return null!=ie&&ie.androidBridge?"android":null!==(oe=null===(ee=null==ie?void 0:ie.webkit)||void 0===ee?void 0:ee.messageHandlers)&&void 0!==oe&&oe.bridge?"ios":"web"})(ie)),St=(null===(oe=null==Se?void 0:Se.currentPlatform)||void 0===oe?void 0:oe.isNativePlatform)||(()=>"web"!==it()),qt=(null===(J=null==Se?void 0:Se.currentPlatform)||void 0===J?void 0:J.isPluginAvailable)||(Rt=>{const Vt=jn.get(Rt);return!!(null!=Vt&&Vt.platforms.has(it())||Fn(Rt))}),Fn=(null===(ge=null==Se?void 0:Se.currentPlatform)||void 0===ge?void 0:ge.getPluginHeader)||(Rt=>{var Vt;return null===(Vt=Ve.PluginHeaders)||void 0===Vt?void 0:Vt.find(hn=>hn.name===Rt)}),jn=new Map,z=(null===(Ne=null==Se?void 0:Se.currentPlatform)||void 0===Ne?void 0:Ne.registerPlugin)||((Rt,Vt={})=>{const hn=jn.get(Rt);if(hn)return console.warn(`Capacitor plugin "${Rt}" already registered. Cannot register plugins twice.`),hn.proxy;const bt=it(),rn=Fn(Rt);let Et;const cn=function(){var bn=(0,c.Z)(function*(){return!Et&&bt in Vt?Et=Et="function"==typeof Vt[bt]?yield Vt[bt]():Vt[bt]:null!==Ae&&!Et&&"web"in Vt&&(Et=Et="function"==typeof Vt.web?yield Vt.web():Vt.web),Et});return function(){return bn.apply(this,arguments)}}(),Gn=bn=>{let Bn;const yr=(..._r)=>{const pr=cn().then(zn=>{const Mr=((bn,Bn)=>{var yr,_r;if(!rn){if(bn)return null===(_r=bn[Bn])||void 0===_r?void 0:_r.bind(bn);throw new $e(`"${Rt}" plugin is not implemented on ${bt}`,Ce.Unimplemented)}{const pr=null==rn?void 0:rn.methods.find(zn=>Bn===zn.name);if(pr)return"promise"===pr.rtype?zn=>Ve.nativePromise(Rt,Bn.toString(),zn):(zn,Mr)=>Ve.nativeCallback(Rt,Bn.toString(),zn,Mr);if(bn)return null===(yr=bn[Bn])||void 0===yr?void 0:yr.bind(bn)}})(zn,bn);if(Mr){const sr=Mr(..._r);return Bn=null==sr?void 0:sr.remove,sr}throw new $e(`"${Rt}.${bn}()" is not implemented on ${bt}`,Ce.Unimplemented)});return"addListener"===bn&&(pr.remove=(0,c.Z)(function*(){return Bn()})),pr};return yr.toString=()=>`${bn.toString()}() { [capacitor code] }`,Object.defineProperty(yr,"name",{value:bn,writable:!1,configurable:!1}),yr},hr=Gn("addListener"),Wn=Gn("removeListener"),En=(bn,Bn)=>{const yr=hr({eventName:bn},Bn),_r=function(){var zn=(0,c.Z)(function*(){const Mr=yield yr;Wn({eventName:bn,callbackId:Mr},Bn)});return function(){return zn.apply(this,arguments)}}(),pr=new Promise(zn=>yr.then(()=>zn({remove:_r})));return pr.remove=(0,c.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield _r()}),pr},$n=new Proxy({},{get(bn,Bn){switch(Bn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return rn?En:hr;case"removeListener":return Wn;default:return Gn(Bn)}}});return qe[Rt]=$n,jn.set(Rt,{name:Rt,proxy:$n,platforms:new Set([...Object.keys(Vt),...rn?[bt]:[]])}),$n});return Ve.convertFileSrc||(Ve.convertFileSrc=Rt=>Rt),Ve.getPlatform=it,Ve.handleError=Rt=>ie.console.error(Rt),Ve.isNativePlatform=St,Ve.isPluginAvailable=qt,Ve.pluginMethodNoop=(Rt,Vt,hn)=>Promise.reject(`${hn} does not have an implementation of "${Vt}".`),Ve.registerPlugin=z,Ve.Exception=$e,Ve.DEBUG=!!Ve.DEBUG,Ve.isLoggingEnabled=!!Ve.isLoggingEnabled,Ve.platform=Ve.getPlatform(),Ve.isNative=Ve.isNativePlatform(),Ve},de=(ie=>ie.Capacitor=_e(ie))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),Be=de.registerPlugin;de.Plugins;class Me{constructor(ee){this.listeners={},this.windowListeners={},ee&&(console.warn(`Capacitor WebPlugin "${ee.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=ee)}addListener(ee,oe){var J=this;this.listeners[ee]||(this.listeners[ee]=[]),this.listeners[ee].push(oe);const Ne=this.windowListeners[ee];Ne&&!Ne.registered&&this.addWindowListener(Ne);const Ae=function(){var qe=(0,c.Z)(function*(){return J.removeListener(ee,oe)});return function(){return qe.apply(this,arguments)}}(),Ve=Promise.resolve({remove:Ae});return Object.defineProperty(Ve,"remove",{value:(qe=(0,c.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Ae()}),function(){return qe.apply(this,arguments)})}),Ve;var qe}removeAllListeners(){var ee=this;return(0,c.Z)(function*(){ee.listeners={};for(const oe in ee.windowListeners)ee.removeWindowListener(ee.windowListeners[oe]);ee.windowListeners={}})()}notifyListeners(ee,oe){const J=this.listeners[ee];J&&J.forEach(ge=>ge(oe))}hasListeners(ee){return!!this.listeners[ee].length}registerWindowListener(ee,oe){this.windowListeners[oe]={registered:!1,windowEventName:ee,pluginEventName:oe,handler:J=>{this.notifyListeners(oe,J)}}}unimplemented(ee="not implemented"){return new de.Exception(ee,Ce.Unimplemented)}unavailable(ee="not available"){return new de.Exception(ee,Ce.Unavailable)}removeListener(ee,oe){var J=this;return(0,c.Z)(function*(){const ge=J.listeners[ee];if(!ge)return;const Ne=ge.indexOf(oe);J.listeners[ee].splice(Ne,1),J.listeners[ee].length||J.removeWindowListener(J.windowListeners[ee])})()}addWindowListener(ee){window.addEventListener(ee.windowEventName,ee.handler),ee.registered=!0}removeWindowListener(ee){!ee||(window.removeEventListener(ee.windowEventName,ee.handler),ee.registered=!1)}}const Ee=ie=>encodeURIComponent(ie).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);class xt extends Me{setCookie(ee){return(0,c.Z)(function*(){try{const oe=Ee(ee.key),J=Ee(ee.value),ge=`; expires=${(ee.expires||"").replace("expires=","")}`,Ne=(ee.path||"/").replace("path=","");document.cookie=`${oe}=${J||""}${ge}; path=${Ne}`}catch(oe){return Promise.reject(oe)}})()}deleteCookie(ee){return(0,c.Z)(function*(){try{document.cookie=`${ee.key}=; Max-Age=0`}catch(oe){return Promise.reject(oe)}})()}clearCookies(){return(0,c.Z)(function*(){try{const ee=document.cookie.split(";")||[];for(const oe of ee)document.cookie=oe.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(ee){return Promise.reject(ee)}})()}clearAllCookies(){var ee=this;return(0,c.Z)(function*(){try{yield ee.clearCookies()}catch(oe){return Promise.reject(oe)}})()}}Be("CapacitorCookies",{web:()=>new xt});const yt=function(){var ie=(0,c.Z)(function*(ee){return new Promise((oe,J)=>{const ge=new FileReader;ge.onload=()=>{const Ne=ge.result;oe(Ne.indexOf(",")>=0?Ne.split(",")[1]:Ne)},ge.onerror=Ne=>J(Ne),ge.readAsDataURL(ee)})});return function(oe){return ie.apply(this,arguments)}}(),me=(ie,ee={})=>{const oe=Object.assign({method:ie.method||"GET",headers:ie.headers},ee),ge=((ie={})=>{const ee=Object.keys(ie);return Object.keys(ie).map(ge=>ge.toLocaleLowerCase()).reduce((ge,Ne,Ae)=>(ge[Ne]=ie[ee[Ae]],ge),{})})(ie.headers)["content-type"]||"";if("string"==typeof ie.data)oe.body=ie.data;else if(ge.includes("application/x-www-form-urlencoded")){const Ne=new URLSearchParams;for(const[Ae,Ve]of Object.entries(ie.data||{}))Ne.set(Ae,Ve);oe.body=Ne.toString()}else if(ge.includes("multipart/form-data")){const Ne=new FormData;if(ie.data instanceof FormData)ie.data.forEach((Ve,qe)=>{Ne.append(qe,Ve)});else for(const Ve of Object.keys(ie.data))Ne.append(Ve,ie.data[Ve]);oe.body=Ne;const Ae=new Headers(oe.headers);Ae.delete("content-type"),oe.headers=Ae}else(ge.includes("application/json")||"object"==typeof ie.data)&&(oe.body=JSON.stringify(ie.data));return oe};class De extends Me{request(ee){return(0,c.Z)(function*(){const oe=me(ee,ee.webFetchExtra),J=((ie,ee=!0)=>ie?Object.entries(ie).reduce((J,ge)=>{const[Ne,Ae]=ge;let Ve,qe;return Array.isArray(Ae)?(qe="",Ae.forEach(Se=>{Ve=ee?encodeURIComponent(Se):Se,qe+=`${Ne}=${Ve}&`}),qe.slice(0,-1)):(Ve=ee?encodeURIComponent(Ae):Ae,qe=`${Ne}=${Ve}`),`${J}&${qe}`},"").substr(1):null)(ee.params,ee.shouldEncodeUrlParams),ge=J?`${ee.url}?${J}`:ee.url,Ne=yield fetch(ge,oe),Ae=Ne.headers.get("content-type")||"";let qe,Se,{responseType:Ve="text"}=Ne.ok?ee:{};switch(Ae.includes("application/json")&&(Ve="json"),Ve){case"arraybuffer":case"blob":Se=yield Ne.blob(),qe=yield yt(Se);break;case"json":qe=yield Ne.json();break;default:qe=yield Ne.text()}const Ye={};return Ne.headers.forEach((it,lt)=>{Ye[lt]=it}),{data:qe,headers:Ye,status:Ne.status,url:Ne.url}})()}get(ee){var oe=this;return(0,c.Z)(function*(){return oe.request(Object.assign(Object.assign({},ee),{method:"GET"}))})()}post(ee){var oe=this;return(0,c.Z)(function*(){return oe.request(Object.assign(Object.assign({},ee),{method:"POST"}))})()}put(ee){var oe=this;return(0,c.Z)(function*(){return oe.request(Object.assign(Object.assign({},ee),{method:"PUT"}))})()}patch(ee){var oe=this;return(0,c.Z)(function*(){return oe.request(Object.assign(Object.assign({},ee),{method:"PATCH"}))})()}delete(ee){var oe=this;return(0,c.Z)(function*(){return oe.request(Object.assign(Object.assign({},ee),{method:"DELETE"}))})()}}Be("CapacitorHttp",{web:()=>new De})},5191:(ln,at,R)=>{"use strict";R.d(at,{u:()=>B});const B=(0,R(6549).fo)("Preferences",{web:()=>R.e(7333).then(R.bind(R,7333)).then($=>new $.PreferencesWeb)})},1481:(ln,at,R)=>{"use strict";R.d(at,{$:()=>Li,A:()=>_e,B:()=>Be,G:()=>Z,H:()=>It,J:()=>bi,L:()=>Xe,M:()=>Vn,N:()=>Xr,P:()=>Ro,Q:()=>Xi,R:()=>Oc,T:()=>Pr,U:()=>Sr,V:()=>hs,W:()=>Rs,X:()=>ps,Y:()=>ni,Z:()=>Er,_:()=>Si,a:()=>_o,a0:()=>Do,a1:()=>q,a2:()=>U,a3:()=>Bt,a4:()=>ur,a5:()=>te,a6:()=>H,a7:()=>ot,a8:()=>Hr,a9:()=>pi,aA:()=>Te,aB:()=>wi,aC:()=>ma,aD:()=>so,aE:()=>xn,aI:()=>qi,aL:()=>Ai,aa:()=>Sa,ab:()=>qo,ac:()=>ko,af:()=>cc,ag:()=>lc,ah:()=>V,ak:()=>ft,al:()=>yi,an:()=>Ku,ao:()=>Vd,ap:()=>st,aq:()=>X,ar:()=>pn,as:()=>xt,at:()=>xa,au:()=>Zi,av:()=>He,aw:()=>mt,ax:()=>me,ay:()=>kc,az:()=>ee,b:()=>Hs,c:()=>k,d:()=>rt,e:()=>ce,f:()=>xc,g:()=>qu,h:()=>Nc,i:()=>Br,j:()=>Rl,k:()=>Qu,l:()=>Tl,m:()=>_a,n:()=>Na,o:()=>Ce,r:()=>Go,s:()=>ta,u:()=>lo});var c=R(1670),B=R(7748),$=R(8770),Le=R(8118),Fe=R(4929),Ie=R(4692);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},_e={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function de(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Be=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ge=de,dt=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new Le.Yd("@firebase/auth");function Ee(M,...g){be.logLevel<=Le.in.ERROR&&be.error(`Auth (${$.SDK_VERSION}): ${M}`,...g)}function xt(M,...g){throw nt(M,...g)}function mt(M,...g){return nt(M,...g)}function yt(M,g,C){const N=Object.assign(Object.assign({},Ge()),{[g]:C});return new B.LL("auth","Firebase",N).create(g,{appName:M.name})}function et(M,g,C){if(!(g instanceof C))throw C.name!==g.constructor.name&&xt(M,"argument-error"),yt(M,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nt(M,...g){if("string"!=typeof M){const C=g[0],N=[...g.slice(1)];return N[0]&&(N[0].appName=M.name),M._errorFactory.create(C,...N)}return dt.create(M,...g)}function me(M,g,...C){if(!M)throw nt(g,...C)}function De(M){const g="INTERNAL ASSERTION FAILED: "+M;throw Ee(g),new Error(g)}function st(M,g){M||De(g)}const ie=new Map;function ee(M){st(M instanceof Function,"Expected a class definition");let g=ie.get(M);return g?(st(g instanceof M,"Instance stored in cache mismatched with class"),g):(g=new M,ie.set(M,g),g)}function ge(){var M;return"undefined"!=typeof self&&(null===(M=self.location)||void 0===M?void 0:M.href)||""}function Ne(){return"http:"===Ae()||"https:"===Ae()}function Ae(){var M;return"undefined"!=typeof self&&(null===(M=self.location)||void 0===M?void 0:M.protocol)||null}class Se{constructor(g,C){this.shortDelay=g,this.longDelay=C,st(C>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Ve(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ne()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ye(M,g){st(M.emulator,"Emulator should always be set here");const{url:C}=M.emulator;return g?`${C}${g.startsWith("/")?g.slice(1):g}`:C}class it{static initialize(g,C,N){this.fetchImpl=g,C&&(this.headersImpl=C),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void De("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void De("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void De("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},St=new Se(3e4,6e4);function Ht(M,g){return M.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:M.tenantId}):g}function qt(M,g,C,N){return an.apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(M,g,C,N,pe={}){return Fn(M,pe,(0,c.Z)(function*(){let ze={},Ft={};N&&("GET"===g?Ft=N:ze={body:JSON.stringify(N)});const wn=(0,B.xO)(Object.assign({key:M.config.apiKey},Ft)).slice(1),Dr=yield M._getAdditionalHeaders();return Dr["Content-Type"]="application/json",M.languageCode&&(Dr["X-Firebase-Locale"]=M.languageCode),it.fetch()(Mn(M,M.config.apiHost,C,wn),Object.assign({method:g,headers:Dr,referrerPolicy:"no-referrer"},ze))}))})).apply(this,arguments)}function Fn(M,g,C){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(M,g,C){M._canInitEmulator=!1;const N=Object.assign(Object.assign({},lt),g);try{const pe=new z(M),ze=yield Promise.race([C(),pe.promise]);pe.clearNetworkTimeout();const Ft=yield ze.json();if("needConfirmation"in Ft)throw Rt(M,"account-exists-with-different-credential",Ft);if(ze.ok&&!("errorMessage"in Ft))return Ft;{const wn=ze.ok?Ft.errorMessage:Ft.error.message,[Dr,Ur]=wn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Dr)throw Rt(M,"credential-already-in-use",Ft);if("EMAIL_EXISTS"===Dr)throw Rt(M,"email-already-in-use",Ft);if("USER_DISABLED"===Dr)throw Rt(M,"user-disabled",Ft);const br=N[Dr]||Dr.toLowerCase().replace(/[_\s]+/g,"-");if(Ur)throw yt(M,br,Ur);xt(M,br)}}catch(pe){if(pe instanceof B.ZR)throw pe;xt(M,"network-request-failed")}})).apply(this,arguments)}function tr(M,g,C,N){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(M,g,C,N,pe={}){const ze=yield qt(M,g,C,N,pe);return"mfaPendingCredential"in ze&&xt(M,"multi-factor-auth-required",{_serverResponse:ze}),ze})).apply(this,arguments)}function Mn(M,g,C,N){const pe=`${g}${C}?${N}`;return M.config.emulator?Ye(M.config,pe):`${M.config.apiScheme}://${pe}`}class z{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((C,N)=>{this.timer=setTimeout(()=>N(mt(this.auth,"network-request-failed")),St.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rt(M,g,C){const N={appName:M.name};C.email&&(N.email=C.email),C.phoneNumber&&(N.phoneNumber=C.phoneNumber);const pe=mt(M,g,N);return pe.customData._tokenResponse=C,pe}function hn(){return(hn=(0,c.Z)(function*(M,g){return qt(M,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function bt(M,g){return rn.apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(M,g){return qt(M,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Et(M,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(M,g){return qt(M,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function nr(M){if(M)try{const g=new Date(Number(M));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Wn(){return(Wn=(0,c.Z)(function*(M,g=!1){const C=(0,B.m9)(M),N=yield C.getIdToken(g),pe=$n(N);me(pe&&pe.exp&&pe.auth_time&&pe.iat,C.auth,"internal-error");const ze="object"==typeof pe.firebase?pe.firebase:void 0,Ft=null==ze?void 0:ze.sign_in_provider;return{claims:pe,token:N,authTime:nr(En(pe.auth_time)),issuedAtTime:nr(En(pe.iat)),expirationTime:nr(En(pe.exp)),signInProvider:Ft||null,signInSecondFactor:(null==ze?void 0:ze.sign_in_second_factor)||null}})).apply(this,arguments)}function En(M){return 1e3*Number(M)}function $n(M){var g;const[C,N,pe]=M.split(".");if(void 0===C||void 0===N||void 0===pe)return Ee("JWT malformed, contained fewer than 3 sections"),null;try{const ze=(0,B.tV)(N);return ze?JSON.parse(ze):(Ee("Failed to decode base64 JWT payload"),null)}catch(ze){return Ee("Caught error parsing JWT payload as JSON",null===(g=ze)||void 0===g?void 0:g.toString()),null}}function Bn(M,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,c.Z)(function*(M,g,C=!1){if(C)return g;try{return yield g}catch(N){throw N instanceof B.ZR&&_r(N)&&M.auth.currentUser===M&&(yield M.auth.signOut()),N}})).apply(this,arguments)}function _r({code:M}){return"auth/user-disabled"===M||"auth/user-token-expired"===M}class pr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var C;if(g){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const pe=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,pe)}}schedule(g=!1){var C=this;if(!this.isRunning)return;const N=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield C.iteration()}),N)}iteration(){var g=this;return(0,c.Z)(function*(){var C;try{yield g.user.getIdToken(!0)}catch(N){return void("auth/network-request-failed"===(null===(C=N)||void 0===C?void 0:C.code)&&g.schedule(!0))}g.schedule()})()}}class zn{constructor(g,C){this.createdAt=g,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=nr(this.lastLoginAt),this.creationTime=nr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mr(M){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(M){var g;const C=M.auth,N=yield M.getIdToken(),pe=yield Bn(M,Et(C,{idToken:N}));me(null==pe?void 0:pe.users.length,C,"internal-error");const ze=pe.users[0];M._notifyReloadListener(ze);const Ft=null!==(g=ze.providerUserInfo)&&void 0!==g&&g.length?Un(ze.providerUserInfo):[],wn=vr(M.providerData,Ft),Dr=M.isAnonymous,Ur=!(M.email&&ze.passwordHash||null!=wn&&wn.length),br=!!Dr&&Ur,Bi={uid:ze.localId,displayName:ze.displayName||null,photoURL:ze.photoUrl||null,email:ze.email||null,emailVerified:ze.emailVerified||!1,phoneNumber:ze.phoneNumber||null,tenantId:ze.tenantId||null,providerData:wn,metadata:new zn(ze.createdAt,ze.lastLoginAt),isAnonymous:br};Object.assign(M,Bi)})).apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(M){const g=(0,B.m9)(M);yield Mr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function vr(M,g){return[...M.filter(N=>!g.some(pe=>pe.providerId===N.providerId)),...g]}function Un(M){return M.map(g=>{var{providerId:C}=g,N=(0,Fe._T)(g,["providerId"]);return{providerId:C,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}function Wt(){return(Wt=(0,c.Z)(function*(M,g){const C=yield Fn(M,{},(0,c.Z)(function*(){const N=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:pe,apiKey:ze}=M.config,Ft=Mn(M,pe,"/v1/token",`key=${ze}`),wn=yield M._getAdditionalHeaders();return wn["Content-Type"]="application/x-www-form-urlencoded",it.fetch()(Ft,{method:"POST",headers:wn,body:N})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class Tn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){me(g.idToken,"internal-error"),me(void 0!==g.idToken,"internal-error"),me(void 0!==g.refreshToken,"internal-error");const C="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function bn(M){const g=$n(M);return me(g,"internal-error"),me(void 0!==g.exp,"internal-error"),me(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,C)}getToken(g,C=!1){var N=this;return(0,c.Z)(function*(){return me(!N.accessToken||N.refreshToken,g,"user-token-expired"),C||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(g,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,C){var N=this;return(0,c.Z)(function*(){const{accessToken:pe,refreshToken:ze,expiresIn:Ft}=yield function In(M,g){return Wt.apply(this,arguments)}(g,C);N.updateTokensAndExpiration(pe,ze,Number(Ft))})()}updateTokensAndExpiration(g,C,N){this.refreshToken=C||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(g,C){const{refreshToken:N,accessToken:pe,expirationTime:ze}=C,Ft=new Tn;return N&&(me("string"==typeof N,"internal-error",{appName:g}),Ft.refreshToken=N),pe&&(me("string"==typeof pe,"internal-error",{appName:g}),Ft.accessToken=pe),ze&&(me("number"==typeof ze,"internal-error",{appName:g}),Ft.expirationTime=ze),Ft}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Tn,this.toJSON())}_performRefresh(){return De("not implemented")}}function Rn(M,g){me("string"==typeof M||void 0===M,"internal-error",{appName:g})}class Kn{constructor(g){var{uid:C,auth:N,stsTokenManager:pe}=g,ze=(0,Fe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=N,this.stsTokenManager=pe,this.accessToken=pe.accessToken,this.displayName=ze.displayName||null,this.email=ze.email||null,this.emailVerified=ze.emailVerified||!1,this.phoneNumber=ze.phoneNumber||null,this.photoURL=ze.photoURL||null,this.isAnonymous=ze.isAnonymous||!1,this.tenantId=ze.tenantId||null,this.providerData=ze.providerData?[...ze.providerData]:[],this.metadata=new zn(ze.createdAt||void 0,ze.lastLoginAt||void 0)}getIdToken(g){var C=this;return(0,c.Z)(function*(){const N=yield Bn(C,C.stsTokenManager.getToken(C.auth,g));return me(N,C.auth,"internal-error"),C.accessToken!==N&&(C.accessToken=N,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),N})()}getIdTokenResult(g){return function hr(M){return Wn.apply(this,arguments)}(this,g)}reload(){return function Zr(M){return gr.apply(this,arguments)}(this)}_assign(g){this!==g&&(me(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(C=>Object.assign({},C)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Kn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,C=!1){var N=this;return(0,c.Z)(function*(){let pe=!1;g.idToken&&g.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(g),pe=!0),C&&(yield Mr(N)),yield N.auth._persistUserIfCurrent(N),pe&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var g=this;return(0,c.Z)(function*(){const C=yield g.getIdToken();return yield Bn(g,function Vt(M,g){return hn.apply(this,arguments)}(g.auth,{idToken:C})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,C){var N,pe,ze,Ft,wn,Dr,Ur,br;const Bi=null!==(N=C.displayName)&&void 0!==N?N:void 0,ra=null!==(pe=C.email)&&void 0!==pe?pe:void 0,Qa=null!==(ze=C.phoneNumber)&&void 0!==ze?ze:void 0,nd=null!==(Ft=C.photoURL)&&void 0!==Ft?Ft:void 0,Fc=null!==(wn=C.tenantId)&&void 0!==wn?wn:void 0,rd=null!==(Dr=C._redirectEventId)&&void 0!==Dr?Dr:void 0,id=null!==(Ur=C.createdAt)&&void 0!==Ur?Ur:void 0,ya=null!==(br=C.lastLoginAt)&&void 0!==br?br:void 0,{uid:Bo,emailVerified:Bc,isAnonymous:xl,providerData:il,stsTokenManager:ia}=C;me(Bo&&ia,g,"internal-error");const zd=Tn.fromJSON(this.name,ia);me("string"==typeof Bo,g,"internal-error"),Rn(Bi,g.name),Rn(ra,g.name),me("boolean"==typeof Bc,g,"internal-error"),me("boolean"==typeof xl,g,"internal-error"),Rn(Qa,g.name),Rn(nd,g.name),Rn(Fc,g.name),Rn(rd,g.name),Rn(id,g.name),Rn(ya,g.name);const sa=new Kn({uid:Bo,auth:g,email:ra,emailVerified:Bc,displayName:Bi,isAnonymous:xl,photoURL:nd,phoneNumber:Qa,tenantId:Fc,stsTokenManager:zd,createdAt:id,lastLoginAt:ya});return il&&Array.isArray(il)&&(sa.providerData=il.map(Gs=>Object.assign({},Gs))),rd&&(sa._redirectEventId=rd),sa}static _fromIdTokenResponse(g,C,N=!1){return(0,c.Z)(function*(){const pe=new Tn;pe.updateFromServerResponse(C);const ze=new Kn({uid:C.localId,auth:g,stsTokenManager:pe,isAnonymous:N});return yield Mr(ze),ze})()}}class lr{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,C){var N=this;return(0,c.Z)(function*(){N.storage[g]=C})()}_get(g){var C=this;return(0,c.Z)(function*(){const N=C.storage[g];return void 0===N?null:N})()}_remove(g){var C=this;return(0,c.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}lr.type="NONE";const Xe=lr;function Te(M,g,C){return`firebase:${M}:${g}:${C}`}class tt{constructor(g,C,N){this.persistence=g,this.auth=C,this.userKey=N;const{config:pe,name:ze}=this.auth;this.fullUserKey=Te(this.userKey,pe.apiKey,ze),this.fullPersistenceKey=Te("persistence",pe.apiKey,ze),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const C=yield g.persistence._get(g.fullUserKey);return C?Kn._fromJSON(g.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var C=this;return(0,c.Z)(function*(){if(C.persistence===g)return;const N=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=g,N?C.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,C,N="authUser"){return(0,c.Z)(function*(){if(!C.length)return new tt(ee(Xe),g,N);const pe=(yield Promise.all(C.map(function(){var Ur=(0,c.Z)(function*(br){if(yield br._isAvailable())return br});return function(br){return Ur.apply(this,arguments)}}()))).filter(Ur=>Ur);let ze=pe[0]||ee(Xe);const Ft=Te(N,g.config.apiKey,g.name);let wn=null;for(const Ur of C)try{const br=yield Ur._get(Ft);if(br){const Bi=Kn._fromJSON(g,br);Ur!==ze&&(wn=Bi),ze=Ur;break}}catch(br){}const Dr=pe.filter(Ur=>Ur._shouldAllowMigration);return ze._shouldAllowMigration&&Dr.length?(ze=Dr[0],wn&&(yield ze._set(Ft,wn.toJSON())),yield Promise.all(C.map(function(){var Ur=(0,c.Z)(function*(br){if(br!==ze)try{yield br._remove(Ft)}catch(Bi){}});return function(br){return Ur.apply(this,arguments)}}())),new tt(ze,g,N)):new tt(ze,g,N)})()}}function Ue(M){const g=M.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(on(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Y(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Hn(g))return"Blackberry";if(Ot(g))return"Webos";if(je(g))return"Safari";if((g.includes("chrome/")||Nt(g))&&!g.includes("edge/"))return"Chrome";if(pn(g))return"Android";{const C=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,N=M.match(C);if(2===(null==N?void 0:N.length))return N[1]}return"Other"}function Y(M=(0,B.z$)()){return/firefox\//i.test(M)}function je(M=(0,B.z$)()){const g=M.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Nt(M=(0,B.z$)()){return/crios\//i.test(M)}function on(M=(0,B.z$)()){return/iemobile/i.test(M)}function pn(M=(0,B.z$)()){return/android/i.test(M)}function Hn(M=(0,B.z$)()){return/blackberry/i.test(M)}function Ot(M=(0,B.z$)()){return/webos/i.test(M)}function X(M=(0,B.z$)()){return/iphone|ipad|ipod/i.test(M)||/macintosh/i.test(M)&&/mobile/i.test(M)}function He(M=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(M)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(M)}function Sn(M=(0,B.z$)()){return X(M)||pn(M)||Ot(M)||Hn(M)||/windows phone/i.test(M)||on(M)}function Je(M,g=[]){let C;switch(M){case"Browser":C=Ue((0,B.z$)());break;case"Worker":C=`${Ue((0,B.z$)())}-${M}`;break;default:C=M}const N=g.length?g.join(","):"FirebaseCore-web";return`${C}/JsCore/${$.SDK_VERSION}/${N}`}class zt{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,C){const N=ze=>new Promise((Ft,wn)=>{try{Ft(g(ze))}catch(Dr){wn(Dr)}});N.onAbort=C,this.queue.push(N);const pe=this.queue.length-1;return()=>{this.queue[pe]=()=>Promise.resolve()}}runMiddleware(g){var C=this;return(0,c.Z)(function*(){var N;if(C.auth.currentUser===g)return;const pe=[];try{for(const ze of C.queue)yield ze(g),ze.onAbort&&pe.push(ze.onAbort)}catch(ze){pe.reverse();for(const Ft of pe)try{Ft()}catch(wn){}throw C.auth._errorFactory.create("login-blocked",{originalMessage:null===(N=ze)||void 0===N?void 0:N.message})}})()}}class un{constructor(g,C,N){this.app=g,this.heartbeatServiceProvider=C,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ct(this),this.idTokenSubscription=new ct(this),this.beforeStateQueue=new zt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(g,C){var N=this;return C&&(this._popupRedirectResolver=ee(C)),this._initializationPromise=this.queue((0,c.Z)(function*(){var pe,ze;if(!N._deleted&&(N.persistenceManager=yield tt.create(N,g),!N._deleted)){if(null!==(pe=N._popupRedirectResolver)&&void 0!==pe&&pe._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch(Ft){}yield N.initializeCurrentUser(C),N.lastNotifiedUid=(null===(ze=N.currentUser)||void 0===ze?void 0:ze.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const C=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||C){if(g.currentUser&&C&&g.currentUser.uid===C.uid)return g._currentUser._assign(C),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(C,!0)}})()}initializeCurrentUser(g){var C=this;return(0,c.Z)(function*(){var N;const pe=yield C.assertedPersistence.getCurrentUser();let ze=pe,Ft=!1;if(g&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const wn=null===(N=C.redirectUser)||void 0===N?void 0:N._redirectEventId,Dr=null==ze?void 0:ze._redirectEventId,Ur=yield C.tryRedirectSignIn(g);(!wn||wn===Dr)&&(null==Ur?void 0:Ur.user)&&(ze=Ur.user,Ft=!0)}if(!ze)return C.directlySetCurrentUser(null);if(!ze._redirectEventId){if(Ft)try{yield C.beforeStateQueue.runMiddleware(ze)}catch(wn){ze=pe,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(wn))}return ze?C.reloadAndSetCurrentUserOrClear(ze):C.directlySetCurrentUser(null)}return me(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===ze._redirectEventId?C.directlySetCurrentUser(ze):C.reloadAndSetCurrentUserOrClear(ze)})()}tryRedirectSignIn(g){var C=this;return(0,c.Z)(function*(){let N=null;try{N=yield C._popupRedirectResolver._completeRedirectFn(C,g,!0)}catch(pe){yield C._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(g){var C=this;return(0,c.Z)(function*(){var N;try{yield Mr(g)}catch(pe){if("auth/network-request-failed"!==(null===(N=pe)||void 0===N?void 0:N.code))return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function qe(){if("undefined"==typeof navigator)return null;const M=navigator;return M.languages&&M.languages[0]||M.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var C=this;return(0,c.Z)(function*(){const N=g?(0,B.m9)(g):null;return N&&me(N.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(N&&N._clone(C))})()}_updateCurrentUser(g,C=!1){var N=this;return(0,c.Z)(function*(){if(!N._deleted)return g&&me(N.tenantId===g.tenantId,N,"tenant-id-mismatch"),C||(yield N.beforeStateQueue.runMiddleware(g)),N.queue((0,c.Z)(function*(){yield N.directlySetCurrentUser(g),N.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var C=this;return this.queue((0,c.Z)(function*(){yield C.assertedPersistence.setPersistence(ee(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,C,N){return this.registerStateListener(this.authStateSubscription,g,C,N)}beforeAuthStateChanged(g,C){return this.beforeStateQueue.pushCallback(g,C)}onIdTokenChanged(g,C,N){return this.registerStateListener(this.idTokenSubscription,g,C,N)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,C){var N=this;return(0,c.Z)(function*(){const pe=yield N.getOrInitRedirectPersistenceManager(C);return null===g?pe.removeCurrentUser():pe.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var C=this;return(0,c.Z)(function*(){if(!C.redirectPersistenceManager){const N=g&&ee(g)||C._popupRedirectResolver;me(N,C,"argument-error"),C.redirectPersistenceManager=yield tt.create(C,[ee(N._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(g){var C=this;return(0,c.Z)(function*(){var N,pe;return C._isInitialized&&(yield C.queue((0,c.Z)(function*(){}))),(null===(N=C._currentUser)||void 0===N?void 0:N._redirectEventId)===g?C._currentUser:(null===(pe=C.redirectUser)||void 0===pe?void 0:pe._redirectEventId)===g?C.redirectUser:null})()}_persistUserIfCurrent(g){var C=this;return(0,c.Z)(function*(){if(g===C.currentUser)return C.queue((0,c.Z)(function*(){return C.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(C=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,C,N,pe){if(this._deleted)return()=>{};const ze="function"==typeof C?C:C.next.bind(C),Ft=this._isInitialized?Promise.resolve():this._initializationPromise;return me(Ft,this,"internal-error"),Ft.then(()=>ze(this.currentUser)),"function"==typeof C?g.addObserver(C,N,pe):g.addObserver(C)}directlySetCurrentUser(g){var C=this;return(0,c.Z)(function*(){C.currentUser&&C.currentUser!==g&&C._currentUser._stopProactiveRefresh(),g&&C.isProactiveRefreshEnabled&&g._startProactiveRefresh(),C.currentUser=g,g?yield C.assertedPersistence.setCurrentUser(g):yield C.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Je(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var C;const N={"X-Client-Version":g.clientVersion};g.app.options.appId&&(N["X-Firebase-gmpid"]=g.app.options.appId);const pe=yield null===(C=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return pe&&(N["X-Firebase-Client"]=pe),N})()}}function xn(M){return(0,B.m9)(M)}class ct{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(C=>this.observer=C)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Z(M,g,C){const N=xn(M);me(N._canInitEmulator,N,"emulator-config-failed"),me(/^https?:\/\//.test(g),N,"invalid-emulator-scheme");const pe=!(null==C||!C.disableWarnings),ze=x(g),{host:Ft,port:wn}=function j(M){const g=x(M),C=/(\/\/)?([^?#/]+)/.exec(M.substr(g.length));if(!C)return{host:"",port:null};const N=C[2].split("@").pop()||"",pe=/^(\[[^\]]+\])(:|$)/.exec(N);if(pe){const ze=pe[1];return{host:ze,port:ye(N.substr(ze.length+1))}}{const[ze,Ft]=N.split(":");return{host:ze,port:ye(Ft)}}}(g),Dr=null===wn?"":`:${wn}`;N.config.emulator={url:`${ze}//${Ft}${Dr}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:Ft,port:wn,protocol:ze.replace(":",""),options:Object.freeze({disableWarnings:pe})}),pe||function Ct(){function M(){const g=document.createElement("p"),C=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",M):M())}()}function x(M){const g=M.indexOf(":");return g<0?"":M.substr(0,g+1)}function ye(M){if(!M)return null;const g=Number(M);return isNaN(g)?null:g}class It{constructor(g,C){this.providerId=g,this.signInMethod=C}toJSON(){return De("not implemented")}_getIdTokenResponse(g){return De("not implemented")}_linkToIdToken(g,C){return De("not implemented")}_getReauthenticationResolver(g){return De("not implemented")}}function _n(M,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(M,g){return qt(M,"POST","/v1/accounts:resetPassword",Ht(M,g))})).apply(this,arguments)}function cr(M,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(M,g){return qt(M,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Rr(M,g){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(M,g){return qt(M,"POST","/v1/accounts:update",Ht(M,g))})).apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(M,g){return tr(M,"POST","/v1/accounts:signInWithPassword",Ht(M,g))})).apply(this,arguments)}function li(M,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(M,g){return qt(M,"POST","/v1/accounts:sendOobCode",Ht(M,g))})).apply(this,arguments)}function se(M,g){return Re.apply(this,arguments)}function Re(){return(Re=(0,c.Z)(function*(M,g){return li(M,g)})).apply(this,arguments)}function pt(M,g){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.Z)(function*(M,g){return li(M,g)})).apply(this,arguments)}function $t(M,g){return we.apply(this,arguments)}function we(){return(we=(0,c.Z)(function*(M,g){return li(M,g)})).apply(this,arguments)}function ut(M,g){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(M,g){return li(M,g)})).apply(this,arguments)}function en(){return(en=(0,c.Z)(function*(M,g){return tr(M,"POST","/v1/accounts:signInWithEmailLink",Ht(M,g))})).apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(M,g){return tr(M,"POST","/v1/accounts:signInWithEmailLink",Ht(M,g))})).apply(this,arguments)}class or extends It{constructor(g,C,N,pe=null){super("password",N),this._email=g,this._password=C,this._tenantId=pe}static _fromEmailAndPassword(g,C){return new or(g,C,"password")}static _fromEmailAndCode(g,C,N=null){return new or(g,C,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const C="string"==typeof g?JSON.parse(g):g;if((null==C?void 0:C.email)&&(null==C?void 0:C.password)){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(g){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return function jr(M,g){return Ii.apply(this,arguments)}(g,{returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function jt(M,g){return en.apply(this,arguments)}(g,{email:C._email,oobCode:C._password});default:xt(g,"internal-error")}})()}_linkToIdToken(g,C){var N=this;return(0,c.Z)(function*(){switch(N.signInMethod){case"password":return cr(g,{idToken:C,returnSecureToken:!0,email:N._email,password:N._password});case"emailLink":return function An(M,g){return Zn.apply(this,arguments)}(g,{idToken:C,email:N._email,oobCode:N._password});default:xt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ai(M,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(M,g){return tr(M,"POST","/v1/accounts:signInWithIdp",Ht(M,g))})).apply(this,arguments)}class bi extends It{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const C=new bi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(C.idToken=g.idToken),g.accessToken&&(C.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(C.nonce=g.nonce),g.pendingToken&&(C.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(C.accessToken=g.oauthToken,C.secret=g.oauthTokenSecret):xt("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const C="string"==typeof g?JSON.parse(g):g,{providerId:N,signInMethod:pe}=C,ze=(0,Fe._T)(C,["providerId","signInMethod"]);if(!N||!pe)return null;const Ft=new bi(N,pe);return Ft.idToken=ze.idToken||void 0,Ft.accessToken=ze.accessToken||void 0,Ft.secret=ze.secret,Ft.nonce=ze.nonce,Ft.pendingToken=ze.pendingToken||null,Ft}_getIdTokenResponse(g){return ai(g,this.buildRequest())}_linkToIdToken(g,C){const N=this.buildRequest();return N.idToken=C,ai(g,N)}_getReauthenticationResolver(g){const C=this.buildRequest();return C.autoCreate=!1,ai(g,C)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),g.postBody=(0,B.xO)(C)}return g}}function Ys(M,g){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(M,g){return qt(M,"POST","/v1/accounts:sendVerificationCode",Ht(M,g))})).apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(M,g){return tr(M,"POST","/v1/accounts:signInWithPhoneNumber",Ht(M,g))})).apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(M,g){const C=yield tr(M,"POST","/v1/accounts:signInWithPhoneNumber",Ht(M,g));if(C.temporaryProof)throw Rt(M,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const Bs={USER_NOT_FOUND:"user-not-found"};function Ki(){return(Ki=(0,c.Z)(function*(M,g){return tr(M,"POST","/v1/accounts:signInWithPhoneNumber",Ht(M,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Bs)})).apply(this,arguments)}class vt extends It{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,C){return new vt({verificationId:g,verificationCode:C})}static _fromTokenResponse(g,C){return new vt({phoneNumber:g,temporaryProof:C})}_getIdTokenResponse(g){return function Ti(M,g){return Pi.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,C){return function qs(M,g){return Ss.apply(this,arguments)}(g,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Us(M,g){return Ki.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:C,verificationId:N,verificationCode:pe}=this.params;return g&&C?{temporaryProof:g,phoneNumber:C}:{sessionInfo:N,code:pe}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:C,verificationCode:N,phoneNumber:pe,temporaryProof:ze}=g;return N||C||pe||ze?new vt({verificationId:C,verificationCode:N,phoneNumber:pe,temporaryProof:ze}):null}}class Qt{constructor(g){var C,N,pe,ze,Ft,wn;const Dr=(0,B.zd)((0,B.pd)(g)),Ur=null!==(C=Dr.apiKey)&&void 0!==C?C:null,br=null!==(N=Dr.oobCode)&&void 0!==N?N:null,Bi=function gt(M){switch(M){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(pe=Dr.mode)&&void 0!==pe?pe:null);me(Ur&&br&&Bi,"argument-error"),this.apiKey=Ur,this.operation=Bi,this.code=br,this.continueUrl=null!==(ze=Dr.continueUrl)&&void 0!==ze?ze:null,this.languageCode=null!==(Ft=Dr.languageCode)&&void 0!==Ft?Ft:null,this.tenantId=null!==(wn=Dr.tenantId)&&void 0!==wn?wn:null}static parseLink(g){const C=function kt(M){const g=(0,B.zd)((0,B.pd)(M)).link,C=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,N=(0,B.zd)((0,B.pd)(M)).deep_link_id;return(N?(0,B.zd)((0,B.pd)(N)).link:null)||N||C||g||M}(g);try{return new Qt(C)}catch(N){return null}}}class Vn{constructor(){this.providerId=Vn.PROVIDER_ID}static credential(g,C){return or._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const N=Qt.parseLink(C);return me(N,"argument-error"),or._fromEmailAndCode(g,N.code,N.tenantId)}}Vn.PROVIDER_ID="password",Vn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Vn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ar{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ei extends Ar{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Sr extends ei{static credentialFromJSON(g){const C="string"==typeof g?JSON.parse(g):g;return me("providerId"in C&&"signInMethod"in C,"argument-error"),bi._fromParams(C)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return me(g.idToken||g.accessToken,"argument-error"),bi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Sr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Sr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:N,oauthTokenSecret:pe,pendingToken:ze,nonce:Ft,providerId:wn}=g;if(!N&&!pe&&!C&&!ze||!wn)return null;try{return new Sr(wn)._credential({idToken:C,accessToken:N,nonce:Ft,pendingToken:ze})}catch(Dr){return null}}}class Xr extends ei{constructor(){super("facebook.com")}static credential(g){return bi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return Xr.credentialFromTaggedObject(g)}static credentialFromError(g){return Xr.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return Xr.credential(g.oauthAccessToken)}catch(C){return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Xr.PROVIDER_ID="facebook.com";class Xi extends ei{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return bi._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return Xi.credentialFromTaggedObject(g)}static credentialFromError(g){return Xi.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:N}=g;if(!C&&!N)return null;try{return Xi.credential(C,N)}catch(pe){return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com",Xi.PROVIDER_ID="google.com";class Pr extends ei{constructor(){super("github.com")}static credential(g){return bi._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return Pr.credentialFromTaggedObject(g)}static credentialFromError(g){return Pr.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return Pr.credential(g.oauthAccessToken)}catch(C){return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com",Pr.PROVIDER_ID="github.com";class Ai extends It{constructor(g,C){super(g,g),this.pendingToken=C}_getIdTokenResponse(g){return ai(g,this.buildRequest())}_linkToIdToken(g,C){const N=this.buildRequest();return N.idToken=C,ai(g,N)}_getReauthenticationResolver(g){const C=this.buildRequest();return C.autoCreate=!1,ai(g,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const C="string"==typeof g?JSON.parse(g):g,{providerId:N,signInMethod:pe,pendingToken:ze}=C;return N&&pe&&ze&&N===pe?new Ai(N,ze):null}static _create(g,C){return new Ai(g,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hs extends Ar{constructor(g){me(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return hs.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return hs.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const C=Ai.fromJSON(g);return me(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:C,providerId:N}=g;if(!C||!N)return null;try{return Ai._create(N,C)}catch(pe){return null}}}class Rs extends ei{constructor(){super("twitter.com")}static credential(g,C){return bi._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return Rs.credentialFromTaggedObject(g)}static credentialFromError(g){return Rs.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:N}=g;if(!C||!N)return null;try{return Rs.credential(C,N)}catch(pe){return null}}}function Vi(M,g){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(M,g){return tr(M,"POST","/v1/accounts:signUp",Ht(M,g))})).apply(this,arguments)}Rs.TWITTER_SIGN_IN_METHOD="twitter.com",Rs.PROVIDER_ID="twitter.com";class ws{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,C,N,pe=!1){return(0,c.Z)(function*(){const ze=yield Kn._fromIdTokenResponse(g,N,pe),Ft=fs(N);return new ws({user:ze,providerId:Ft,_tokenResponse:N,operationType:C})})()}static _forOperation(g,C,N){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(N,!0);const pe=fs(N);return new ws({user:g,providerId:pe,_tokenResponse:N,operationType:C})})()}}function fs(M){return M.providerId?M.providerId:"phoneNumber"in M?"phone":null}function ps(M){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(M){var g;const C=xn(M);if(yield C._initializationPromise,null!==(g=C.currentUser)&&void 0!==g&&g.isAnonymous)return new ws({user:C.currentUser,providerId:null,operationType:"signIn"});const N=yield Vi(C,{returnSecureToken:!0}),pe=yield ws._fromIdTokenResponse(C,"signIn",N,!0);return yield C._updateCurrentUser(pe.user),pe})).apply(this,arguments)}class fi extends B.ZR{constructor(g,C,N,pe){var ze;super(C.code,C.message),this.operationType=N,this.user=pe,Object.setPrototypeOf(this,fi.prototype),this.customData={appName:g.name,tenantId:null!==(ze=g.tenantId)&&void 0!==ze?ze:void 0,_serverResponse:C.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(g,C,N,pe){return new fi(g,C,N,pe)}}function Ze(M,g,C,N){return("reauthenticate"===g?C._getReauthenticationResolver(M):C._getIdTokenResponse(M)).catch(ze=>{throw"auth/multi-factor-auth-required"===ze.code?fi._fromErrorAndOperation(M,ze,g,N):ze})}function ke(M){return new Set(M.map(({providerId:g})=>g).filter(g=>!!g))}function ft(M,g){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(M,g){const C=(0,B.m9)(M);yield Nn(!0,C,g);const{providerUserInfo:N}=yield bt(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[g]}),pe=ke(N||[]);return C.providerData=C.providerData.filter(ze=>pe.has(ze.providerId)),pe.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C})).apply(this,arguments)}function Zt(M,g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(M,g,C=!1){const N=yield Bn(M,g._linkToIdToken(M.auth,yield M.getIdToken()),C);return ws._forOperation(M,"link",N)})).apply(this,arguments)}function Nn(M,g,C){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(M,g,C){yield Mr(g);const pe=!1===M?"provider-already-linked":"no-such-provider";me(ke(g.providerData).has(C)===M,g.auth,pe)})).apply(this,arguments)}function Cr(M,g){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(M,g,C=!1){var N;const{auth:pe}=M,ze="reauthenticate";try{const Ft=yield Bn(M,Ze(pe,ze,g,M),C);me(Ft.idToken,pe,"internal-error");const wn=$n(Ft.idToken);me(wn,pe,"internal-error");const{sub:Dr}=wn;return me(M.uid===Dr,pe,"user-mismatch"),ws._forOperation(M,ze,Ft)}catch(Ft){throw"auth/user-not-found"===(null===(N=Ft)||void 0===N?void 0:N.code)&&xt(pe,"user-mismatch"),Ft}})).apply(this,arguments)}function Qr(M,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(M,g,C=!1){const N="signIn",pe=yield Ze(M,N,g),ze=yield ws._fromIdTokenResponse(M,N,pe);return C||(yield M._updateCurrentUser(ze.user)),ze})).apply(this,arguments)}function ni(M,g){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(M,g){return Qr(xn(M),g)})).apply(this,arguments)}function Er(M,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(M,g){const C=(0,B.m9)(M);return yield Nn(!1,C,g.providerId),Zt(C,g)})).apply(this,arguments)}function Si(M,g){return no.apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(M,g){return Cr((0,B.m9)(M),g)})).apply(this,arguments)}function _s(M,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(M,g){return tr(M,"POST","/v1/accounts:signInWithCustomToken",Ht(M,g))})).apply(this,arguments)}function Li(M,g){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(M,g){const C=xn(M),N=yield _s(C,{token:g,returnSecureToken:!0}),pe=yield ws._fromIdTokenResponse(C,"signIn",N);return yield C._updateCurrentUser(pe.user),pe})).apply(this,arguments)}class wo{constructor(g,C){this.factorId=g,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(g,C){return"phoneInfo"in C?yn._fromServerResponse(g,C):xt(g,"internal-error")}}class yn extends wo{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,C){return new yn(C)}}function $r(M,g,C){var N;me((null===(N=C.url)||void 0===N?void 0:N.length)>0,M,"invalid-continue-uri"),me(void 0===C.dynamicLinkDomain||C.dynamicLinkDomain.length>0,M,"invalid-dynamic-link-domain"),g.continueUrl=C.url,g.dynamicLinkDomain=C.dynamicLinkDomain,g.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(me(C.iOS.bundleId.length>0,M,"missing-ios-bundle-id"),g.iOSBundleId=C.iOS.bundleId),C.android&&(me(C.android.packageName.length>0,M,"missing-android-pkg-name"),g.androidInstallApp=C.android.installApp,g.androidMinimumVersionCode=C.android.minimumVersion,g.androidPackageName=C.android.packageName)}function Do(M,g,C){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(M,g,C){const N=(0,B.m9)(M),pe={requestType:"PASSWORD_RESET",email:g};C&&$r(N,pe,C),yield pt(N,pe)})).apply(this,arguments)}function q(M,g,C){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(M,g,C){yield _n((0,B.m9)(M),{oobCode:g,newPassword:C})})).apply(this,arguments)}function U(M,g){return ae.apply(this,arguments)}function ae(){return(ae=(0,c.Z)(function*(M,g){yield Rr((0,B.m9)(M),{oobCode:g})})).apply(this,arguments)}function Bt(M,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(M,g){const C=(0,B.m9)(M),N=yield _n(C,{oobCode:g}),pe=N.requestType;switch(me(pe,C,"internal-error"),pe){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(N.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(N.mfaInfo,C,"internal-error");default:me(N.email,C,"internal-error")}let ze=null;return N.mfaInfo&&(ze=wo._fromServerResponse(xn(C),N.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.newEmail:N.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.email:N.newEmail)||null,multiFactorInfo:ze},operation:pe}})).apply(this,arguments)}function ur(M,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,c.Z)(function*(M,g){const{data:C}=yield Bt((0,B.m9)(M),g);return C.email})).apply(this,arguments)}function te(M,g,C){return D.apply(this,arguments)}function D(){return(D=(0,c.Z)(function*(M,g,C){const N=xn(M),pe=yield Vi(N,{returnSecureToken:!0,email:g,password:C}),ze=yield ws._fromIdTokenResponse(N,"signIn",pe);return yield N._updateCurrentUser(ze.user),ze})).apply(this,arguments)}function H(M,g,C){return ni((0,B.m9)(M),Vn.credential(g,C))}function ot(M,g,C){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,c.Z)(function*(M,g,C){const N=(0,B.m9)(M),pe={requestType:"EMAIL_SIGNIN",email:g};me(C.handleCodeInApp,N,"argument-error"),C&&$r(N,pe,C),yield $t(N,pe)})).apply(this,arguments)}function Hr(M,g){const C=Qt.parseLink(g);return"EMAIL_SIGNIN"===(null==C?void 0:C.operation)}function pi(M,g,C){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(M,g,C){const N=(0,B.m9)(M),pe=Vn.credentialWithLink(g,C||ge());return me(pe._tenantId===(N.tenantId||null),N,"tenant-id-mismatch"),ni(N,pe)})).apply(this,arguments)}function ys(M,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(M,g){return qt(M,"POST","/v1/accounts:createAuthUri",Ht(M,g))})).apply(this,arguments)}function Sa(M,g){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(M,g){const N={identifier:g,continueUri:Ne()?ge():"http://localhost"},{signinMethods:pe}=yield ys((0,B.m9)(M),N);return pe||[]})).apply(this,arguments)}function qo(M,g){return ac.apply(this,arguments)}function ac(){return(ac=(0,c.Z)(function*(M,g){const C=(0,B.m9)(M),pe={requestType:"VERIFY_EMAIL",idToken:yield M.getIdToken()};g&&$r(C.auth,pe,g);const{email:ze}=yield se(C.auth,pe);ze!==M.email&&(yield M.reload())})).apply(this,arguments)}function ko(M,g,C){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(M,g,C){const N=(0,B.m9)(M),ze={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield M.getIdToken(),newEmail:g};C&&$r(N.auth,ze,C);const{email:Ft}=yield ut(N.auth,ze);Ft!==M.email&&(yield M.reload())})).apply(this,arguments)}function Il(M,g){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,c.Z)(function*(M,g){return qt(M,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function cc(M,g){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(M,{displayName:g,photoURL:C}){if(void 0===g&&void 0===C)return;const N=(0,B.m9)(M),ze={idToken:yield N.getIdToken(),displayName:g,photoUrl:C,returnSecureToken:!0},Ft=yield Bn(N,Il(N.auth,ze));N.displayName=Ft.displayName||null,N.photoURL=Ft.photoUrl||null;const wn=N.providerData.find(({providerId:Dr})=>"password"===Dr);wn&&(wn.displayName=N.displayName,wn.photoURL=N.photoURL),yield N._updateTokensIfNecessary(Ft)})).apply(this,arguments)}function lc(M,g){return T((0,B.m9)(M),g,null)}function V(M,g){return T((0,B.m9)(M),null,g)}function T(M,g,C){return re.apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(M,g,C){const{auth:N}=M,ze={idToken:yield M.getIdToken(),returnSecureToken:!0};g&&(ze.email=g),C&&(ze.password=C);const Ft=yield Bn(M,cr(N,ze));yield M._updateTokensIfNecessary(Ft,!0)})).apply(this,arguments)}class Tt{constructor(g,C,N={}){this.isNewUser=g,this.providerId=C,this.profile=N}}class Xt extends Tt{constructor(g,C,N,pe){super(g,C,N),this.username=pe}}class On extends Tt{constructor(g,C){super(g,"facebook.com",C)}}class wr extends Xt{constructor(g,C){super(g,"github.com",C,"string"==typeof(null==C?void 0:C.login)?null==C?void 0:C.login:null)}}class di extends Tt{constructor(g,C){super(g,"google.com",C)}}class _i extends Xt{constructor(g,C,N){super(g,"twitter.com",C,N)}}function yi(M){const{user:g,_tokenResponse:C}=M;return g.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function Pe(M){var g,C;if(!M)return null;const{providerId:N}=M,pe=M.rawUserInfo?JSON.parse(M.rawUserInfo):{},ze=M.isNewUser||"identitytoolkit#SignupNewUserResponse"===M.kind;if(!N&&(null==M?void 0:M.idToken)){const Ft=null===(C=null===(g=$n(M.idToken))||void 0===g?void 0:g.firebase)||void 0===C?void 0:C.sign_in_provider;if(Ft)return new Tt(ze,"anonymous"!==Ft&&"custom"!==Ft?Ft:null)}if(!N)return null;switch(N){case"facebook.com":return new On(ze,pe);case"github.com":return new wr(ze,pe);case"google.com":return new di(ze,pe);case"twitter.com":return new _i(ze,pe,M.screenName||null);case"custom":case"anonymous":return new Tt(ze,null);default:return new Tt(ze,N,pe)}}(C)}class Ji{constructor(g,C,N){this.type=g,this.credential=C,this.auth=N}static _fromIdtoken(g,C){return new Ji("enroll",g,C)}static _fromMfaPendingCredential(g){return new Ji("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var C,N;if(null!=g&&g.multiFactorSession){if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.pendingCredential)return Ji._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(N=g.multiFactorSession)&&void 0!==N&&N.idToken)return Ji._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ua{constructor(g,C,N){this.session=g,this.hints=C,this.signInResolver=N}static _fromError(g,C){const N=xn(g),pe=C.customData._serverResponse,ze=(pe.mfaInfo||[]).map(wn=>wo._fromServerResponse(N,wn));me(pe.mfaPendingCredential,N,"internal-error");const Ft=Ji._fromMfaPendingCredential(pe.mfaPendingCredential);return new ua(Ft,ze,function(){var wn=(0,c.Z)(function*(Dr){const Ur=yield Dr._process(N,Ft);delete pe.mfaInfo,delete pe.mfaPendingCredential;const br=Object.assign(Object.assign({},pe),{idToken:Ur.idToken,refreshToken:Ur.refreshToken});switch(C.operationType){case"signIn":const Bi=yield ws._fromIdTokenResponse(N,C.operationType,br);return yield N._updateCurrentUser(Bi.user),Bi;case"reauthenticate":return me(C.user,N,"internal-error"),ws._forOperation(C.user,C.operationType,br);default:xt(N,"internal-error")}});return function(Dr){return wn.apply(this,arguments)}}())}resolveSignIn(g){var C=this;return(0,c.Z)(function*(){const N=g;return C.signInResolver(N)})()}}function Ku(M,g){var C;const N=(0,B.m9)(M),pe=g;return me(g.customData.operationType,N,"argument-error"),me(null===(C=pe.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,N,"argument-error"),ua._fromError(N,pe)}function da(M,g){return qt(M,"POST","/v2/accounts/mfaEnrollment:start",Ht(M,g))}class Cl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(N=>wo._fromServerResponse(g.auth,N)))})}static _fromUser(g){return new Cl(g)}getSession(){var g=this;return(0,c.Z)(function*(){return Ji._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,C){var N=this;return(0,c.Z)(function*(){const pe=g,ze=yield N.getSession(),Ft=yield Bn(N.user,pe._process(N.user.auth,ze,C));return yield N.user._updateTokensIfNecessary(Ft),N.user.reload()})()}unenroll(g){var C=this;return(0,c.Z)(function*(){var N;const pe="string"==typeof g?g:g.uid,ze=yield C.user.getIdToken(),Ft=yield Bn(C.user,function Ud(M,g){return qt(M,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(M,g))}(C.user.auth,{idToken:ze,mfaEnrollmentId:pe}));C.enrolledFactors=C.enrolledFactors.filter(({uid:wn})=>wn!==pe),yield C.user._updateTokensIfNecessary(Ft);try{yield C.user.reload()}catch(wn){if("auth/user-token-expired"!==(null===(N=wn)||void 0===N?void 0:N.code))throw wn}})()}}const wl=new WeakMap;function Vd(M){const g=(0,B.m9)(M);return wl.has(g)||wl.set(g,Cl._fromUser(g)),wl.get(g)}const ha="__sak";class Qc{constructor(g,C){this.storageRetriever=g,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(ha,"1"),this.storage.removeItem(ha),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,C){return this.storage.setItem(g,JSON.stringify(C)),Promise.resolve()}_get(g){const C=this.storage.getItem(g);return Promise.resolve(C?JSON.parse(C):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}class bs extends Qc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function uc(){const M=(0,B.z$)();return je(M)||X(M)}()&&function Qe(){try{return!(!window||window===window.top)}catch(M){return!1}}(),this.fallbackToPolling=Sn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const N=this.storage.getItem(C),pe=this.localCache[C];N!==pe&&g(C,pe,N)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((Ft,wn,Dr)=>{this.notifyListeners(Ft,Dr)});const N=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ft=this.storage.getItem(N);if(g.newValue!==Ft)null!==g.newValue?this.storage.setItem(N,g.newValue):this.storage.removeItem(N);else if(this.localCache[N]===g.newValue&&!C)return}const pe=()=>{const Ft=this.storage.getItem(N);!C&&this.localCache[N]===Ft||this.notifyListeners(N,Ft)},ze=this.storage.getItem(N);!function Ut(){return(0,B.w1)()&&10===document.documentMode}()||ze===g.newValue||g.newValue===g.oldValue?pe():setTimeout(pe,10)}notifyListeners(g,C){this.localCache[g]=C;const N=this.listeners[g];if(N)for(const pe of Array.from(N))pe(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var N=()=>super._set,pe=this;return(0,c.Z)(function*(){yield N().call(pe,g,C),pe.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,N=this;return(0,c.Z)(function*(){const pe=yield C().call(N,g);return N.localCache[g]=JSON.stringify(pe),pe})()}_remove(g){var C=()=>super._remove,N=this;return(0,c.Z)(function*(){yield C().call(N,g),delete N.localCache[g]})()}}bs.type="LOCAL";const Hs=bs;class Xo extends Qc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}Xo.type="SESSION";const _o=Xo;class Pn{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(pe=>pe.isListeningto(g));if(C)return C;const N=new Pn(g);return this.receivers.push(N),N}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,c.Z)(function*(){const N=g,{eventId:pe,eventType:ze,data:Ft}=N.data,wn=C.handlersMap[ze];if(null==wn||!wn.size)return;N.ports[0].postMessage({status:"ack",eventId:pe,eventType:ze});const Dr=Array.from(wn).map(function(){var br=(0,c.Z)(function*(Bi){return Bi(N.origin,Ft)});return function(Bi){return br.apply(this,arguments)}}()),Ur=yield function bl(M){return Promise.all(M.map(function(){var g=(0,c.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(N){return{fulfilled:!1,reason:N}}});return function(C){return g.apply(this,arguments)}}()))}(Dr);N.ports[0].postMessage({status:"done",eventId:pe,eventType:ze,response:Ur})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function qi(M="",g=10){let C="";for(let N=0;N<g;N++)C+=Math.floor(10*Math.random());return M+C}Pn.receivers=[];class To{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,C,N=50){var pe=this;return(0,c.Z)(function*(){const ze="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ze)throw new Error("connection_unavailable");let Ft,wn;return new Promise((Dr,Ur)=>{const br=qi("",20);ze.port1.start();const Bi=setTimeout(()=>{Ur(new Error("unsupported_event"))},N);wn={messageChannel:ze,onMessage(ra){const Qa=ra;if(Qa.data.eventId===br)switch(Qa.data.status){case"ack":clearTimeout(Bi),Ft=setTimeout(()=>{Ur(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ft),Dr(Qa.data.response);break;default:clearTimeout(Bi),clearTimeout(Ft),Ur(new Error("invalid_response"))}}},pe.handlers.add(wn),ze.port1.addEventListener("message",wn.onMessage),pe.target.postMessage({eventType:g,eventId:br,data:C},[ze.port2])}).finally(()=>{wn&&pe.removeMessageHandler(wn)})})()}}function gs(){return window}function ar(){return void 0!==gs().WorkerGlobalScope&&"function"==typeof gs().importScripts}function rr(){return(rr=(0,c.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(M){return null}})).apply(this,arguments)}const vs="firebaseLocalStorageDb",dc="firebaseLocalStorage",Wo="fbase_key";class ro{constructor(g){this.request=g}toPromise(){return new Promise((g,C)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function Zs(M,g){return M.transaction([dc],g?"readwrite":"readonly").objectStore(dc)}function Ka(){const M=indexedDB.open(vs,1);return new Promise((g,C)=>{M.addEventListener("error",()=>{C(M.error)}),M.addEventListener("upgradeneeded",()=>{const N=M.result;try{N.createObjectStore(dc,{keyPath:Wo})}catch(pe){C(pe)}}),M.addEventListener("success",(0,c.Z)(function*(){const N=M.result;N.objectStoreNames.contains(dc)?g(N):(N.close(),yield function Yu(){const M=indexedDB.deleteDatabase(vs);return new ro(M).toPromise()}(),g(yield Ka()))}))})}function fa(M,g,C){return hc.apply(this,arguments)}function hc(){return(hc=(0,c.Z)(function*(M,g,C){const N=Zs(M,!0).put({[Wo]:g,value:C});return new ro(N).toPromise()})).apply(this,arguments)}function Sc(){return(Sc=(0,c.Z)(function*(M,g){const C=Zs(M,!1).get(g),N=yield new ro(C).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function zr(M,g){const C=Zs(M,!0).delete(g);return new ro(C).toPromise()}class Kr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Ka()),g.db})()}_withRetries(g){var C=this;return(0,c.Z)(function*(){let N=0;for(;;)try{const pe=yield C._openDb();return yield g(pe)}catch(pe){if(N++>3)throw pe;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return ar()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Pn._getInstance(function fn(){return ar()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(N,pe){return{keyProcessed:(yield g._poll()).includes(pe.key)}});return function(N,pe){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(N,pe){return["keyChanged"]});return function(N,pe){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var C,N;if(g.activeServiceWorker=yield function Qo(){return rr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new To(g.activeServiceWorker);const pe=yield g.sender._send("ping",{},800);!pe||(null===(C=pe[0])||void 0===C?void 0:C.fulfilled)&&(null===(N=pe[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function tn(){var M;return(null===(M=null==navigator?void 0:navigator.serviceWorker)||void 0===M?void 0:M.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ka();return yield fa(g,ha,"1"),yield zr(g,ha),!0}catch(g){}return!1})()}_withPendingWrite(g){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var N=this;return(0,c.Z)(function*(){return N._withPendingWrite((0,c.Z)(function*(){return yield N._withRetries(pe=>fa(pe,g,C)),N.localCache[g]=C,N.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,c.Z)(function*(){const N=yield C._withRetries(pe=>function Xs(M,g){return Sc.apply(this,arguments)}(pe,g));return C.localCache[g]=N,N})()}_remove(g){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(N=>zr(N,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const C=yield g._withRetries(ze=>{const Ft=Zs(ze,!1).getAll();return new ro(Ft).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const N=[],pe=new Set;for(const{fbase_key:ze,value:Ft}of C)pe.add(ze),JSON.stringify(g.localCache[ze])!==JSON.stringify(Ft)&&(g.notifyListeners(ze,Ft),N.push(ze));for(const ze of Object.keys(g.localCache))g.localCache[ze]&&!pe.has(ze)&&(g.notifyListeners(ze,null),N.push(ze));return N})()}notifyListeners(g,C){this.localCache[g]=C;const N=this.listeners[g];if(N)for(const pe of Array.from(N))pe(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Kr.type="LOCAL";const Br=Kr;function Ya(M,g){return qt(M,"POST","/v2/accounts/mfaSignIn:start",Ht(M,g))}function Mi(){return(Mi=(0,c.Z)(function*(M){return(yield qt(M,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ea(M){return new Promise((g,C)=>{const N=document.createElement("script");N.setAttribute("src",M),N.onload=g,N.onerror=pe=>{const ze=mt("internal-error");ze.customData=pe,C(ze)},N.type="text/javascript",N.charset="UTF-8",function Xn(){var M,g;return null!==(g=null===(M=document.getElementsByTagName("head"))||void 0===M?void 0:M[0])&&void 0!==g?g:document}().appendChild(N)})}function Fo(M){return`__${M}${Math.floor(1e6*Math.random())}`}const io=1e12;class qa{constructor(g){this.auth=g,this.counter=io,this._widgets=new Map}render(g,C){const N=this.counter;return this._widgets.set(N,new Di(g,this.auth.name,C||{})),this.counter++,N}reset(g){var C;const N=g||io;null===(C=this._widgets.get(N))||void 0===C||C.delete(),this._widgets.delete(N)}getResponse(g){var C;const N=g||io;return(null===(C=this._widgets.get(N))||void 0===C?void 0:C.getResponse())||""}execute(g){var C=this;return(0,c.Z)(function*(){var N;const pe=g||io;return null===(N=C._widgets.get(pe))||void 0===N||N.execute(),""})()}}class Di{constructor(g,C,N){this.params=N,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const pe="string"==typeof g?document.getElementById(g):g;me(pe,"argument-error",{appName:C}),this.container=pe,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $d(M){const g=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<M;N++)g.push(C.charAt(Math.floor(Math.random()*C.length)));return g.join("")}(50);const{callback:g,"expired-callback":C}=this.params;if(g)try{g(this.responseToken)}catch(N){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch(N){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fc=Fo("rcb"),Ts=new Se(3e4,6e4);class cu{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=gs().grecaptcha)||void 0===g||!g.render)}load(g,C=""){return me(function lu(M){return M.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(M)}(C),g,"argument-error"),this.shouldResolveImmediately(C)?Promise.resolve(gs().grecaptcha):new Promise((N,pe)=>{const ze=gs().setTimeout(()=>{pe(mt(g,"network-request-failed"))},Ts.get());gs()[fc]=()=>{gs().clearTimeout(ze),delete gs()[fc];const wn=gs().grecaptcha;if(!wn)return void pe(mt(g,"internal-error"));const Dr=wn.render;wn.render=(Ur,br)=>{const Bi=Dr(Ur,br);return this.counter++,Bi},this.hostLanguage=C,N(wn)};ea(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:fc,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(ze),pe(mt(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var C;return!(null===(C=gs().grecaptcha)||void 0===C||!C.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pa{load(g){return(0,c.Z)(function*(){return new qa(g)})()}clearedOneInstance(){}}const So="recaptcha",nn={theme:"light",type:"image"};class Oc{constructor(g,C=Object.assign({},nn),N){this.parameters=C,this.type=So,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(N),this.isInvisible="invisible"===this.parameters.size,me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const pe="string"==typeof g?document.getElementById(g):g;me(pe,this.auth,"argument-error"),this.container=pe,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pa:new cu,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const C=yield g.render(),N=g.getAssertedRecaptcha();return N.getResponse(C)||new Promise(ze=>{const Ft=wn=>{!wn||(g.tokenChangeListeners.delete(Ft),ze(wn))};g.tokenChangeListeners.add(Ft),g.isInvisible&&N.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return C=>{if(this.tokenChangeListeners.forEach(N=>N(C)),"function"==typeof g)g(C);else if("string"==typeof g){const N=gs()[g];"function"==typeof N&&N(C)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let C=g.container;if(!g.isInvisible){const N=document.createElement("div");C.appendChild(N),C=N}g.widgetId=g.getAssertedRecaptcha().render(C,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){me(Ne()&&!ar(),g.auth,"internal-error"),yield function Hi(){let M=null;return new Promise(g=>{"complete"!==document.readyState?(M=()=>g(),window.addEventListener("load",M)):g()}).catch(g=>{throw M&&window.removeEventListener("load",M),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const C=yield function yo(M){return Mi.apply(this,arguments)}(g.auth);me(C,g.auth,"internal-error"),g.parameters.sitekey=C})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ra{constructor(g,C){this.verificationId=g,this.onConfirmation=C}confirm(g){const C=vt._fromVerification(this.verificationId,g);return this.onConfirmation(C)}}function ta(M,g,C){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(M,g,C){const N=xn(M),pe=yield pc(N,g,(0,B.m9)(C));return new Ra(pe,ze=>ni(N,ze))})).apply(this,arguments)}function Tl(M,g,C){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(M,g,C){const N=(0,B.m9)(M);yield Nn(!1,N,"phone");const pe=yield pc(N.auth,g,(0,B.m9)(C));return new Ra(pe,ze=>Er(N,ze))})).apply(this,arguments)}function Go(M,g,C){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,c.Z)(function*(M,g,C){const N=(0,B.m9)(M),pe=yield pc(N.auth,g,(0,B.m9)(C));return new Ra(pe,ze=>Si(N,ze))})).apply(this,arguments)}function pc(M,g,C){return vo.apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(M,g,C){var N;const pe=yield C.verify();try{let ze;if(me("string"==typeof pe,M,"argument-error"),me(C.type===So,M,"argument-error"),ze="string"==typeof g?{phoneNumber:g}:g,"session"in ze){const Ft=ze.session;if("phoneNumber"in ze)return me("enroll"===Ft.type,M,"internal-error"),(yield da(M,{idToken:Ft.credential,phoneEnrollmentInfo:{phoneNumber:ze.phoneNumber,recaptchaToken:pe}})).phoneSessionInfo.sessionInfo;{me("signin"===Ft.type,M,"internal-error");const wn=(null===(N=ze.multiFactorHint)||void 0===N?void 0:N.uid)||ze.multiFactorUid;return me(wn,M,"missing-multi-factor-info"),(yield Ya(M,{mfaPendingCredential:Ft.credential,mfaEnrollmentId:wn,phoneSignInInfo:{recaptchaToken:pe}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ft}=yield Ys(M,{phoneNumber:ze.phoneNumber,recaptchaToken:pe});return Ft}}finally{C._reset()}})).apply(this,arguments)}function lo(M,g){return el.apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(M,g){yield Zt((0,B.m9)(M),g)})).apply(this,arguments)}class Ro{constructor(g){this.providerId=Ro.PROVIDER_ID,this.auth=xn(g)}verifyPhoneNumber(g,C){return pc(this.auth,g,(0,B.m9)(C))}static credential(g,C){return vt._fromVerification(g,C)}static credentialFromResult(g){const C=g;return Ro.credentialFromTaggedObject(C)}static credentialFromError(g){return Ro.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:N}=g;return C&&N?vt._fromTokenResponse(C,N):null}}function gc(M,g){return g?ee(g):(me(M._popupRedirectResolver,M,"argument-error"),M._popupRedirectResolver)}Ro.PROVIDER_ID="phone",Ro.PHONE_SIGN_IN_METHOD="phone";class Es extends It{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ai(g,this._buildIdpRequest())}_linkToIdToken(g,C){return ai(g,this._buildIdpRequest(C))}_getReauthenticationResolver(g){return ai(g,this._buildIdpRequest())}_buildIdpRequest(g){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(C.idToken=g),C}}function Pc(M){return Qr(M.auth,new Es(M),M.bypassAuthState)}function ji(M){const{auth:g,user:C}=M;return me(C,g,"internal-error"),Cr(C,new Es(M),M.bypassAuthState)}function Wi(M){return S.apply(this,arguments)}function S(){return(S=(0,c.Z)(function*(M){const{auth:g,user:C}=M;return me(C,g,"internal-error"),Zt(C,new Es(M),M.bypassAuthState)})).apply(this,arguments)}class v{constructor(g,C,N,pe,ze=!1){this.auth=g,this.resolver=N,this.user=pe,this.bypassAuthState=ze,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var g=this;return new Promise(function(){var C=(0,c.Z)(function*(N,pe){g.pendingPromise={resolve:N,reject:pe};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ze){g.reject(ze)}});return function(N,pe){return C.apply(this,arguments)}}())}onAuthEvent(g){var C=this;return(0,c.Z)(function*(){const{urlResponse:N,sessionId:pe,postBody:ze,tenantId:Ft,error:wn,type:Dr}=g;if(wn)return void C.reject(wn);const Ur={auth:C.auth,requestUri:N,sessionId:pe,tenantId:Ft||void 0,postBody:ze||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(Dr)(Ur))}catch(br){C.reject(br)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Pc;case"linkViaPopup":case"linkViaRedirect":return Wi;case"reauthViaPopup":case"reauthViaRedirect":return ji;default:xt(this.auth,"internal-error")}}resolve(g){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const b=new Se(2e3,1e4);function k(M,g,C){return W.apply(this,arguments)}function W(){return(W=(0,c.Z)(function*(M,g,C){const N=xn(M);et(M,g,Ar);const pe=gc(N,C);return new qn(N,"signInViaPopup",g,pe).executeNotNull()})).apply(this,arguments)}function ce(M,g,C){return ve.apply(this,arguments)}function ve(){return(ve=(0,c.Z)(function*(M,g,C){const N=(0,B.m9)(M);et(N.auth,g,Ar);const pe=gc(N.auth,C);return new qn(N.auth,"reauthViaPopup",g,pe,N).executeNotNull()})).apply(this,arguments)}function rt(M,g,C){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(M,g,C){const N=(0,B.m9)(M);et(N.auth,g,Ar);const pe=gc(N.auth,C);return new qn(N.auth,"linkViaPopup",g,pe,N).executeNotNull()})).apply(this,arguments)}class qn extends v{constructor(g,C,N,pe,ze){super(g,C,pe,ze),this.provider=N,this.authWindow=null,this.pollId=null,qn.currentPopupAction&&qn.currentPopupAction.cancel(),qn.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const C=yield g.execute();return me(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,c.Z)(function*(){st(1===g.filter.length,"Popup operations only handle one event");const C=qi();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(N=>{g.reject(N)}),g.resolver._isIframeWebStorageSupported(g.auth,N=>{N||g.reject(mt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(mt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qn.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,N;null!==(N=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==N&&N.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mt(this.auth,"popup-closed-by-user"))},2e3):this.pollId=window.setTimeout(g,b.get())};g()}}qn.currentPopupAction=null;const Or=new Map;class Yr extends v{constructor(g,C,N=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,N),this.eventId=null}execute(){var g=()=>super.execute,C=this;return(0,c.Z)(function*(){let N=Or.get(C.auth._key());if(!N){try{const ze=(yield function Ci(M,g){return Is.apply(this,arguments)}(C.resolver,C.auth))?yield g().call(C):null;N=()=>Promise.resolve(ze)}catch(pe){N=()=>Promise.reject(pe)}Or.set(C.auth._key(),N)}return C.bypassAuthState||Or.set(C.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(g){var C=()=>super.onAuthEvent,N=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return C().call(N,g);if("unknown"!==g.type){if(g.eventId){const pe=yield N.auth._redirectUserForId(g.eventId);if(pe)return N.user=pe,C().call(N,g);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Is(){return(Is=(0,c.Z)(function*(M,g){const C=ts(g),N=Oo(M);if(!(yield N._isAvailable()))return!1;const pe="true"===(yield N._get(C));return yield N._remove(C),pe})).apply(this,arguments)}function uo(M,g){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(M,g){return Oo(M)._set(ts(g),"true")})).apply(this,arguments)}function so(){Or.clear()}function ma(M,g){Or.set(M._key(),g)}function Oo(M){return ee(M._redirectPersistence)}function ts(M){return Te("pendingRedirect",M.config.apiKey,M.name)}function xc(M,g,C){return function ns(M,g,C){return Al.apply(this,arguments)}(M,g,C)}function Al(){return(Al=(0,c.Z)(function*(M,g,C){const N=xn(M);et(M,g,Ar);const pe=gc(N,C);return yield uo(pe,N),pe._openRedirect(N,g,"signInViaRedirect")})).apply(this,arguments)}function Nc(M,g,C){return function uu(M,g,C){return zo.apply(this,arguments)}(M,g,C)}function zo(){return(zo=(0,c.Z)(function*(M,g,C){const N=(0,B.m9)(M);et(N.auth,g,Ar);const pe=gc(N.auth,C);yield uo(pe,N.auth);const ze=yield gi(N);return pe._openRedirect(N.auth,g,"reauthViaRedirect",ze)})).apply(this,arguments)}function qu(M,g,C){return function Sl(M,g,C){return tl.apply(this,arguments)}(M,g,C)}function tl(){return(tl=(0,c.Z)(function*(M,g,C){const N=(0,B.m9)(M);et(N.auth,g,Ar);const pe=gc(N.auth,C);yield Nn(!1,N,g.providerId),yield uo(pe,N.auth);const ze=yield gi(N);return pe._openRedirect(N.auth,g,"linkViaRedirect",ze)})).apply(this,arguments)}function Rl(M,g){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(M,g){return yield xn(M)._initializationPromise,wi(M,g,!1)})).apply(this,arguments)}function wi(M,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(M,g,C=!1){const N=xn(M),pe=gc(N,g),Ft=yield new Yr(N,pe,C).execute();return Ft&&!C&&(delete Ft.user._redirectEventId,yield N._persistUserIfCurrent(Ft.user),yield N._setRedirectUser(null,g)),Ft})).apply(this,arguments)}function gi(M){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(M){const g=qi(`${M.uid}:::`);return M._redirectEventId=g,yield M.auth._setRedirectUser(M),yield M.auth._persistUserIfCurrent(M),g})).apply(this,arguments)}class kc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let C=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(g,N)&&(C=!0,this.sendToConsumer(g,N),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function as(M){switch(M.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nl(M);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=g,C=!0)),C}sendToConsumer(g,C){var N;if(g.error&&!nl(g)){const pe=(null===(N=g.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";C.onError(mt(this.auth,pe))}else C.onAuthEvent(g)}isEventForConsumer(g,C){const N=null===C.eventId||!!g.eventId&&g.eventId===C.eventId;return C.filter.includes(g.type)&&N}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oo(g))}saveEventToCache(g){this.cachedEventUids.add(oo(g)),this.lastProcessedEventTime=Date.now()}}function oo(M){return[M.type,M.eventId,M.sessionId,M.tenantId].filter(g=>g).join("-")}function nl({type:M,error:g}){return"unknown"===M&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Zi(M){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(M,g={}){return qt(M,"GET","/v1/projects",g)})).apply(this,arguments)}const js=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lg=/^https?/;function Eo(){return(Eo=(0,c.Z)(function*(M){if(M.config.emulator)return;const{authorizedDomains:g}=yield Zi(M);for(const C of g)try{if(Hd(C))return}catch(N){}xt(M,"unauthorized-domain")})).apply(this,arguments)}function Hd(M){const g=ge(),{protocol:C,hostname:N}=new URL(g);if(M.startsWith("chrome-extension://")){const Ft=new URL(M);return""===Ft.hostname&&""===N?"chrome-extension:"===C&&M.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===C&&Ft.hostname===N}if(!Lg.test(C))return!1;if(js.test(M))return N===M;const pe=M.replace(/\./g,"\\.");return new RegExp("^(.+\\."+pe+"|"+pe+")$","i").test(N)}const nf=new Se(3e4,6e4);function jd(){const M=gs().___jsl;if(null!=M&&M.H)for(const g of Object.keys(M.H))if(M.H[g].r=M.H[g].r||[],M.H[g].L=M.H[g].L||[],M.H[g].r=[...M.H[g].L],M.CP)for(let C=0;C<M.CP.length;C++)M.CP[C]=null}let na=null;function Zu(M){return na=na||function fo(M){return new Promise((g,C)=>{var N,pe,ze;function Ft(){jd(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{jd(),C(mt(M,"network-request-failed"))},timeout:nf.get()})}if(null!==(pe=null===(N=gs().gapi)||void 0===N?void 0:N.iframes)&&void 0!==pe&&pe.Iframe)g(gapi.iframes.getContext());else{if(null===(ze=gs().gapi)||void 0===ze||!ze.load){const wn=Fo("iframefcb");return gs()[wn]=()=>{gapi.load?Ft():C(mt(M,"network-request-failed"))},ea(`https://apis.google.com/js/api.js?onload=${wn}`).catch(Dr=>C(Dr))}Ft()}}).catch(g=>{throw na=null,g})}(M),na}const du=new Se(5e3,15e3),rf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gd(M){const g=M.config;me(g.authDomain,M,"auth-domain-config-required");const C=g.emulator?Ye(g,"emulator/auth/iframe"):`https://${M.config.authDomain}/__/auth/iframe`,N={apiKey:g.apiKey,appName:M.name,v:$.SDK_VERSION},pe=Fg.get(M.config.apiHost);pe&&(N.eid=pe);const ze=M._getFrameworks();return ze.length&&(N.fw=ze.join(",")),`${C}?${(0,B.xO)(N).slice(1)}`}function Ws(){return Ws=(0,c.Z)(function*(M){const g=yield Zu(M),C=gs().gapi;return me(C,M,"internal-error"),g.open({where:document.body,url:Gd(M),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rf,dontclear:!0},N=>new Promise(function(){var pe=(0,c.Z)(function*(ze,Ft){yield N.restyle({setHideOnLeave:!1});const wn=mt(M,"network-request-failed"),Dr=gs().setTimeout(()=>{Ft(wn)},du.get());function Ur(){gs().clearTimeout(Dr),ze(N)}N.ping(Ur).then(Ur,()=>{Ft(wn)})});return function(ze,Ft){return pe.apply(this,arguments)}}()))}),Ws.apply(this,arguments)}const mi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _c{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Ns(M,g,C,N=500,pe=600){const ze=Math.max((window.screen.availHeight-pe)/2,0).toString(),Ft=Math.max((window.screen.availWidth-N)/2,0).toString();let wn="";const Dr=Object.assign(Object.assign({},mi),{width:N.toString(),height:pe.toString(),top:ze,left:Ft}),Ur=(0,B.z$)().toLowerCase();C&&(wn=Nt(Ur)?"_blank":C),Y(Ur)&&(g=g||"http://localhost",Dr.scrollbars="yes");const br=Object.entries(Dr).reduce((ra,[Qa,nd])=>`${ra}${Qa}=${nd},`,"");if(function At(M=(0,B.z$)()){var g;return X(M)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Ur)&&"_self"!==wn)return function hu(M,g){const C=document.createElement("a");C.href=M,C.target=g;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(N)}(g||"",wn),new _c(null);const Bi=window.open(g||"",wn,br);me(Bi,M,"popup-blocked");try{Bi.focus()}catch(ra){}return new _c(Bi)}const Io="__/auth/handler",Xu="emulator/auth/handler";function xa(M,g,C,N,pe,ze){me(M.config.authDomain,M,"auth-domain-config-required"),me(M.config.apiKey,M,"invalid-api-key");const Ft={apiKey:M.config.apiKey,appName:M.name,authType:C,redirectUrl:N,v:$.SDK_VERSION,eventId:pe};if(g instanceof Ar){g.setDefaultLanguage(M.languageCode),Ft.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(Ft.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Dr,Ur]of Object.entries(ze||{}))Ft[Dr]=Ur}if(g instanceof ei){const Dr=g.getScopes().filter(Ur=>""!==Ur);Dr.length>0&&(Ft.scopes=Dr.join(","))}M.tenantId&&(Ft.tid=M.tenantId);const wn=Ft;for(const Dr of Object.keys(wn))void 0===wn[Dr]&&delete wn[Dr];return`${function Ms({config:M}){return M.emulator?Ye(M,Xu):`https://${M.authDomain}/${Io}`}(M)}?${(0,B.xO)(wn).slice(1)}`}const Ol="webStorageSupport";const Qu=class Ml{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_o,this._completeRedirectFn=wi,this._overrideRedirectResult=ma}_openPopup(g,C,N,pe){var ze=this;return(0,c.Z)(function*(){var Ft;st(null===(Ft=ze.eventManagers[g._key()])||void 0===Ft?void 0:Ft.manager,"_initialize() not called before _openPopup()");const wn=xa(g,C,N,ge(),pe);return Ns(g,wn,qi())})()}_openRedirect(g,C,N,pe){var ze=this;return(0,c.Z)(function*(){return yield ze._originValidation(g),function Ir(M){gs().location.href=M}(xa(g,C,N,ge(),pe)),new Promise(()=>{})})()}_initialize(g){const C=g._key();if(this.eventManagers[C]){const{manager:pe,promise:ze}=this.eventManagers[C];return pe?Promise.resolve(pe):(st(ze,"If manager is not set, promise should be"),ze)}const N=this.initAndGetManager(g);return this.eventManagers[C]={promise:N},N.catch(()=>{delete this.eventManagers[C]}),N}initAndGetManager(g){var C=this;return(0,c.Z)(function*(){const N=yield function mc(M){return Ws.apply(this,arguments)}(g),pe=new kc(g);return N.register("authEvent",ze=>(me(null==ze?void 0:ze.authEvent,g,"invalid-auth-event"),{status:pe.onEvent(ze.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[g._key()]={manager:pe},C.iframes[g._key()]=N,pe})()}_isIframeWebStorageSupported(g,C){this.iframes[g._key()].send(Ol,{type:Ol},pe=>{var ze;const Ft=null===(ze=null==pe?void 0:pe[0])||void 0===ze?void 0:ze[Ol];void 0!==Ft&&C(!!Ft),xt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const C=g._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function Lc(M){return Eo.apply(this,arguments)}(g)),this.originValidationPromises[C]}get _shouldInitProactively(){return Sn()||je()||X()}};class ks extends class Ju{constructor(g){this.factorId=g}_process(g,C,N){switch(C.type){case"enroll":return this._finalizeEnroll(g,C.credential,N);case"signin":return this._finalizeSignIn(g,C.credential);default:return De("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ks(g)}_finalizeEnroll(g,C,N){return function ou(M,g){return qt(M,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(M,g))}(g,{idToken:C,displayName:N,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,C){return function Jr(M,g){return qt(M,"POST","/v2/accounts/mfaSignIn:finalize",Ht(M,g))}(g,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class _a{constructor(){}static assertion(g){return ks._fromCredential(g)}}_a.FACTOR_ID="phone";var yc="@firebase/auth",sf="0.20.11";class of{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var C=this;return(0,c.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const C=this.auth.onIdTokenChanged(N=>{var pe;g((null===(pe=N)||void 0===pe?void 0:pe.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,C),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const C=this.internalListeners.get(g);!C||(this.internalListeners.delete(g),C(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ip=(0,B.Pz)("authIdTokenMaxAge")||300;let Pl=null;const td=M=>function(){var g=(0,c.Z)(function*(C){const N=C&&(yield C.getIdTokenResult()),pe=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(pe&&pe>Ip)return;const ze=null==N?void 0:N.token;Pl!==ze&&(Pl=ze,yield fetch(M,{method:ze?"POST":"DELETE",headers:ze?{Authorization:`Bearer ${ze}`}:{}}))});return function(C){return g.apply(this,arguments)}}();function Na(M=(0,$.getApp)()){const g=(0,$._getProvider)(M,"auth");if(g.isInitialized())return g.getImmediate();const C=function oe(M,g){const C=(0,$._getProvider)(M,"auth");if(C.isInitialized()){const pe=C.getImmediate(),ze=C.getOptions();if((0,B.vZ)(ze,null!=g?g:{}))return pe;xt(pe,"already-initialized")}return C.initialize({options:g})}(M,{popupRedirectResolver:Qu,persistence:[Br,Hs,_o]}),N=(0,B.Pz)("authTokenSyncURL");if(N){const ze=td(N);(function Oi(M,g,C){return(0,B.m9)(M).beforeAuthStateChanged(g,C)})(C,ze,()=>ze(C.currentUser)),function os(M,g,C,N){return(0,B.m9)(M).onIdTokenChanged(g,C,N)}(C,Ft=>ze(Ft))}const pe=(0,B.q4)("auth");return pe&&Z(C,`http://${pe}`),C}!function cs(M){(0,$._registerComponent)(new Ie.wA("auth",(g,{options:C})=>{const N=g.getProvider("app").getImmediate(),pe=g.getProvider("heartbeat"),{apiKey:ze,authDomain:Ft}=N.options;return((wn,Dr)=>{me(ze&&!ze.includes(":"),"invalid-api-key",{appName:wn.name}),me(!(null!=Ft&&Ft.includes(":")),"argument-error",{appName:wn.name});const Ur={apiKey:ze,authDomain:Ft,clientPlatform:M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Je(M)},br=new un(wn,Dr,Ur);return function J(M,g){const C=(null==g?void 0:g.persistence)||[],N=(Array.isArray(C)?C:[C]).map(ee);null!=g&&g.errorMap&&M._updateErrorMap(g.errorMap),M._initializeWithPersistence(N,null==g?void 0:g.popupRedirectResolver)}(br,C),br})(N,pe)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,C,N)=>{g.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new Ie.wA("auth-internal",g=>{const C=xn(g.getProvider("auth").getImmediate());return new of(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(yc,sf,function af(M){switch(M){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(M)),(0,$.registerVersion)(yc,sf,"esm2017")}("Browser")},7748:(ln,at,R)=>{"use strict";R.d(at,{$s:()=>Tn,BH:()=>qe,DV:()=>Rt,Dv:()=>yr,G6:()=>et,GJ:()=>Mn,L:()=>Ce,LL:()=>lt,Pz:()=>Ve,Rd:()=>st,Sg:()=>Se,UG:()=>Ge,UI:()=>hn,US:()=>Ie,Wj:()=>zn,Wl:()=>an,Yr:()=>yt,ZB:()=>_e,ZR:()=>it,aH:()=>Ae,b$:()=>be,cI:()=>qt,dS:()=>sr,eu:()=>me,g5:()=>$,gK:()=>_r,gQ:()=>hr,h$:()=>le,hl:()=>nt,hu:()=>B,jU:()=>dt,k$:()=>gr,lb:()=>Mr,m9:()=>lr,ne:()=>Wn,p$:()=>ue,pd:()=>Gn,q4:()=>ge,r3:()=>z,ru:()=>Me,tV:()=>$e,uI:()=>Be,ug:()=>Zr,vZ:()=>bt,w1:()=>xt,w9:()=>jn,xO:()=>cn,xb:()=>Vt,z$:()=>de,zI:()=>De,zd:()=>nr});const c_NODE_CLIENT=!1,c_NODE_ADMIN=!1,c_SDK_VERSION="${JSCORE_VERSION}",B=function(Xe,Te){if(!Xe)throw $(Te)},$=function(Xe){return new Error("Firebase Database ("+c_SDK_VERSION+") INTERNAL ASSERT FAILED: "+Xe)},Le=function(Xe){const Te=[];let tt=0;for(let Ue=0;Ue<Xe.length;Ue++){let Y=Xe.charCodeAt(Ue);Y<128?Te[tt++]=Y:Y<2048?(Te[tt++]=Y>>6|192,Te[tt++]=63&Y|128):55296==(64512&Y)&&Ue+1<Xe.length&&56320==(64512&Xe.charCodeAt(Ue+1))?(Y=65536+((1023&Y)<<10)+(1023&Xe.charCodeAt(++Ue)),Te[tt++]=Y>>18|240,Te[tt++]=Y>>12&63|128,Te[tt++]=Y>>6&63|128,Te[tt++]=63&Y|128):(Te[tt++]=Y>>12|224,Te[tt++]=Y>>6&63|128,Te[tt++]=63&Y|128)}return Te},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Xe,Te){if(!Array.isArray(Xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const tt=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ue=[];for(let Y=0;Y<Xe.length;Y+=3){const je=Xe[Y],Nt=Y+1<Xe.length,on=Nt?Xe[Y+1]:0,pn=Y+2<Xe.length,Hn=pn?Xe[Y+2]:0,Ot=je>>2,X=(3&je)<<4|on>>4;let He=(15&on)<<2|Hn>>6,At=63&Hn;pn||(At=64,Nt||(He=64)),Ue.push(tt[Ot],tt[X],tt[He],tt[At])}return Ue.join("")},encodeString(Xe,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(Xe):this.encodeByteArray(Le(Xe),Te)},decodeString(Xe,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(Xe):function(Xe){const Te=[];let tt=0,Ue=0;for(;tt<Xe.length;){const Y=Xe[tt++];if(Y<128)Te[Ue++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const je=Xe[tt++];Te[Ue++]=String.fromCharCode((31&Y)<<6|63&je)}else if(Y>239&&Y<365){const pn=((7&Y)<<18|(63&Xe[tt++])<<12|(63&Xe[tt++])<<6|63&Xe[tt++])-65536;Te[Ue++]=String.fromCharCode(55296+(pn>>10)),Te[Ue++]=String.fromCharCode(56320+(1023&pn))}else{const je=Xe[tt++],Nt=Xe[tt++];Te[Ue++]=String.fromCharCode((15&Y)<<12|(63&je)<<6|63&Nt)}}return Te.join("")}(this.decodeStringToByteArray(Xe,Te))},decodeStringToByteArray(Xe,Te){this.init_();const tt=Te?this.charToByteMapWebSafe_:this.charToByteMap_,Ue=[];for(let Y=0;Y<Xe.length;){const je=tt[Xe.charAt(Y++)],on=Y<Xe.length?tt[Xe.charAt(Y)]:0;++Y;const Hn=Y<Xe.length?tt[Xe.charAt(Y)]:64;++Y;const X=Y<Xe.length?tt[Xe.charAt(Y)]:64;if(++Y,null==je||null==on||null==Hn||null==X)throw Error();const He=je<<2|on>>4;if(Ue.push(He),64!==Hn){const At=on<<4&240|Hn>>2;if(Ue.push(At),64!==X){const Ut=Hn<<6&192|X;Ue.push(Ut)}}}return Ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Xe=0;Xe<this.ENCODED_VALS.length;Xe++)this.byteToCharMap_[Xe]=this.ENCODED_VALS.charAt(Xe),this.charToByteMap_[this.byteToCharMap_[Xe]]=Xe,this.byteToCharMapWebSafe_[Xe]=this.ENCODED_VALS_WEBSAFE.charAt(Xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Xe]]=Xe,Xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Xe)]=Xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Xe)]=Xe)}}},le=function(Xe){const Te=Le(Xe);return Ie.encodeByteArray(Te,!0)},Ce=function(Xe){return le(Xe).replace(/\./g,"")},$e=function(Xe){try{return Ie.decodeString(Xe,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function ue(Xe){return _e(void 0,Xe)}function _e(Xe,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===Xe&&(Xe={});break;case Array:Xe=[];break;default:return Te}for(const tt in Te)!Te.hasOwnProperty(tt)||!xe(tt)||(Xe[tt]=_e(Xe[tt],Te[tt]));return Xe}function xe(Xe){return"__proto__"!==Xe}function de(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function Ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Xe){return!1}}function dt(){return"object"==typeof self&&self.self===self}function Me(){const Xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Xe&&void 0!==Xe.id}function be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xt(){const Xe=de();return Xe.indexOf("MSIE ")>=0||Xe.indexOf("Trident/")>=0}function yt(){return!0===c_NODE_CLIENT||!0===c_NODE_ADMIN}function et(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nt(){return"object"==typeof indexedDB}function me(){return new Promise((Xe,Te)=>{try{let tt=!0;const Ue="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(Ue);Y.onsuccess=()=>{Y.result.close(),tt||self.indexedDB.deleteDatabase(Ue),Xe(!0)},Y.onupgradeneeded=()=>{tt=!1},Y.onerror=()=>{var je;Te((null===(je=Y.error)||void 0===je?void 0:je.message)||"")}}catch(tt){Te(tt)}})}function De(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}function st(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}const J=()=>{try{return st().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const Xe=process.env.__FIREBASE_DEFAULTS__;return Xe?JSON.parse(Xe):void 0})()||(()=>{if("undefined"==typeof document)return;let Xe;try{Xe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(tt){return}const Te=Xe&&$e(Xe[1]);return Te&&JSON.parse(Te)})()}catch(Xe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Xe}`)}},ge=Xe=>{var Te,tt;return null===(tt=null===(Te=J())||void 0===Te?void 0:Te.emulatorHosts)||void 0===tt?void 0:tt[Xe]},Ae=()=>{var Xe;return null===(Xe=J())||void 0===Xe?void 0:Xe.config},Ve=Xe=>{var Te;return null===(Te=J())||void 0===Te?void 0:Te[`_${Xe}`]};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,tt)=>{this.resolve=Te,this.reject=tt})}wrapCallback(Te){return(tt,Ue)=>{tt?this.reject(tt):this.resolve(Ue),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(tt):Te(tt,Ue))}}}function Se(Xe,Te){if(Xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ue=Te||"demo-project",Y=Xe.iat||0,je=Xe.sub||Xe.user_id;if(!je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nt=Object.assign({iss:`https://securetoken.google.com/${Ue}`,aud:Ue,iat:Y,exp:Y+3600,auth_time:Y,sub:je,user_id:je,firebase:{sign_in_provider:"custom",identities:{}}},Xe);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(Nt)),""].join(".")}class it extends Error{constructor(Te,tt,Ue){super(tt),this.code=Te,this.customData=Ue,this.name="FirebaseError",Object.setPrototypeOf(this,it.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lt.prototype.create)}}class lt{constructor(Te,tt,Ue){this.service=Te,this.serviceName=tt,this.errors=Ue}create(Te,...tt){const Ue=tt[0]||{},Y=`${this.service}/${Te}`,je=this.errors[Te],Nt=je?function St(Xe,Te){return Xe.replace(Ht,(tt,Ue)=>{const Y=Te[Ue];return null!=Y?String(Y):`<${Ue}?>`})}(je,Ue):"Error",on=`${this.serviceName}: ${Nt} (${Y}).`;return new it(Y,on,Ue)}}const Ht=/\{\$([^}]+)}/g;function qt(Xe){return JSON.parse(Xe)}function an(Xe){return JSON.stringify(Xe)}const Fn=function(Xe){let Te={},tt={},Ue={},Y="";try{const je=Xe.split(".");Te=qt($e(je[0])||""),tt=qt($e(je[1])||""),Y=je[2],Ue=tt.d||{},delete tt.d}catch(je){}return{header:Te,claims:tt,data:Ue,signature:Y}},jn=function(Xe){const tt=Fn(Xe).claims;return!!tt&&"object"==typeof tt&&tt.hasOwnProperty("iat")},Mn=function(Xe){const Te=Fn(Xe).claims;return"object"==typeof Te&&!0===Te.admin};function z(Xe,Te){return Object.prototype.hasOwnProperty.call(Xe,Te)}function Rt(Xe,Te){if(Object.prototype.hasOwnProperty.call(Xe,Te))return Xe[Te]}function Vt(Xe){for(const Te in Xe)if(Object.prototype.hasOwnProperty.call(Xe,Te))return!1;return!0}function hn(Xe,Te,tt){const Ue={};for(const Y in Xe)Object.prototype.hasOwnProperty.call(Xe,Y)&&(Ue[Y]=Te.call(tt,Xe[Y],Y,Xe));return Ue}function bt(Xe,Te){if(Xe===Te)return!0;const tt=Object.keys(Xe),Ue=Object.keys(Te);for(const Y of tt){if(!Ue.includes(Y))return!1;const je=Xe[Y],Nt=Te[Y];if(rn(je)&&rn(Nt)){if(!bt(je,Nt))return!1}else if(je!==Nt)return!1}for(const Y of Ue)if(!tt.includes(Y))return!1;return!0}function rn(Xe){return null!==Xe&&"object"==typeof Xe}function cn(Xe){const Te=[];for(const[tt,Ue]of Object.entries(Xe))Array.isArray(Ue)?Ue.forEach(Y=>{Te.push(encodeURIComponent(tt)+"="+encodeURIComponent(Y))}):Te.push(encodeURIComponent(tt)+"="+encodeURIComponent(Ue));return Te.length?"&"+Te.join("&"):""}function nr(Xe){const Te={};return Xe.replace(/^\?/,"").split("&").forEach(Ue=>{if(Ue){const[Y,je]=Ue.split("=");Te[decodeURIComponent(Y)]=decodeURIComponent(je)}}),Te}function Gn(Xe){const Te=Xe.indexOf("?");if(!Te)return"";const tt=Xe.indexOf("#",Te);return Xe.substring(Te,tt>0?tt:void 0)}class hr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Te=1;Te<this.blockSize;++Te)this.pad_[Te]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Te,tt){tt||(tt=0);const Ue=this.W_;if("string"==typeof Te)for(let X=0;X<16;X++)Ue[X]=Te.charCodeAt(tt)<<24|Te.charCodeAt(tt+1)<<16|Te.charCodeAt(tt+2)<<8|Te.charCodeAt(tt+3),tt+=4;else for(let X=0;X<16;X++)Ue[X]=Te[tt]<<24|Te[tt+1]<<16|Te[tt+2]<<8|Te[tt+3],tt+=4;for(let X=16;X<80;X++){const He=Ue[X-3]^Ue[X-8]^Ue[X-14]^Ue[X-16];Ue[X]=4294967295&(He<<1|He>>>31)}let Hn,Ot,Y=this.chain_[0],je=this.chain_[1],Nt=this.chain_[2],on=this.chain_[3],pn=this.chain_[4];for(let X=0;X<80;X++){X<40?X<20?(Hn=on^je&(Nt^on),Ot=1518500249):(Hn=je^Nt^on,Ot=1859775393):X<60?(Hn=je&Nt|on&(je|Nt),Ot=2400959708):(Hn=je^Nt^on,Ot=3395469782);const He=(Y<<5|Y>>>27)+Hn+pn+Ot+Ue[X]&4294967295;pn=on,on=Nt,Nt=4294967295&(je<<30|je>>>2),je=Y,Y=He}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+je&4294967295,this.chain_[2]=this.chain_[2]+Nt&4294967295,this.chain_[3]=this.chain_[3]+on&4294967295,this.chain_[4]=this.chain_[4]+pn&4294967295}update(Te,tt){if(null==Te)return;void 0===tt&&(tt=Te.length);const Ue=tt-this.blockSize;let Y=0;const je=this.buf_;let Nt=this.inbuf_;for(;Y<tt;){if(0===Nt)for(;Y<=Ue;)this.compress_(Te,Y),Y+=this.blockSize;if("string"==typeof Te){for(;Y<tt;)if(je[Nt]=Te.charCodeAt(Y),++Nt,++Y,Nt===this.blockSize){this.compress_(je),Nt=0;break}}else for(;Y<tt;)if(je[Nt]=Te[Y],++Nt,++Y,Nt===this.blockSize){this.compress_(je),Nt=0;break}}this.inbuf_=Nt,this.total_+=tt}digest(){const Te=[];let tt=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&tt,tt/=256;this.compress_(this.buf_);let Ue=0;for(let Y=0;Y<5;Y++)for(let je=24;je>=0;je-=8)Te[Ue]=this.chain_[Y]>>je&255,++Ue;return Te}}function Wn(Xe,Te){const tt=new En(Xe,Te);return tt.subscribe.bind(tt)}class En{constructor(Te,tt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=tt,this.task.then(()=>{Te(this)}).catch(Ue=>{this.error(Ue)})}next(Te){this.forEachObserver(tt=>{tt.next(Te)})}error(Te){this.forEachObserver(tt=>{tt.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,tt,Ue){let Y;if(void 0===Te&&void 0===tt&&void 0===Ue)throw new Error("Missing Observer.");Y=function bn(Xe,Te){if("object"!=typeof Xe||null===Xe)return!1;for(const tt of Te)if(tt in Xe&&"function"==typeof Xe[tt])return!0;return!1}(Te,["next","error","complete"])?Te:{next:Te,error:tt,complete:Ue},void 0===Y.next&&(Y.next=Bn),void 0===Y.error&&(Y.error=Bn),void 0===Y.complete&&(Y.complete=Bn);const je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(Nt){}}),this.observers.push(Y),je}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let tt=0;tt<this.observers.length;tt++)this.sendOne(tt,Te)}sendOne(Te,tt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{tt(this.observers[Te])}catch(Ue){"undefined"!=typeof console&&console.error&&console.error(Ue)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bn(){}const yr=function(Xe,Te,tt,Ue){let Y;if(Ue<Te?Y="at least "+Te:Ue>tt&&(Y=0===tt?"none":"no more than "+tt),Y){throw new Error(Xe+" failed: Was called with "+Ue+(1===Ue?" argument.":" arguments.")+" Expects "+Y+".")}};function _r(Xe,Te){return`${Xe} failed: ${Te} argument `}function zn(Xe,Te,tt,Ue){if((!Ue||tt)&&"function"!=typeof tt)throw new Error(_r(Xe,Te)+"must be a valid function.")}function Mr(Xe,Te,tt,Ue){if((!Ue||tt)&&("object"!=typeof tt||null===tt))throw new Error(_r(Xe,Te)+"must be a valid context object.")}const sr=function(Xe){const Te=[];let tt=0;for(let Ue=0;Ue<Xe.length;Ue++){let Y=Xe.charCodeAt(Ue);if(Y>=55296&&Y<=56319){const je=Y-55296;Ue++,B(Ue<Xe.length,"Surrogate pair missing trail surrogate.");Y=65536+(je<<10)+(Xe.charCodeAt(Ue)-56320)}Y<128?Te[tt++]=Y:Y<2048?(Te[tt++]=Y>>6|192,Te[tt++]=63&Y|128):Y<65536?(Te[tt++]=Y>>12|224,Te[tt++]=Y>>6&63|128,Te[tt++]=63&Y|128):(Te[tt++]=Y>>18|240,Te[tt++]=Y>>12&63|128,Te[tt++]=Y>>6&63|128,Te[tt++]=63&Y|128)}return Te},Zr=function(Xe){let Te=0;for(let tt=0;tt<Xe.length;tt++){const Ue=Xe.charCodeAt(tt);Ue<128?Te++:Ue<2048?Te+=2:Ue>=55296&&Ue<=56319?(Te+=4,tt++):Te+=3}return Te},gr=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,Xe=>{const Te=16*Math.random()|0;return("x"===Xe?Te:3&Te|8).toString(16)})};function Tn(Xe,Te=1e3,tt=2){const Ue=Te*Math.pow(tt,Xe),Y=Math.round(.5*Ue*(Math.random()-.5)*2);return Math.min(144e5,Ue+Y)}function lr(Xe){return Xe&&Xe._delegate?Xe._delegate:Xe}},5708:(ln,at,R)=>{"use strict";R.d(at,{Br:()=>Qr,w:()=>tr,De:()=>Sr,dr:()=>Gn,BJ:()=>hr,oU:()=>Wn,cs:()=>ps,yp:()=>$n,YG:()=>yr,Sm:()=>_r,W2:()=>In,W4:()=>Kn,fr:()=>Xe,Gu:()=>tt,gu:()=>Ue,Xz:()=>Y,Ie:()=>pn,rH:()=>Hn,Ub:()=>Ot,u8:()=>X,IK:()=>He,td:()=>At,Q$:()=>Ut,q_:()=>Sn,ki:()=>Nn,jP:()=>ti,VI:()=>Lr,cJ:()=>jr,GO:()=>Ii,t9:()=>li,n0:()=>zi,PQ:()=>_t,yq:()=>we,ZU:()=>ut,UN:()=>fs,yW:()=>Mt,g2:()=>jt,wd:()=>An,ho:()=>Zn,sr:()=>or,Pc:()=>Qi,r4:()=>wo,t4:()=>Pr,YI:()=>fi,Fo:()=>Ze,QI:()=>z,j9:()=>Rt});var c=R(3184),B=R(1915),$=R(4929),Le=R(3280),Fe=R(253),Ie=R(6317),le=R(993),Ce=R(631),_e=(R(7938),R(4844),R(1077)),xe=R(9286),de=R(8607),Be=R(9259),Ge=R(9287),dt=R(8923),Me=R(2752),xt=(R(2286),R(6379),R(1559));var De=R(116),st=R(2673),ie=R(8977),ee=R(6362);const J=de.i,Ne=(q,E)=>"undefined"==typeof window?Promise.resolve():(0,xt.p)().then(()=>(J(),(0,xt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",null,[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),E))),Ae=["*"],Ve=["outlet"],qe=[[["","slot","top"]],"*"];function Ye(q,E){if(1&q&&(c.TgZ(0,"div",1),c.GkF(1,2),c.qZA()),2&q){const U=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",U.template)}}function it(q,E){if(1&q&&c.GkF(0,1),2&q){const U=c.oxw();c.Q6J("ngTemplateOutlet",U.template)}}const lt=q=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(q):"function"==typeof requestAnimationFrame?requestAnimationFrame(q):setTimeout(q),St=q=>!!q.resolveComponentFactory;class Ht{constructor(E,U){this.injector=E,this.el=U,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(E){this.el.nativeElement.value=this.lastValue=null==E?"":E,qt(this.el)}handleChangeEvent(E,U){E===this.el.nativeElement&&(U!==this.lastValue&&(this.lastValue=U,this.onChange(U)),qt(this.el))}_handleBlurEvent(E){E===this.el.nativeElement&&(this.onTouched(),qt(this.el))}registerOnChange(E){this.onChange=E}registerOnTouched(E){this.onTouched=E}setDisabledState(E){this.el.nativeElement.disabled=E}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let E;try{E=this.injector.get(B.a5)}catch(ae){}if(!E)return;E.statusChanges&&(this.statusChanges=E.statusChanges.subscribe(()=>qt(this.el)));const U=E.control;U&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Bt=>{if(void 0!==U[Bt]){const gn=U[Bt].bind(U);U[Bt]=(...ur)=>{gn(...ur),qt(this.el)}}})}}Ht.\u0275fac=function(E){return new(E||Ht)(c.Y36(c.zs3),c.Y36(c.SBq))},Ht.\u0275dir=c.lG2({type:Ht,hostBindings:function(E,U){1&E&&c.NdJ("ionBlur",function(Bt){return U._handleBlurEvent(Bt.target)})}});const qt=q=>{lt(()=>{const E=q.nativeElement,U=null!=E.value&&E.value.toString().length>0,ae=an(E);Fn(E,ae);const Bt=E.closest("ion-item");Bt&&Fn(Bt,U?[...ae,"item-has-value"]:ae)})},an=q=>{const E=q.classList,U=[];for(let ae=0;ae<E.length;ae++){const Bt=E.item(ae);null!==Bt&&ir(Bt,"ng-")&&U.push(`ion-${Bt.substring(3)}`)}return U},Fn=(q,E)=>{const U=q.classList;U.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),U.add(...E)},ir=(q,E)=>q.substring(0,E.length)===E;class tr extends Ht{constructor(E,U){super(E,U)}writeValue(E){this.el.nativeElement.checked=this.lastValue=null!=E&&E,qt(this.el)}_handleIonChange(E){this.handleChangeEvent(E,E.checked)}}tr.\u0275fac=function(E){return new(E||tr)(c.Y36(c.zs3),c.Y36(c.SBq))},tr.\u0275dir=c.lG2({type:tr,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(E,U){1&E&&c.NdJ("ionChange",function(Bt){return U._handleIonChange(Bt.target)})},features:[c._Bn([{provide:B.JU,useExisting:tr,multi:!0}]),c.qOj]});class jn extends Ht{constructor(E,U){super(E,U)}_handleIonChange(E){this.handleChangeEvent(E,E.value)}registerOnChange(E){super.registerOnChange(U=>{E(""===U?null:parseFloat(U))})}}jn.\u0275fac=function(E){return new(E||jn)(c.Y36(c.zs3),c.Y36(c.SBq))},jn.\u0275dir=c.lG2({type:jn,selectors:[["ion-input","type","number"]],hostBindings:function(E,U){1&E&&c.NdJ("ionChange",function(Bt){return U._handleIonChange(Bt.target)})},features:[c._Bn([{provide:B.JU,useExisting:jn,multi:!0}]),c.qOj]});class Mn extends Ht{constructor(E,U){super(E,U)}_handleIonSelect(E){this.handleChangeEvent(E,E.checked)}}Mn.\u0275fac=function(E){return new(E||Mn)(c.Y36(c.zs3),c.Y36(c.SBq))},Mn.\u0275dir=c.lG2({type:Mn,selectors:[["ion-radio"]],hostBindings:function(E,U){1&E&&c.NdJ("ionSelect",function(Bt){return U._handleIonSelect(Bt.target)})},features:[c._Bn([{provide:B.JU,useExisting:Mn,multi:!0}]),c.qOj]});class z extends Ht{constructor(E,U){super(E,U)}_handleChangeEvent(E){this.handleChangeEvent(E,E.value)}}z.\u0275fac=function(E){return new(E||z)(c.Y36(c.zs3),c.Y36(c.SBq))},z.\u0275dir=c.lG2({type:z,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(E,U){1&E&&c.NdJ("ionChange",function(Bt){return U._handleChangeEvent(Bt.target)})},features:[c._Bn([{provide:B.JU,useExisting:z,multi:!0}]),c.qOj]});class Rt extends Ht{constructor(E,U){super(E,U)}_handleInputEvent(E){this.handleChangeEvent(E,E.value)}}Rt.\u0275fac=function(E){return new(E||Rt)(c.Y36(c.zs3),c.Y36(c.SBq))},Rt.\u0275dir=c.lG2({type:Rt,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(E,U){1&E&&c.NdJ("ionChange",function(Bt){return U._handleInputEvent(Bt.target)})},features:[c._Bn([{provide:B.JU,useExisting:Rt,multi:!0}]),c.qOj]});const Vt=(q,E)=>{const U=q.prototype;E.forEach(ae=>{Object.defineProperty(U,ae,{get(){return this.el[ae]},set(Bt){this.z.runOutsideAngular(()=>this.el[ae]=Bt)}})})},hn=(q,E)=>{const U=q.prototype;E.forEach(ae=>{U[ae]=function(){const Bt=arguments;return this.z.runOutsideAngular(()=>this.el[ae].apply(this.el,Bt))}})},bt=(q,E,U)=>{U.forEach(ae=>q[ae]=(0,Le.R)(E,ae))};function Et(q){return function(U){const{defineCustomElementFn:ae,inputs:Bt,methods:gn}=q;return void 0!==ae&&ae(),Bt&&Vt(U,Bt),gn&&hn(U,gn),U}}let cn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};cn.\u0275fac=function(E){return new(E||cn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},cn.\u0275cmp=c.Xpm({type:cn,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),cn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],cn);let nr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionChange"])}};nr.\u0275fac=function(E){return new(E||nr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},nr.\u0275cmp=c.Xpm({type:nr,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),nr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],nr);let Gn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Gn.\u0275fac=function(E){return new(E||Gn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Gn.\u0275cmp=c.Xpm({type:Gn,selectors:[["ion-app"]],ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Gn=(0,$.gn)([Et({defineCustomElementFn:void 0})],Gn);let hr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};hr.\u0275fac=function(E){return new(E||hr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},hr.\u0275cmp=c.Xpm({type:hr,selectors:[["ion-avatar"]],ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),hr=(0,$.gn)([Et({defineCustomElementFn:void 0})],hr);let Wn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Wn.\u0275fac=function(E){return new(E||Wn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Wn.\u0275cmp=c.Xpm({type:Wn,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Wn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],Wn);let En=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionBackdropTap"])}};En.\u0275fac=function(E){return new(E||En)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},En.\u0275cmp=c.Xpm({type:En,selectors:[["ion-backdrop"]],inputs:{stopPropagation:"stopPropagation",tappable:"tappable",visible:"visible"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),En=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["stopPropagation","tappable","visible"]})],En);let $n=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};$n.\u0275fac=function(E){return new(E||$n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},$n.\u0275cmp=c.Xpm({type:$n,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),$n=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","mode"]})],$n);let bn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionFocus","ionBlur"])}};bn.\u0275fac=function(E){return new(E||bn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},bn.\u0275cmp=c.Xpm({type:bn,selectors:[["ion-breadcrumb"]],inputs:{active:"active",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",separator:"separator",target:"target"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),bn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["active","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","separator","target"]})],bn);let Bn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionCollapsedClick"])}};Bn.\u0275fac=function(E){return new(E||Bn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Bn.\u0275cmp=c.Xpm({type:Bn,selectors:[["ion-breadcrumbs"]],inputs:{color:"color",itemsAfterCollapse:"itemsAfterCollapse",itemsBeforeCollapse:"itemsBeforeCollapse",maxItems:"maxItems",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Bn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","itemsAfterCollapse","itemsBeforeCollapse","maxItems","mode"]})],Bn);let yr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionFocus","ionBlur"])}};yr.\u0275fac=function(E){return new(E||yr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},yr.\u0275cmp=c.Xpm({type:yr,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),yr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],yr);let _r=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};_r.\u0275fac=function(E){return new(E||_r)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},_r.\u0275cmp=c.Xpm({type:_r,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),_r=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["collapse"]})],_r);let pr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};pr.\u0275fac=function(E){return new(E||pr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},pr.\u0275cmp=c.Xpm({type:pr,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),pr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],pr);let zn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};zn.\u0275fac=function(E){return new(E||zn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},zn.\u0275cmp=c.Xpm({type:zn,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),zn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["mode"]})],zn);let Mr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Mr.\u0275fac=function(E){return new(E||Mr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Mr.\u0275cmp=c.Xpm({type:Mr,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Mr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],Mr);let sr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};sr.\u0275fac=function(E){return new(E||sr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},sr.\u0275cmp=c.Xpm({type:sr,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),sr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","mode"]})],sr);let Zr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Zr.\u0275fac=function(E){return new(E||Zr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Zr.\u0275cmp=c.Xpm({type:Zr,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Zr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","mode"]})],Zr);let gr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionChange","ionFocus","ionBlur"])}};gr.\u0275fac=function(E){return new(E||gr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},gr.\u0275cmp=c.Xpm({type:gr,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),gr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],gr);let vr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};vr.\u0275fac=function(E){return new(E||vr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},vr.\u0275cmp=c.Xpm({type:vr,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),vr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","disabled","mode","outline"]})],vr);let Un=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Un.\u0275fac=function(E){return new(E||Un)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Un.\u0275cmp=c.Xpm({type:Un,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Un=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],Un);let In=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};In.\u0275fac=function(E){return new(E||In)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},In.\u0275cmp=c.Xpm({type:In,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),In=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],In);let Wt=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};Wt.\u0275fac=function(E){return new(E||Wt)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Wt.\u0275cmp=c.Xpm({type:Wt,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Wt=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],Wt);let Tn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Tn.\u0275fac=function(E){return new(E||Tn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Tn.\u0275cmp=c.Xpm({type:Tn,selectors:[["ion-datetime-button"]],inputs:{color:"color",datetime:"datetime",disabled:"disabled",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Tn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","datetime","disabled","mode"]})],Tn);let Rn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Rn.\u0275fac=function(E){return new(E||Rn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Rn.\u0275cmp=c.Xpm({type:Rn,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Rn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],Rn);let Kn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionFocus","ionBlur"])}};Kn.\u0275fac=function(E){return new(E||Kn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Kn.\u0275cmp=c.Xpm({type:Kn,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Kn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],Kn);let lr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};lr.\u0275fac=function(E){return new(E||lr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},lr.\u0275cmp=c.Xpm({type:lr,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),lr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["activated","side"]})],lr);let Xe=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Xe.\u0275fac=function(E){return new(E||Xe)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Xe.\u0275cmp=c.Xpm({type:Xe,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Xe=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],Xe);let Te=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Te.\u0275fac=function(E){return new(E||Te)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Te.\u0275cmp=c.Xpm({type:Te,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Te=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["fixed"]})],Te);let tt=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};tt.\u0275fac=function(E){return new(E||tt)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},tt.\u0275cmp=c.Xpm({type:tt,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),tt=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],tt);let Ue=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Ue.\u0275fac=function(E){return new(E||Ue)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Ue.\u0275cmp=c.Xpm({type:Ue,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Ue=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],Ue);let Y=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};Y.\u0275fac=function(E){return new(E||Y)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Y.\u0275cmp=c.Xpm({type:Y,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Y=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["alt","src"]})],Y);let je=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionInfinite"])}};je.\u0275fac=function(E){return new(E||je)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},je.\u0275cmp=c.Xpm({type:je,selectors:[["ion-infinite-scroll"]],inputs:{disabled:"disabled",position:"position",threshold:"threshold"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),je=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["disabled","position","threshold"],methods:["complete"]})],je);let Nt=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Nt.\u0275fac=function(E){return new(E||Nt)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Nt.\u0275cmp=c.Xpm({type:Nt,selectors:[["ion-infinite-scroll-content"]],inputs:{loadingSpinner:"loadingSpinner",loadingText:"loadingText"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Nt=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["loadingSpinner","loadingText"]})],Nt);let on=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};on.\u0275fac=function(E){return new(E||on)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},on.\u0275cmp=c.Xpm({type:on,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),on=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],on);let pn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};pn.\u0275fac=function(E){return new(E||pn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},pn.\u0275cmp=c.Xpm({type:pn,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),pn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],pn);let Hn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Hn.\u0275fac=function(E){return new(E||Hn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Hn.\u0275cmp=c.Xpm({type:Hn,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Hn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","mode","sticky"]})],Hn);let Ot=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Ot.\u0275fac=function(E){return new(E||Ot)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Ot.\u0275cmp=c.Xpm({type:Ot,selectors:[["ion-item-group"]],ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Ot=(0,$.gn)([Et({defineCustomElementFn:void 0})],Ot);let X=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};X.\u0275fac=function(E){return new(E||X)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},X.\u0275cmp=c.Xpm({type:X,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),X=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],X);let He=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionSwipe"])}};He.\u0275fac=function(E){return new(E||He)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},He.\u0275cmp=c.Xpm({type:He,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),He=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["side"]})],He);let At=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionDrag"])}};At.\u0275fac=function(E){return new(E||At)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},At.\u0275cmp=c.Xpm({type:At,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),At=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],At);let Ut=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Ut.\u0275fac=function(E){return new(E||Ut)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Ut.\u0275cmp=c.Xpm({type:Ut,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Ut=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],Ut);let Sn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Sn.\u0275fac=function(E){return new(E||Sn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Sn.\u0275cmp=c.Xpm({type:Sn,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Sn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],Sn);let Qe=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Qe.\u0275fac=function(E){return new(E||Qe)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Qe.\u0275cmp=c.Xpm({type:Qe,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Qe=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","lines","mode"]})],Qe);let Je=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};Je.\u0275fac=function(E){return new(E||Je)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Je.\u0275cmp=c.Xpm({type:Je,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Je=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],Je);let zt=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};zt.\u0275fac=function(E){return new(E||zt)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},zt.\u0275cmp=c.Xpm({type:zt,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),zt=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],zt);let un=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};un.\u0275fac=function(E){return new(E||un)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},un.\u0275cmp=c.Xpm({type:un,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),un=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],un);let xn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionNavWillChange","ionNavDidChange"])}};xn.\u0275fac=function(E){return new(E||xn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},xn.\u0275cmp=c.Xpm({type:xn,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),xn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],xn);let ct=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};ct.\u0275fac=function(E){return new(E||ct)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},ct.\u0275cmp=c.Xpm({type:ct,selectors:[["ion-nav-link"]],inputs:{component:"component",componentProps:"componentProps",routerAnimation:"routerAnimation",routerDirection:"routerDirection"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),ct=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["component","componentProps","routerAnimation","routerDirection"]})],ct);let Z=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Z.\u0275fac=function(E){return new(E||Z)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Z.\u0275cmp=c.Xpm({type:Z,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Z=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","mode"]})],Z);let x=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};x.\u0275fac=function(E){return new(E||x)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},x.\u0275cmp=c.Xpm({type:x,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),x=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["buffer","color","mode","reversed","type","value"]})],x);let j=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionFocus","ionBlur"])}};j.\u0275fac=function(E){return new(E||j)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},j.\u0275cmp=c.Xpm({type:j,selectors:[["ion-radio"]],inputs:{color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),j=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","disabled","mode","name","value"]})],j);let ye=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionChange"])}};ye.\u0275fac=function(E){return new(E||ye)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},ye.\u0275cmp=c.Xpm({type:ye,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",name:"name",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),ye=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["allowEmptySelection","name","value"]})],ye);let Ct=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};Ct.\u0275fac=function(E){return new(E||Ct)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Ct.\u0275cmp=c.Xpm({type:Ct,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Ct=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],Ct);let It=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionRefresh","ionPull","ionStart"])}};It.\u0275fac=function(E){return new(E||It)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},It.\u0275cmp=c.Xpm({type:It,selectors:[["ion-refresher"]],inputs:{closeDuration:"closeDuration",disabled:"disabled",pullFactor:"pullFactor",pullMax:"pullMax",pullMin:"pullMin",snapbackDuration:"snapbackDuration"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),It=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],It);let _n=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};_n.\u0275fac=function(E){return new(E||_n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},_n.\u0275cmp=c.Xpm({type:_n,selectors:[["ion-refresher-content"]],inputs:{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),_n=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],_n);let Jn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Jn.\u0275fac=function(E){return new(E||Jn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Jn.\u0275cmp=c.Xpm({type:Jn,selectors:[["ion-reorder"]],ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Jn=(0,$.gn)([Et({defineCustomElementFn:void 0})],Jn);let cr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionItemReorder"])}};cr.\u0275fac=function(E){return new(E||cr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},cr.\u0275cmp=c.Xpm({type:cr,selectors:[["ion-reorder-group"]],inputs:{disabled:"disabled"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),cr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["disabled"],methods:["complete"]})],cr);let Nr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Nr.\u0275fac=function(E){return new(E||Nr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Nr.\u0275cmp=c.Xpm({type:Nr,selectors:[["ion-ripple-effect"]],inputs:{type:"type"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Nr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["type"],methods:["addRipple"]})],Nr);let Rr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Rr.\u0275fac=function(E){return new(E||Rr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Rr.\u0275cmp=c.Xpm({type:Rr,selectors:[["ion-row"]],ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Rr=(0,$.gn)([Et({defineCustomElementFn:void 0})],Rr);let Lr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};Lr.\u0275fac=function(E){return new(E||Lr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Lr.\u0275cmp=c.Xpm({type:Lr,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Lr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],Lr);let jr=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionChange"])}};jr.\u0275fac=function(E){return new(E||jr)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},jr.\u0275cmp=c.Xpm({type:jr,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),jr=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],jr);let Ii=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Ii.\u0275fac=function(E){return new(E||Ii)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Ii.\u0275cmp=c.Xpm({type:Ii,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Ii=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["disabled","layout","mode","type","value"]})],Ii);let li=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};li.\u0275fac=function(E){return new(E||li)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},li.\u0275cmp=c.Xpm({type:li,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),li=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],li);let zi=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};zi.\u0275fac=function(E){return new(E||zi)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},zi.\u0275cmp=c.Xpm({type:zi,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),zi=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["disabled","value"]})],zi);let se=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};se.\u0275fac=function(E){return new(E||se)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},se.\u0275cmp=c.Xpm({type:se,selectors:[["ion-skeleton-text"]],inputs:{animated:"animated"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),se=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["animated"]})],se);let Re=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Re.\u0275fac=function(E){return new(E||Re)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Re.\u0275cmp=c.Xpm({type:Re,selectors:[["ion-slide"]],ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Re=(0,$.gn)([Et({defineCustomElementFn:void 0})],Re);let pt=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}};pt.\u0275fac=function(E){return new(E||pt)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},pt.\u0275cmp=c.Xpm({type:pt,selectors:[["ion-slides"]],inputs:{mode:"mode",options:"options",pager:"pager",scrollbar:"scrollbar"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),pt=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["mode","options","pager","scrollbar"],methods:["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes","getSwiper"]})],pt);let _t=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};_t.\u0275fac=function(E){return new(E||_t)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},_t.\u0275cmp=c.Xpm({type:_t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),_t=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],_t);let $t=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionSplitPaneVisible"])}};$t.\u0275fac=function(E){return new(E||$t)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},$t.\u0275cmp=c.Xpm({type:$t,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),$t=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],$t);let we=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};we.\u0275fac=function(E){return new(E||we)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},we.\u0275cmp=c.Xpm({type:we,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),we=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],we);let ut=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};ut.\u0275fac=function(E){return new(E||ut)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},ut.\u0275cmp=c.Xpm({type:ut,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),ut=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],ut);let Mt=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};Mt.\u0275fac=function(E){return new(E||Mt)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Mt.\u0275cmp=c.Xpm({type:Mt,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Mt=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","mode"]})],Mt);let jt=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};jt.\u0275fac=function(E){return new(E||jt)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},jt.\u0275cmp=c.Xpm({type:jt,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),jt=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],jt);let en=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};en.\u0275fac=function(E){return new(E||en)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},en.\u0275cmp=c.Xpm({type:en,selectors:[["ion-thumbnail"]],ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),en=(0,$.gn)([Et({defineCustomElementFn:void 0})],en);let An=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};An.\u0275fac=function(E){return new(E||An)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},An.\u0275cmp=c.Xpm({type:An,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),An=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","size"]})],An);let Zn=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement,bt(this,this.el,["ionChange","ionFocus","ionBlur"])}};Zn.\u0275fac=function(E){return new(E||Zn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Zn.\u0275cmp=c.Xpm({type:Zn,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Zn=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],Zn);let or=class{constructor(E,U,ae){this.z=ae,E.detach(),this.el=U.nativeElement}};or.\u0275fac=function(E){return new(E||or)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},or.\u0275cmp=c.Xpm({type:or,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),or=(0,$.gn)([Et({defineCustomElementFn:void 0,inputs:["color","mode"]})],or);class ai{constructor(E={}){this.data=E}get(E){return this.data[E]}}class Fr{constructor(E,U){this.zone=E,this.appRef=U}create(E,U,ae){return new ui(E,U,ae,this.appRef,this.zone)}}Fr.\u0275fac=function(E){return new(E||Fr)(c.LFG(c.R0b),c.LFG(c.z2F))},Fr.\u0275prov=c.Yz7({token:Fr,factory:Fr.\u0275fac});class ui{constructor(E,U,ae,Bt,gn){this.resolverOrInjector=E,this.injector=U,this.location=ae,this.appRef=Bt,this.zone=gn,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(E,U,ae,Bt){return this.zone.run(()=>new Promise(gn=>{gn(bi(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,E,U,ae,Bt))}))}removeViewFromDom(E,U){return this.zone.run(()=>new Promise(ae=>{const Bt=this.elRefMap.get(U);if(Bt){Bt.destroy(),this.elRefMap.delete(U);const gn=this.elEventsMap.get(U);gn&&(gn(),this.elEventsMap.delete(U))}ae()}))}}const bi=(q,E,U,ae,Bt,gn,ur,xr,te,D,H)=>{let ot;const Jt=c.zs3.create({providers:Pi(D),parent:U});if(E&&St(E)){const ys=E.resolveComponentFactory(te);ot=ae?ae.createComponent(ys,ae.length,Jt):ys.create(Jt)}else{if(!ae)return null;{const ys=E;ot=ae.createComponent(te,{index:ae.indexOf,injector:Jt,environmentInjector:ys})}}const Hr=ot.instance,pi=ot.location.nativeElement;if(D&&Object.assign(Hr,D),H)for(const ys of H)pi.classList.add(ys);const Os=As(q,Hr,pi);return xr.appendChild(pi),ae||Bt.attachView(ot.hostView),ot.changeDetectorRef.reattach(),gn.set(pi,ot),ur.set(pi,Os),pi},Ys=[Ge.L,Ge.a,Ge.b,Ge.c,Ge.d],As=(q,E,U)=>q.run(()=>{const ae=Ys.filter(Bt=>"function"==typeof E[Bt]).map(Bt=>{const gn=ur=>E[Bt](ur.detail);return U.addEventListener(Bt,gn),()=>U.removeEventListener(Bt,gn)});return()=>ae.forEach(Bt=>Bt())}),Ti=new c.OlP("NavParamsToken"),Pi=q=>[{provide:Ti,useValue:q},{provide:ai,useFactory:qs,deps:[Ti]}],qs=q=>new ai(q),Bs=(q,E)=>((q=q.filter(U=>U.stackId!==E.stackId)).push(E),q),Us=(q,E)=>(q.indexOf(E)>=0?q=q.filter(ae=>ae.stackId!==E.stackId||ae.id<=E.id):q.push(E),q),Ki=(q,E)=>q.indexOf(E)>=0?q.filter(ae=>ae.stackId!==E.stackId||ae.id<=E.id):Bs(q,E),vt=(q,E)=>{const U=q.createUrlTree(["."],{relativeTo:E});return q.serializeUrl(U)},kt=(q,E)=>{if(!q)return;const U=Qt(E);for(let ae=0;ae<U.length;ae++){if(ae>=q.length)return U[ae];if(U[ae]!==q[ae])return}},Qt=q=>q.split("/").map(E=>E.trim()).filter(E=>""!==E),vn=q=>{q&&(q.ref.destroy(),q.unlistenEvents())};class Vn{constructor(E,U,ae,Bt,gn,ur){this.containerEl=U,this.router=ae,this.navCtrl=Bt,this.zone=gn,this.location=ur,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==E?Qt(E):void 0}createView(E,U){var ae;const Bt=vt(this.router,U),gn=null===(ae=null==E?void 0:E.location)||void 0===ae?void 0:ae.nativeElement,ur=As(this.zone,E.instance,gn);return{id:this.nextId++,stackId:kt(this.tabsPrefix,Bt),unlistenEvents:ur,element:gn,ref:E,url:Bt}}getExistingView(E){const U=vt(this.router,E),ae=this.views.find(Bt=>Bt.url===U);return ae&&ae.ref.changeDetectorRef.reattach(),ae}setActive(E){var U,ae;const Bt=this.navCtrl.consumeTransition();let{direction:gn,animation:ur,animationBuilder:xr}=Bt;const te=this.activeView,D=((q,E)=>!E||q.stackId!==E.stackId)(E,te);D&&(gn="back",ur=void 0);const H=this.views.slice();let ot;const Jt=this.router;Jt.getCurrentNavigation?ot=Jt.getCurrentNavigation():!(null===(U=Jt.navigations)||void 0===U)&&U.value&&(ot=Jt.navigations.value),null!==(ae=null==ot?void 0:ot.extras)&&void 0!==ae&&ae.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Hr=this.views.includes(E),pi=this.insertView(E,gn);Hr||E.ref.changeDetectorRef.detectChanges();const Os=E.animationBuilder;return void 0===xr&&"back"===gn&&!D&&void 0!==Os&&(xr=Os),te&&(te.animationBuilder=xr),this.zone.runOutsideAngular(()=>this.wait(()=>(te&&te.ref.changeDetectorRef.detach(),E.ref.changeDetectorRef.reattach(),this.transition(E,te,ur,this.canGoBack(1),!1,xr).then(()=>Ar(E,pi,H,this.location,this.zone)).then(()=>({enteringView:E,direction:gn,animation:ur,tabSwitch:D})))))}canGoBack(E,U=this.getActiveStackId()){return this.getStack(U).length>E}pop(E,U=this.getActiveStackId()){return this.zone.run(()=>{var ae,Bt;const gn=this.getStack(U);if(gn.length<=E)return Promise.resolve(!1);const ur=gn[gn.length-E-1];let xr=ur.url;const te=ur.savedData;if(te){const H=te.get("primary");null!==(Bt=null===(ae=null==H?void 0:H.route)||void 0===ae?void 0:ae._routerState)&&void 0!==Bt&&Bt.snapshot.url&&(xr=H.route._routerState.snapshot.url)}const{animationBuilder:D}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(xr,Object.assign(Object.assign({},ur.savedExtras),{animation:D})).then(()=>!0)})}startBackTransition(){const E=this.activeView;if(E){const U=this.getStack(E.stackId),ae=U[U.length-2],Bt=ae.animationBuilder;return this.wait(()=>this.transition(ae,E,"back",this.canGoBack(2),!0,Bt))}return Promise.resolve()}endBackTransition(E){E?(this.skipTransition=!0,this.pop(1)):this.activeView&&ei(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(E){const U=this.getStack(E);return U.length>0?U[U.length-1]:void 0}getRootUrl(E){const U=this.getStack(E);return U.length>0?U[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(vn),this.activeView=void 0,this.views=[]}getStack(E){return this.views.filter(U=>U.stackId===E)}insertView(E,U){return this.activeView=E,this.views=((q,E,U)=>"root"===U?Bs(q,E):"forward"===U?Us(q,E):Ki(q,E))(this.views,E,U),this.views.slice()}transition(E,U,ae,Bt,gn,ur){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(U===E)return Promise.resolve(!1);const xr=E?E.element:void 0,te=U?U.element:void 0,D=this.containerEl;return xr&&xr!==te&&(xr.classList.add("ion-page"),xr.classList.add("ion-page-invisible"),xr.parentElement!==D&&D.appendChild(xr),D.commit)?D.commit(xr,te,{deepWait:!0,duration:void 0===ae?0:void 0,direction:ae,showGoBack:Bt,progressAnimation:gn,animationBuilder:ur}):Promise.resolve(!1)}wait(E){return(0,$.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const U=this.runningTask=E();return U.finally(()=>this.runningTask=void 0),U})}}const Ar=(q,E,U,ae,Bt)=>"function"==typeof requestAnimationFrame?new Promise(gn=>{requestAnimationFrame(()=>{ei(q,E,U,ae,Bt),gn()})}):Promise.resolve(),ei=(q,E,U,ae,Bt)=>{Bt.run(()=>U.filter(gn=>!E.includes(gn)).forEach(vn)),E.forEach(gn=>{const xr=ae.path().split("?")[0].split("#")[0];if(gn!==q&&gn.url!==xr){const te=gn.element;te.setAttribute("aria-hidden","true"),te.classList.add("ion-page-hidden"),gn.ref.changeDetectorRef.detach()}})};class Sr{get(E,U){const ae=Xi();return ae?ae.get(E,U):null}getBoolean(E,U){const ae=Xi();return!!ae&&ae.getBoolean(E,U)}getNumber(E,U){const ae=Xi();return ae?ae.getNumber(E,U):0}}Sr.\u0275fac=function(E){return new(E||Sr)},Sr.\u0275prov=c.Yz7({token:Sr,factory:Sr.\u0275fac,providedIn:"root"});const Xr=new c.OlP("USERCONFIG"),Xi=()=>{if("undefined"!=typeof window){const q=window.Ionic;if(null!=q&&q.config)return q.config}return null};class Pr{constructor(E,U){this.doc=E,this.backButton=new Fe.x,this.keyboardDidShow=new Fe.x,this.keyboardDidHide=new Fe.x,this.pause=new Fe.x,this.resume=new Fe.x,this.resize=new Fe.x,U.run(()=>{var ae;let Bt;this.win=E.defaultView,this.backButton.subscribeWithPriority=function(gn,ur){return this.subscribe(xr=>xr.register(gn,te=>U.run(()=>ur(te))))},Ai(this.pause,E,"pause"),Ai(this.resume,E,"resume"),Ai(this.backButton,E,"ionBackButton"),Ai(this.resize,this.win,"resize"),Ai(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ai(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(gn=>{Bt=gn}),null!==(ae=this.win)&&void 0!==ae&&ae.cordova?E.addEventListener("deviceready",()=>{Bt("cordova")},{once:!0}):Bt("dom")})}is(E){return(0,de.a)(this.win,E)}platforms(){return(0,de.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(E){return Yi(this.win.location.href,E)}isLandscape(){return!this.isPortrait()}isPortrait(){var E,U;return null===(U=(E=this.win).matchMedia)||void 0===U?void 0:U.call(E,"(orientation: portrait)").matches}testUserAgent(E){const U=this.win.navigator;return!!((null==U?void 0:U.userAgent)&&U.userAgent.indexOf(E)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}Pr.\u0275fac=function(E){return new(E||Pr)(c.LFG(ee.K0),c.LFG(c.R0b))},Pr.\u0275prov=c.Yz7({token:Pr,factory:Pr.\u0275fac,providedIn:"root"});const Yi=(q,E)=>{E=E.replace(/[[\]\\]/g,"\\$&");const ae=new RegExp("[\\?&]"+E+"=([^&#]*)").exec(q);return ae?decodeURIComponent(ae[1].replace(/\+/g," ")):null},Ai=(q,E,U)=>{E&&E.addEventListener(U,ae=>{q.next(null!=ae?ae.detail:void 0)})};class ii{constructor(E,U,ae,Bt){this.location=U,this.serializer=ae,this.router=Bt,this.direction=Rs,this.animated=Vi,this.guessDirection="forward",this.lastNavId=-1,Bt&&Bt.events.subscribe(gn=>{if(gn instanceof le.OD){const ur=gn.restoredState?gn.restoredState.navigationId:gn.id;this.guessDirection=ur<this.lastNavId?"back":"forward",this.guessAnimation=gn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?gn.id:ur}}),E.backButton.subscribeWithPriority(0,gn=>{this.pop(),gn()})}navigateForward(E,U={}){return this.setDirection("forward",U.animated,U.animationDirection,U.animation),this.navigate(E,U)}navigateBack(E,U={}){return this.setDirection("back",U.animated,U.animationDirection,U.animation),this.navigate(E,U)}navigateRoot(E,U={}){return this.setDirection("root",U.animated,U.animationDirection,U.animation),this.navigate(E,U)}back(E={animated:!0,animationDirection:"back"}){return this.setDirection("back",E.animated,E.animationDirection,E.animation),this.location.back()}pop(){return(0,$.mG)(this,void 0,void 0,function*(){let E=this.topOutlet;for(;E&&!(yield E.pop());)E=E.parentOutlet})}setDirection(E,U,ae,Bt){this.direction=E,this.animated=hs(E,U,ae),this.animationBuilder=Bt}setTopOutlet(E){this.topOutlet=E}consumeTransition(){let U,E="root";const ae=this.animationBuilder;return"auto"===this.direction?(E=this.guessDirection,U=this.guessAnimation):(U=this.animated,E=this.direction),this.direction=Rs,this.animated=Vi,this.animationBuilder=void 0,{direction:E,animation:U,animationBuilder:ae}}navigate(E,U){if(Array.isArray(E))return this.router.navigate(E,U);{const ae=this.serializer.parse(E.toString());return void 0!==U.queryParams&&(ae.queryParams=Object.assign({},U.queryParams)),void 0!==U.fragment&&(ae.fragment=U.fragment),this.router.navigateByUrl(ae,U)}}}ii.\u0275fac=function(E){return new(E||ii)(c.LFG(Pr),c.LFG(ee.Ye),c.LFG(le.Hx),c.LFG(le.F0,8))},ii.\u0275prov=c.Yz7({token:ii,factory:ii.\u0275fac,providedIn:"root"});const hs=(q,E,U)=>{if(!1!==E){if(void 0!==U)return U;if("forward"===q||"back"===q)return q;if("root"===q&&!0===E)return"forward"}},Rs="auto",Vi=void 0;class ti{constructor(E,U,ae,Bt,gn,ur,xr,te,D,H,ot,Jt,Hr){this.parentContexts=E,this.location=U,this.config=gn,this.navCtrl=ur,this.componentFactoryResolver=xr,this.parentOutlet=Hr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ie.X(null),this.stackEvents=new c.vpe,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.nativeEl=D.nativeElement,this.name=ae||le.eC,this.tabsPrefix="true"===Bt?vt(H,Jt):void 0,this.stackCtrl=new Vn(this.tabsPrefix,this.nativeEl,H,ur,ot,te),E.onChildOutletCreated(this.name,this)}set animation(E){this.nativeEl.animation=E}set animated(E){this.nativeEl.animated=E}set swipeGesture(E){this._swipeGesture=E,this.nativeEl.swipeHandler=E?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:U=>this.stackCtrl.endBackTransition(U)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const E=this.getContext();null!=E&&E.route&&this.activateWith(E.route,E.resolver||null)}new Promise(E=>(0,Be.c)(this.nativeEl,E)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(E,U){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const U=this.getContext();this.activatedView.savedData=new Map(U.children.contexts);const ae=this.activatedView.savedData.get("primary");if(ae&&U.route&&(ae.route=Object.assign({},U.route)),this.activatedView.savedExtras={},U.route){const Bt=U.route.snapshot;this.activatedView.savedExtras.queryParams=Bt.queryParams,this.activatedView.savedExtras.fragment=Bt.fragment}}const E=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,U){var ae;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;let Bt,gn=this.stackCtrl.getExistingView(E);if(gn){Bt=this.activated=gn.ref;const ur=gn.savedData;if(ur){this.getContext().children.contexts=ur}this.updateActivatedRouteProxy(Bt.instance,E)}else{const ur=E._futureSnapshot;if(null==ur.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const xr=this.parentContexts.getOrCreateContext(this.name).children,te=new Ie.X(null),D=this.createActivatedRouteProxy(te,E),H=new ws(D,xr,this.location.injector);U=U||this.componentFactoryResolver;const ot=null!==(ae=ur.routeConfig.component)&&void 0!==ae?ae:ur.component;if(U&&St(U)){const Jt=U.resolveComponentFactory(ot);Bt=this.activated=this.location.createComponent(Jt,this.location.length,H)}else{const Jt=null!=U?U:this.environmentInjector;Bt=this.activated=this.location.createComponent(ot,{index:this.location.length,injector:H,environmentInjector:Jt})}te.next(Bt.instance),gn=this.stackCtrl.createView(this.activated,E),this.proxyMap.set(Bt.instance,D),this.currentActivatedRoute$.next({component:Bt.instance,activatedRoute:E})}this.activatedView=gn,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(gn).then(ur=>{this.activateEvents.emit(Bt.instance),this.stackEvents.emit(ur)})}canGoBack(E=1,U){return this.stackCtrl.canGoBack(E,U)}pop(E=1,U){return this.stackCtrl.pop(E,U)}getLastUrl(E){const U=this.stackCtrl.getLastUrl(E);return U?U.url:void 0}getLastRouteView(E){return this.stackCtrl.getLastUrl(E)}getRootView(E){return this.stackCtrl.getRootUrl(E)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(E,U){const ae=new le.gz;return ae._futureSnapshot=U._futureSnapshot,ae._routerState=U._routerState,ae.snapshot=U.snapshot,ae.outlet=U.outlet,ae.component=U.component,ae._paramMap=this.proxyObservable(E,"paramMap"),ae._queryParamMap=this.proxyObservable(E,"queryParamMap"),ae.url=this.proxyObservable(E,"url"),ae.params=this.proxyObservable(E,"params"),ae.queryParams=this.proxyObservable(E,"queryParams"),ae.fragment=this.proxyObservable(E,"fragment"),ae.data=this.proxyObservable(E,"data"),ae}proxyObservable(E,U){return E.pipe((0,De.h)(ae=>!!ae),(0,st.w)(ae=>this.currentActivatedRoute$.pipe((0,De.h)(Bt=>null!==Bt&&Bt.component===ae),(0,st.w)(Bt=>Bt&&Bt.activatedRoute[U]),(0,ie.x)())))}updateActivatedRouteProxy(E,U){const ae=this.proxyMap.get(E);if(!ae)throw new Error("Could not find activated route proxy for view");ae._futureSnapshot=U._futureSnapshot,ae._routerState=U._routerState,ae.snapshot=U.snapshot,ae.outlet=U.outlet,ae.component=U.component,this.currentActivatedRoute$.next({component:E,activatedRoute:U})}}ti.\u0275fac=function(E){return new(E||ti)(c.Y36(le.y6),c.Y36(c.s_b),c.$8M("name"),c.$8M("tabs"),c.Y36(Sr),c.Y36(ii),c.Y36(c._Vd,8),c.Y36(ee.Ye),c.Y36(c.SBq),c.Y36(le.F0),c.Y36(c.R0b),c.Y36(le.gz),c.Y36(ti,12))},ti.\u0275dir=c.lG2({type:ti,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]});class ws{constructor(E,U,ae){this.route=E,this.childContexts=U,this.parent=ae}get(E,U){return E===le.gz?this.route:E===le.y6?this.childContexts:this.parent.get(E,U)}}class fs{constructor(E){this.navCtrl=E,this.ionTabsWillChange=new c.vpe,this.ionTabsDidChange=new c.vpe}onPageSelected(E){const U=E.enteringView.stackId;E.tabSwitch&&void 0!==U&&(this.ionTabsWillChange.emit({tab:U}),this.tabBar&&(this.tabBar.selectedTab=U),this.ionTabsDidChange.emit({tab:U}))}select(E){const U="string"==typeof E,ae=U?E:E.detail.tab,Bt=this.outlet.getActiveStackId()===ae,gn=`${this.outlet.tabsPrefix}/${ae}`;if(U||E.stopPropagation(),Bt){const ur=this.outlet.getActiveStackId(),xr=this.outlet.getLastRouteView(ur);if((null==xr?void 0:xr.url)===gn)return;const te=this.outlet.getRootView(ae),D=te&&gn===te.url&&te.savedExtras;return this.navCtrl.navigateRoot(gn,Object.assign(Object.assign({},D),{animated:!0,animationDirection:"back"}))}{const ur=this.outlet.getLastRouteView(ae),xr=(null==ur?void 0:ur.url)||gn,te=null==ur?void 0:ur.savedExtras;return this.navCtrl.navigateRoot(xr,Object.assign(Object.assign({},te),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}fs.\u0275fac=function(E){return new(E||fs)(c.Y36(ii))},fs.\u0275cmp=c.Xpm({type:fs,selectors:[["ion-tabs"]],contentQueries:function(E,U,ae){if(1&E&&c.Suo(ae,we,5),2&E){let Bt;c.iGM(Bt=c.CRH())&&(U.tabBar=Bt.first)}},viewQuery:function(E,U){if(1&E&&c.Gf(Ve,5,ti),2&E){let ae;c.iGM(ae=c.CRH())&&(U.outlet=ae.first)}},hostBindings:function(E,U){1&E&&c.NdJ("ionTabButtonClick",function(Bt){return U.select(Bt)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:["[slot=top]","*"],decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(E,U){1&E&&(c.F$t(qe),c.Hsn(0),c.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),c.NdJ("stackEvents",function(Bt){return U.onPageSelected(Bt)}),c.qZA()(),c.Hsn(4,1)),2&E&&(c.xp6(2),c.Q6J("environmentInjector",U.environmentInjector))},dependencies:[ti],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]});class ps{constructor(E,U,ae){this.routerOutlet=E,this.navCtrl=U,this.config=ae}onClick(E){var U;const ae=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(U=this.routerOutlet)&&void 0!==U&&U.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),E.preventDefault()):null!=ae&&(this.navCtrl.navigateBack(ae,{animation:this.routerAnimation}),E.preventDefault())}}ps.\u0275fac=function(E){return new(E||ps)(c.Y36(ti,8),c.Y36(ii),c.Y36(Sr))},ps.\u0275dir=c.lG2({type:ps,selectors:[["ion-back-button"]],hostBindings:function(E,U){1&E&&c.NdJ("click",function(Bt){return U.onClick(Bt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}});let Vs=class{constructor(E,U,ae,Bt,gn){this.el=E.nativeElement,E.nativeElement.delegate=Bt.create(U,ae,gn),bt(this,this.el,["ionNavDidChange","ionNavWillChange"])}};Vs.\u0275fac=function(E){return new(E||Vs)(c.Y36(c.SBq),c.Y36(c._Vd),c.Y36(c.zs3),c.Y36(Fr),c.Y36(c.s_b))},Vs.\u0275dir=c.lG2({type:Vs,selectors:[["ion-nav"]]}),Vs=(0,$.gn)([Et({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],Vs);class fi{constructor(E,U,ae,Bt,gn){this.locationStrategy=E,this.navCtrl=U,this.elementRef=ae,this.router=Bt,this.routerLink=gn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var E;if(null!==(E=this.routerLink)&&void 0!==E&&E.urlTree){const U=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=U}}onClick(E){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),E.preventDefault()}}fi.\u0275fac=function(E){return new(E||fi)(c.Y36(ee.S$),c.Y36(ii),c.Y36(c.SBq),c.Y36(le.F0),c.Y36(le.rH,8))},fi.\u0275dir=c.lG2({type:fi,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,U){1&E&&c.NdJ("click",function(Bt){return U.onClick(Bt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[c.TTD]});class Ze{constructor(E,U,ae,Bt,gn){this.locationStrategy=E,this.navCtrl=U,this.elementRef=ae,this.router=Bt,this.routerLink=gn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var E;if(null!==(E=this.routerLink)&&void 0!==E&&E.urlTree){const U=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=U}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}Ze.\u0275fac=function(E){return new(E||Ze)(c.Y36(ee.S$),c.Y36(ii),c.Y36(c.SBq),c.Y36(le.F0),c.Y36(le.rH,8))},Ze.\u0275dir=c.lG2({type:Ze,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(E,U){1&E&&c.NdJ("click",function(){return U.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[c.TTD]});class ke{constructor(E){this.templateRef=E}}ke.\u0275fac=function(E){return new(E||ke)(c.Y36(c.Rgc))},ke.\u0275dir=c.lG2({type:ke,selectors:[["","virtualFooter",""]]});class ft{constructor(E){this.templateRef=E}}ft.\u0275fac=function(E){return new(E||ft)(c.Y36(c.Rgc))},ft.\u0275dir=c.lG2({type:ft,selectors:[["","virtualHeader",""]]});class Lt{constructor(E,U){this.templateRef=E,this.viewContainer=U}}Lt.\u0275fac=function(E){return new(E||Lt)(c.Y36(c.Rgc),c.Y36(c.s_b))},Lt.\u0275dir=c.lG2({type:Lt,selectors:[["","virtualItem",""]]});let Zt=class{constructor(E,U,ae){this.z=E,this.iterableDiffers=U,this.refMap=new WeakMap,this.el=ae.nativeElement,this.el.nodeRender=this.nodeRender.bind(this)}ngOnChanges(E){if(this.trackBy&&"items"in E){const U=E.items.currentValue;if(void 0===this.differ&&null!=U)try{this.differ=this.iterableDiffers.find(U).create(this.trackBy)}catch(ae){throw new Error(`Cannot find a differ supporting object '${U}'. VirtualScroll only supports binding to Iterables such as Arrays.`)}}}ngDoCheck(){null!==(void 0!==this.differ&&this.items?this.differ.diff(this.items):null)&&this.checkRange(0)}nodeRender(E,U,ae){return this.z.run(()=>{let Bt;if(E){Bt=this.refMap.get(E);const gn=Bt.context;gn.$implicit=U.value,gn.index=U.index}else Bt=this.itmTmp.viewContainer.createEmbeddedView(this.getComponent(U.type),{$implicit:U.value,index:ae},ae),E=Cn(Bt),this.refMap.set(E,Bt);return Bt.detectChanges(),E})}getComponent(E){switch(E){case"item":return this.itmTmp.templateRef;case"header":return this.hdrTmp.templateRef;case"footer":return this.ftrTmp.templateRef;default:throw new Error("template for virtual item was not provided")}}};Zt.\u0275fac=function(E){return new(E||Zt)(c.Y36(c.R0b),c.Y36(c.ZZ4),c.Y36(c.SBq))},Zt.\u0275cmp=c.Xpm({type:Zt,selectors:[["ion-virtual-scroll"]],contentQueries:function(E,U,ae){if(1&E&&(c.Suo(ae,Lt,5),c.Suo(ae,ft,5),c.Suo(ae,ke,5)),2&E){let Bt;c.iGM(Bt=c.CRH())&&(U.itmTmp=Bt.first),c.iGM(Bt=c.CRH())&&(U.hdrTmp=Bt.first),c.iGM(Bt=c.CRH())&&(U.ftrTmp=Bt.first)}},inputs:{approxItemHeight:"approxItemHeight",approxHeaderHeight:"approxHeaderHeight",approxFooterHeight:"approxFooterHeight",headerFn:"headerFn",footerFn:"footerFn",items:"items",itemHeight:"itemHeight",headerHeight:"headerHeight",footerHeight:"footerHeight",trackBy:"trackBy"},features:[c.TTD],ngContentSelectors:Ae,decls:1,vars:0,template:function(E,U){1&E&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),Zt=(0,$.gn)([Et({inputs:["approxItemHeight","approxHeaderHeight","approxFooterHeight","headerFn","footerFn","items","itemHeight","headerHeight","footerHeight"],methods:["checkEnd","checkRange","positionForItem"]})],Zt);const Cn=q=>{const E=q.rootNodes;for(let U=0;U<E.length;U++)if(1===E[U].nodeType)return E[U];throw new Error("virtual element was not created")};let Nn=class{constructor(E,U,ae){this.z=ae,this.isCmpOpen=!1,this.el=U.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,E.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,E.detectChanges()}),bt(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};Nn.\u0275fac=function(E){return new(E||Nn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Nn.\u0275cmp=c.Xpm({type:Nn,selectors:[["ion-modal"]],contentQueries:function(E,U,ae){if(1&E&&c.Suo(ae,c.Rgc,5),2&E){let Bt;c.iGM(Bt=c.CRH())&&(U.template=Bt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",swipeToClose:"swipeToClose",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-page",4,"ngIf"],[1,"ion-page"],[3,"ngTemplateOutlet"]],template:function(E,U){1&E&&c.YNc(0,Ye,2,1,"div",0),2&E&&c.Q6J("ngIf",U.isCmpOpen||U.keepContentsMounted)},dependencies:[ee.O5,ee.tP],encapsulation:2,changeDetection:0}),Nn=(0,$.gn)([Et({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","swipeToClose","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],Nn);let Yn=class{constructor(E,U,ae){this.z=ae,this.isCmpOpen=!1,this.el=U.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,E.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,E.detectChanges()}),bt(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};Yn.\u0275fac=function(E){return new(E||Yn)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},Yn.\u0275cmp=c.Xpm({type:Yn,selectors:[["ion-popover"]],contentQueries:function(E,U,ae){if(1&E&&c.Suo(ae,c.Rgc,5),2&E){let Bt;c.iGM(Bt=c.CRH())&&(U.template=Bt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(E,U){1&E&&c.YNc(0,it,1,1,"ng-container",0),2&E&&c.Q6J("ngIf",U.isCmpOpen||U.keepContentsMounted)},dependencies:[ee.O5,ee.tP],encapsulation:2,changeDetection:0}),Yn=(0,$.gn)([Et({inputs:["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],Yn);class Cr{constructor(E){this.ctrl=E}create(E){return this.ctrl.create(E||{})}dismiss(E,U,ae){return this.ctrl.dismiss(E,U,ae)}getTop(){return this.ctrl.getTop()}}class Wr extends Cr{constructor(){super(Me.b)}}Wr.\u0275fac=function(E){return new(E||Wr)},Wr.\u0275prov=c.Yz7({token:Wr,factory:Wr.\u0275fac,providedIn:"root"});class Qr extends Cr{constructor(){super(Me.a)}}Qr.\u0275fac=function(E){return new(E||Qr)},Qr.\u0275prov=c.Yz7({token:Qr,factory:Qr.\u0275fac,providedIn:"root"});class Vr extends Cr{constructor(){super(Me.l)}}Vr.\u0275fac=function(E){return new(E||Vr)},Vr.\u0275prov=c.Yz7({token:Vr,factory:Vr.\u0275fac,providedIn:"root"});class ni{open(E){return dt.m.open(E)}close(E){return dt.m.close(E)}toggle(E){return dt.m.toggle(E)}enable(E,U){return dt.m.enable(E,U)}swipeGesture(E,U){return dt.m.swipeGesture(E,U)}isOpen(E){return dt.m.isOpen(E)}isEnabled(E){return dt.m.isEnabled(E)}get(E){return dt.m.get(E)}getOpen(){return dt.m.getOpen()}getMenus(){return dt.m.getMenus()}}ni.\u0275fac=function(E){return new(E||ni)},ni.\u0275prov=c.Yz7({token:ni,factory:ni.\u0275fac,providedIn:"root"});class $i extends Cr{constructor(){super(Me.p)}}$i.\u0275fac=function(E){return new(E||$i)},$i.\u0275prov=c.Yz7({token:$i,factory:$i.\u0275fac,providedIn:"root"});class Er{}class Ds extends Cr{constructor(E,U,ae,Bt){super(Me.m),this.angularDelegate=E,this.resolver=U,this.injector=ae,this.environmentInjector=Bt}create(E){var U;return super.create(Object.assign(Object.assign({},E),{delegate:this.angularDelegate.create(null!==(U=this.resolver)&&void 0!==U?U:this.environmentInjector,this.injector)}))}}Ds.\u0275fac=function(E){return new(E||Ds)(c.LFG(Fr),c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(Er,8))},Ds.\u0275prov=c.Yz7({token:Ds,factory:Ds.\u0275fac});class Si extends Cr{constructor(E,U,ae,Bt){super(Me.c),this.angularDelegate=E,this.resolver=U,this.injector=ae,this.environmentInjector=Bt}create(E){var U;return super.create(Object.assign(Object.assign({},E),{delegate:this.angularDelegate.create(null!==(U=this.resolver)&&void 0!==U?U:this.environmentInjector,this.injector)}))}}Si.\u0275fac=function(E){return new(E||Si)(c.LFG(Fr),c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(Er,8))},Si.\u0275prov=c.Yz7({token:Si,factory:Si.\u0275fac});class no extends Cr{constructor(){super(Me.t)}}no.\u0275fac=function(E){return new(E||no)},no.\u0275prov=c.Yz7({token:no,factory:no.\u0275fac,providedIn:"root"});class _s{read(E){ki().read(E)}write(E){ki().write(E)}}_s.\u0275fac=function(E){return new(E||_s)},_s.\u0275prov=c.Yz7({token:_s,factory:_s.\u0275fac,providedIn:"root"});const ki=()=>{const q="undefined"!=typeof window?window:null;if(null!=q){const E=q.Ionic;return null!=E&&E.queue?E.queue:{read:U=>q.requestAnimationFrame(U),write:U=>q.requestAnimationFrame(U)}}return{read:E=>E(),write:E=>E()}};class Li{create(E){return(0,Ce.c)(E)}easingTime(E,U,ae,Bt,gn){return(0,_e.g)(E,U,ae,Bt,gn)}}Li.\u0275fac=function(E){return new(E||Li)},Li.\u0275prov=c.Yz7({token:Li,factory:Li.\u0275fac,providedIn:"root"});class es{constructor(E){this.zone=E}create(E,U=!1){return U&&Object.getOwnPropertyNames(E).forEach(ae=>{if("function"==typeof E[ae]){const Bt=E[ae];E[ae]=(...gn)=>this.zone.run(()=>Bt(...gn))}}),(0,xe.createGesture)(E)}}es.\u0275fac=function(E){return new(E||es)(c.LFG(c.R0b))},es.\u0275prov=c.Yz7({token:es,factory:es.\u0275fac,providedIn:"root"});class wo{shouldDetach(E){return!1}shouldAttach(E){return!1}store(E,U){}retrieve(E){return null}shouldReuseRoute(E,U){if(E.routeConfig!==U.routeConfig)return!1;const ae=E.params,Bt=U.params,gn=Object.keys(ae),ur=Object.keys(Bt);if(gn.length!==ur.length)return!1;for(const xr of gn)if(Bt[xr]!==ae[xr])return!1;return!0}}const yn=(q,E,U)=>()=>{const ae=E.defaultView;if(ae&&"undefined"!=typeof window){(q=>{const E=window,U=E.Ionic;if(!U||!U.config||"Object"===U.config.constructor.name)E.Ionic=E.Ionic||{},E.Ionic.config=Object.assign(Object.assign({},E.Ionic.config),q),E.Ionic.config})(Object.assign(Object.assign({},q),{_zoneGate:gn=>U.run(gn)}));const Bt="__zone_symbol__addEventListener"in E.body?"__zone_symbol__addEventListener":"addEventListener";return function oe(){var q=[];if("undefined"!=typeof window){var E=window;(!E.customElements||E.Element&&(!E.Element.prototype.closest||!E.Element.prototype.matches||!E.Element.prototype.remove||!E.Element.prototype.getRootNode))&&q.push(R.e(6748).then(R.t.bind(R,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||E.NodeList&&!E.NodeList.prototype.forEach||!E.fetch||!function(){try{var ae=new URL("b","http://a");return ae.pathname="c%20d","http://a/c%20d"===ae.href&&ae.searchParams}catch(Bt){return!1}}()||"undefined"==typeof WeakMap)&&q.push(R.e(2214).then(R.t.bind(R,7320,23)))}return Promise.all(q)}().then(()=>Ne(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:lt,jmp:gn=>U.runOutsideAngular(gn),ael(gn,ur,xr,te){gn[Bt](ur,xr,te)},rel(gn,ur,xr,te){gn.removeEventListener(ur,xr,te)}}))}};class Qi{static forRoot(E){return{ngModule:Qi,providers:[{provide:Xr,useValue:E},{provide:c.ip1,useFactory:yn,multi:!0,deps:[Xr,ee.K0,c.R0b]}]}}}Qi.\u0275fac=function(E){return new(E||Qi)},Qi.\u0275mod=c.oAB({type:Qi}),Qi.\u0275inj=c.cJS({providers:[Fr,Ds,Si],imports:[[ee.ez]]})},631:(ln,at,R)=>{"use strict";R.d(at,{c:()=>dt});var c=R(9259),B=R(2286);let $;const Fe=Me=>Me.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ie=Me=>{if(void 0===$){const be=void 0!==Me.style.animationName,Ee=void 0!==Me.style.webkitAnimationName;$=!be&&Ee?"-webkit-":""}return $},le=(Me,be,Ee)=>{const xt=be.startsWith("animation")?Ie(Me):"";Me.style.setProperty(xt+be,Ee)},Ce=(Me,be)=>{const Ee=be.startsWith("animation")?Ie(Me):"";Me.style.removeProperty(Ee+be)},_e=[],Ge=(Me=[],be)=>{if(void 0!==be){const Ee=Array.isArray(be)?be:[be];return[...Me,...Ee]}return Me},dt=Me=>{let be,Ee,xt,mt,yt,et,ie,qe,Se,Ye,it,qt,an,nt=[],me=[],De=[],st=!1,ee={},oe=[],J=[],ge={},Ne=0,Ae=!1,Ve=!1,lt=!0,St=!1,Ht=!0,Fn=!1;const ir=Me,tr=[],jn=[],Mn=[],z=[],Rt=[],Vt=[],hn=[],bt=[],rn=[],Et=[],cn="function"==typeof AnimationEffect||void 0!==B.w&&"function"==typeof B.w.AnimationEffect,nr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&cn,hr=()=>Et,En=we=>{_r(),we&&pr()},Bn=(we,ut)=>((null!=ut&&ut.oneTimeCallback?jn:tr).push({c:we,o:ut}),an),yr=()=>(tr.length=0,jn.length=0,an),_r=()=>{if(nr)Et.forEach(we=>{we.cancel()}),Et.length=0;else{const we=Mn.slice();(0,c.r)(()=>{we.forEach(ut=>{Ce(ut,"animation-name"),Ce(ut,"animation-duration"),Ce(ut,"animation-timing-function"),Ce(ut,"animation-iteration-count"),Ce(ut,"animation-delay"),Ce(ut,"animation-play-state"),Ce(ut,"animation-fill-mode"),Ce(ut,"animation-direction")})})}},pr=()=>{Rt.forEach(we=>{null!=we&&we.parentNode&&we.parentNode.removeChild(we)}),Rt.length=0},lr=()=>void 0!==yt?yt:ie?ie.getFill():"both",Xe=()=>void 0!==Se?Se:void 0!==et?et:ie?ie.getDirection():"normal",Te=()=>Ae?"linear":void 0!==xt?xt:ie?ie.getEasing():"linear",tt=()=>Ve?0:void 0!==Ye?Ye:void 0!==Ee?Ee:ie?ie.getDuration():0,Ue=()=>void 0!==mt?mt:ie?ie.getIterations():1,Y=()=>void 0!==it?it:void 0!==be?be:ie?ie.getDelay():0,Qe=we=>{nr?hr().forEach(ut=>{if(ut.effect.setKeyframes)ut.effect.setKeyframes(we);else{const Mt=new KeyframeEffect(ut.effect.target,we,ut.effect.getTiming());ut.effect=Mt}}):xn()},un=()=>{0!==Ne&&(Ne--,0===Ne&&((()=>{Lr(),bt.forEach(en=>en()),rn.forEach(en=>en());const we=lt?1:0,ut=oe,Mt=J,jt=ge;Mn.forEach(en=>{const An=en.classList;ut.forEach(Zn=>An.add(Zn)),Mt.forEach(Zn=>An.remove(Zn));for(const Zn in jt)jt.hasOwnProperty(Zn)&&le(en,Zn,jt[Zn])}),tr.forEach(en=>en.c(we,an)),jn.forEach(en=>en.c(we,an)),jn.length=0,Ht=!0,lt&&(St=!0),lt=!0})(),ie&&ie.animationFinish()))},xn=(we=!0)=>{pr();const ut=(Me=>(Me.forEach(be=>{for(const Ee in be)if(be.hasOwnProperty(Ee)){const xt=be[Ee];if("easing"===Ee)be["animation-timing-function"]=xt,delete be[Ee];else{const mt=Fe(Ee);mt!==Ee&&(be[mt]=xt,delete be[Ee])}}}),Me))(nt);Mn.forEach(Mt=>{if(ut.length>0){const jt=((Me=[])=>Me.map(be=>{const Ee=be.offset,xt=[];for(const mt in be)be.hasOwnProperty(mt)&&"offset"!==mt&&xt.push(`${mt}: ${be[mt]};`);return`${100*Ee}% { ${xt.join(" ")} }`}).join(" "))(ut);qt=void 0!==Me?Me:(Me=>{let be=_e.indexOf(Me);return be<0&&(be=_e.push(Me)-1),`ion-animation-${be}`})(jt);const en=((Me,be,Ee)=>{var xt;const mt=(Me=>{const be=void 0!==Me.getRootNode?Me.getRootNode():Me;return be.head||be})(Ee),yt=Ie(Ee),et=mt.querySelector("#"+Me);if(et)return et;const nt=(null!==(xt=Ee.ownerDocument)&&void 0!==xt?xt:document).createElement("style");return nt.id=Me,nt.textContent=`@${yt}keyframes ${Me} { ${be} } @${yt}keyframes ${Me}-alt { ${be} }`,mt.appendChild(nt),nt})(qt,jt,Mt);Rt.push(en),le(Mt,"animation-duration",`${tt()}ms`),le(Mt,"animation-timing-function",Te()),le(Mt,"animation-delay",`${Y()}ms`),le(Mt,"animation-fill-mode",lr()),le(Mt,"animation-direction",Xe());const An=Ue()===1/0?"infinite":Ue().toString();le(Mt,"animation-iteration-count",An),le(Mt,"animation-play-state","paused"),we&&le(Mt,"animation-name",`${en.id}-alt`),(0,c.r)(()=>{le(Mt,"animation-name",en.id||null)})}})},Z=(we=!0)=>{(()=>{Vt.forEach(jt=>jt()),hn.forEach(jt=>jt());const we=me,ut=De,Mt=ee;Mn.forEach(jt=>{const en=jt.classList;we.forEach(An=>en.add(An)),ut.forEach(An=>en.remove(An));for(const An in Mt)Mt.hasOwnProperty(An)&&le(jt,An,Mt[An])})})(),nt.length>0&&(nr?(Mn.forEach(we=>{const ut=we.animate(nt,{id:ir,delay:Y(),duration:tt(),easing:Te(),iterations:Ue(),fill:lr(),direction:Xe()});ut.pause(),Et.push(ut)}),Et.length>0&&(Et[0].onfinish=()=>{un()})):xn(we)),st=!0},x=we=>{if(we=Math.min(Math.max(we,0),.9999),nr)Et.forEach(ut=>{ut.currentTime=ut.effect.getComputedTiming().delay+tt()*we,ut.pause()});else{const ut=`-${tt()*we}ms`;Mn.forEach(Mt=>{nt.length>0&&(le(Mt,"animation-delay",ut),le(Mt,"animation-play-state","paused"))})}},j=we=>{Et.forEach(ut=>{ut.effect.updateTiming({delay:Y(),duration:tt(),easing:Te(),iterations:Ue(),fill:lr(),direction:Xe()})}),void 0!==we&&x(we)},ye=(we=!0,ut)=>{(0,c.r)(()=>{Mn.forEach(Mt=>{le(Mt,"animation-name",qt||null),le(Mt,"animation-duration",`${tt()}ms`),le(Mt,"animation-timing-function",Te()),le(Mt,"animation-delay",void 0!==ut?`-${ut*tt()}ms`:`${Y()}ms`),le(Mt,"animation-fill-mode",lr()||null),le(Mt,"animation-direction",Xe()||null);const jt=Ue()===1/0?"infinite":Ue().toString();le(Mt,"animation-iteration-count",jt),we&&le(Mt,"animation-name",`${qt}-alt`),(0,c.r)(()=>{le(Mt,"animation-name",qt||null)})})})},Ct=(we=!1,ut=!0,Mt)=>(we&&z.forEach(jt=>{jt.update(we,ut,Mt)}),nr?j(Mt):ye(ut,Mt),an),cr=()=>{st&&(nr?Et.forEach(we=>{we.pause()}):Mn.forEach(we=>{le(we,"animation-play-state","paused")}),Fn=!0)},Rr=()=>{qe=void 0,un()},Lr=()=>{qe&&clearTimeout(qe)},Ii=()=>{Mn.forEach(we=>{Ce(we,"animation-duration"),Ce(we,"animation-delay"),Ce(we,"animation-play-state")})},se=we=>new Promise(ut=>{null!=we&&we.sync&&(Ve=!0,Bn(()=>Ve=!1,{oneTimeCallback:!0})),st||Z(),St&&(nr?(x(0),j()):ye(),St=!1),Ht&&(Ne=z.length+1,Ht=!1),Bn(()=>ut(),{oneTimeCallback:!0}),z.forEach(Mt=>{Mt.play()}),nr?(Et.forEach(we=>{we.play()}),(0===nt.length||0===Mn.length)&&un()):(()=>{if(Lr(),(0,c.r)(()=>{Mn.forEach(we=>{nt.length>0&&le(we,"animation-play-state","running")})}),0===nt.length||0===Mn.length)un();else{const we=Y()||0,ut=tt()||0,Mt=Ue()||1;isFinite(Mt)&&(qe=setTimeout(Rr,we+ut*Mt+100)),((Me,be)=>{let Ee;const xt={passive:!0},mt=()=>{Ee&&Ee()},yt=et=>{Me===et.target&&(mt(),be(et))};Me&&(Me.addEventListener("webkitAnimationEnd",yt,xt),Me.addEventListener("animationend",yt,xt),Ee=()=>{Me.removeEventListener("webkitAnimationEnd",yt,xt),Me.removeEventListener("animationend",yt,xt)})})(Mn[0],()=>{Lr(),(0,c.r)(()=>{Ii(),(0,c.r)(un)})})}})(),Fn=!1}),pt=(we,ut)=>{const Mt=nt[0];return void 0===Mt||void 0!==Mt.offset&&0!==Mt.offset?nt=[{offset:0,[we]:ut},...nt]:Mt[we]=ut,an};return an={parentAnimation:ie,elements:Mn,childAnimations:z,id:ir,animationFinish:un,from:pt,to:(we,ut)=>{const Mt=nt[nt.length-1];return void 0===Mt||void 0!==Mt.offset&&1!==Mt.offset?nt=[...nt,{offset:1,[we]:ut}]:Mt[we]=ut,an},fromTo:(we,ut,Mt)=>pt(we,ut).to(we,Mt),parent:we=>(ie=we,an),play:se,pause:()=>(z.forEach(we=>{we.pause()}),cr(),an),stop:()=>{z.forEach(we=>{we.stop()}),st&&(_r(),st=!1),Ae=!1,Ve=!1,Ht=!0,Se=void 0,Ye=void 0,it=void 0,Ne=0,St=!1,lt=!0,Fn=!1},destroy:we=>(z.forEach(ut=>{ut.destroy(we)}),En(we),Mn.length=0,z.length=0,nt.length=0,yr(),st=!1,Ht=!0,an),keyframes:we=>{const ut=nt!==we;return nt=we,ut&&Qe(nt),an},addAnimation:we=>{if(null!=we)if(Array.isArray(we))for(const ut of we)ut.parent(an),z.push(ut);else we.parent(an),z.push(we);return an},addElement:we=>{if(null!=we)if(1===we.nodeType)Mn.push(we);else if(we.length>=0)for(let ut=0;ut<we.length;ut++)Mn.push(we[ut]);else console.error("Invalid addElement value");return an},update:Ct,fill:we=>(yt=we,Ct(!0),an),direction:we=>(et=we,Ct(!0),an),iterations:we=>(mt=we,Ct(!0),an),duration:we=>(!nr&&0===we&&(we=1),Ee=we,Ct(!0),an),easing:we=>(xt=we,Ct(!0),an),delay:we=>(be=we,Ct(!0),an),getWebAnimations:hr,getKeyframes:()=>nt,getFill:lr,getDirection:Xe,getDelay:Y,getIterations:Ue,getEasing:Te,getDuration:tt,afterAddRead:we=>(bt.push(we),an),afterAddWrite:we=>(rn.push(we),an),afterClearStyles:(we=[])=>{for(const ut of we)ge[ut]="";return an},afterStyles:(we={})=>(ge=we,an),afterRemoveClass:we=>(J=Ge(J,we),an),afterAddClass:we=>(oe=Ge(oe,we),an),beforeAddRead:we=>(Vt.push(we),an),beforeAddWrite:we=>(hn.push(we),an),beforeClearStyles:(we=[])=>{for(const ut of we)ee[ut]="";return an},beforeStyles:(we={})=>(ee=we,an),beforeRemoveClass:we=>(De=Ge(De,we),an),beforeAddClass:we=>(me=Ge(me,we),an),onFinish:Bn,isRunning:()=>0!==Ne&&!Fn,progressStart:(we=!1,ut)=>(z.forEach(Mt=>{Mt.progressStart(we,ut)}),cr(),Ae=we,st||Z(),Ct(!1,!0,ut),an),progressStep:we=>(z.forEach(ut=>{ut.progressStep(we)}),x(we),an),progressEnd:(we,ut,Mt)=>(Ae=!1,z.forEach(jt=>{jt.progressEnd(we,ut,Mt)}),void 0!==Mt&&(Ye=Mt),St=!1,lt=!0,0===we?(Se="reverse"===Xe()?"normal":"reverse","reverse"===Se&&(lt=!1),nr?(Ct(),x(1-ut)):(it=(1-ut)*tt()*-1,Ct(!1,!1))):1===we&&(nr?(Ct(),x(ut)):(it=ut*tt()*-1,Ct(!1,!1))),void 0!==we&&(Bn(()=>{Ye=void 0,Se=void 0,it=void 0},{oneTimeCallback:!0}),ie||se()),an)}}},1077:(ln,at,R)=>{"use strict";R.d(at,{g:()=>c});const c=(Ie,le,Ce,$e,ue)=>$(Ie[1],le[1],Ce[1],$e[1],ue).map(_e=>B(Ie[0],le[0],Ce[0],$e[0],_e)),B=(Ie,le,Ce,$e,ue)=>ue*(3*le*Math.pow(ue-1,2)+ue*(-3*Ce*ue+3*Ce+$e*ue))-Ie*Math.pow(ue-1,3),$=(Ie,le,Ce,$e,ue)=>Fe(($e-=ue)-3*(Ce-=ue)+3*(le-=ue)-(Ie-=ue),3*Ce-6*le+3*Ie,3*le-3*Ie,Ie).filter(xe=>xe>=0&&xe<=1),Fe=(Ie,le,Ce,$e)=>{if(0===Ie)return((Ie,le,Ce)=>{const $e=le*le-4*Ie*Ce;return $e<0?[]:[(-le+Math.sqrt($e))/(2*Ie),(-le-Math.sqrt($e))/(2*Ie)]})(le,Ce,$e);const ue=(3*(Ce/=Ie)-(le/=Ie)*le)/3,_e=(2*le*le*le-9*le*Ce+27*($e/=Ie))/27;if(0===ue)return[Math.pow(-_e,1/3)];if(0===_e)return[Math.sqrt(-ue),-Math.sqrt(-ue)];const xe=Math.pow(_e/2,2)+Math.pow(ue/3,3);if(0===xe)return[Math.pow(_e/2,.5)-le/3];if(xe>0)return[Math.pow(-_e/2+Math.sqrt(xe),1/3)-Math.pow(_e/2+Math.sqrt(xe),1/3)-le/3];const de=Math.sqrt(Math.pow(-ue/3,3)),Be=Math.acos(-_e/(2*Math.sqrt(Math.pow(-ue/3,3)))),Ge=2*Math.pow(de,1/3);return[Ge*Math.cos(Be/3)-le/3,Ge*Math.cos((Be+2*Math.PI)/3)-le/3,Ge*Math.cos((Be+4*Math.PI)/3)-le/3]}},6379:(ln,at,R)=>{"use strict";R.d(at,{G:()=>Fe});class B{constructor(le,Ce,$e,ue,_e){this.id=Ce,this.name=$e,this.disableScroll=_e,this.priority=1e6*ue+Ce,this.ctrl=le}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const le=this.ctrl.capture(this.name,this.id,this.priority);return le&&this.disableScroll&&this.ctrl.disableScroll(this.id),le}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ${constructor(le,Ce,$e,ue){this.id=Ce,this.disable=$e,this.disableScroll=ue,this.ctrl=le}block(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.disableGesture(le,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.enableGesture(le,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Le="backdrop-no-scroll",Fe=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(le){var Ce;return new B(this,this.newID(),le.name,null!==(Ce=le.priority)&&void 0!==Ce?Ce:0,!!le.disableScroll)}createBlocker(le={}){return new $(this,this.newID(),le.disable,!!le.disableScroll)}start(le,Ce,$e){return this.canStart(le)?(this.requestedStart.set(Ce,$e),!0):(this.requestedStart.delete(Ce),!1)}capture(le,Ce,$e){if(!this.start(le,Ce,$e))return!1;const ue=this.requestedStart;let _e=-1e4;if(ue.forEach(xe=>{_e=Math.max(_e,xe)}),_e===$e){this.capturedId=Ce,ue.clear();const xe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:le}});return document.dispatchEvent(xe),!0}return ue.delete(Ce),!1}release(le){this.requestedStart.delete(le),this.capturedId===le&&(this.capturedId=void 0)}disableGesture(le,Ce){let $e=this.disabledGestures.get(le);void 0===$e&&($e=new Set,this.disabledGestures.set(le,$e)),$e.add(Ce)}enableGesture(le,Ce){const $e=this.disabledGestures.get(le);void 0!==$e&&$e.delete(Ce)}disableScroll(le){this.disabledScroll.add(le),1===this.disabledScroll.size&&document.body.classList.add(Le)}enableScroll(le){this.disabledScroll.delete(le),0===this.disabledScroll.size&&document.body.classList.remove(Le)}canStart(le){return!(void 0!==this.capturedId||this.isDisabled(le))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(le){const Ce=this.disabledGestures.get(le);return!!(Ce&&Ce.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(ln,at,R)=>{"use strict";R.r(at),R.d(at,{MENU_BACK_BUTTON_PRIORITY:()=>Fe,OVERLAY_BACK_BUTTON_PRIORITY:()=>Le,blockHardwareBackButton:()=>B,startHardwareBackButton:()=>$});var c=R(1670);const B=()=>{document.addEventListener("backbutton",()=>{})},$=()=>{const Ie=document;let le=!1;Ie.addEventListener("backbutton",()=>{if(le)return;let Ce=0,$e=[];const ue=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(de,Be){$e.push({priority:de,handler:Be,id:Ce++})}}});Ie.dispatchEvent(ue);const _e=function(){var de=(0,c.Z)(function*(Be){try{if(null!=Be&&Be.handler){const Ge=Be.handler(xe);null!=Ge&&(yield Ge)}}catch(Ge){console.error(Ge)}});return function(Ge){return de.apply(this,arguments)}}(),xe=()=>{if($e.length>0){let de={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};$e.forEach(Be=>{Be.priority>=de.priority&&(de=Be)}),le=!0,$e=$e.filter(Be=>Be.id!==de.id),_e(de).then(()=>le=!1)}};xe()})},Le=100,Fe=99},9259:(ln,at,R)=>{"use strict";R.d(at,{a:()=>le,b:()=>Ce,c:()=>$,d:()=>Be,e:()=>Ge,f:()=>de,g:()=>$e,h:()=>mt,i:()=>Ie,j:()=>Le,k:()=>xe,l:()=>dt,m:()=>_e,n:()=>Me,o:()=>xt,p:()=>Ee,q:()=>yt,r:()=>ue,s:()=>et,t:()=>c,u:()=>be});const c=(nt,me=0)=>new Promise(De=>{B(nt,me,De)}),B=(nt,me=0,De)=>{let st,ie;const ee={passive:!0},J=()=>{st&&st()},ge=Ne=>{(void 0===Ne||nt===Ne.target)&&(J(),De(Ne))};return nt&&(nt.addEventListener("webkitTransitionEnd",ge,ee),nt.addEventListener("transitionend",ge,ee),ie=setTimeout(ge,me+500),st=()=>{ie&&(clearTimeout(ie),ie=void 0),nt.removeEventListener("webkitTransitionEnd",ge,ee),nt.removeEventListener("transitionend",ge,ee)}),J},$=(nt,me)=>{nt.componentOnReady?nt.componentOnReady().then(De=>me(De)):ue(()=>me(nt))},Le=(nt,me=[])=>{const De={};return me.forEach(st=>{nt.hasAttribute(st)&&(null!==nt.getAttribute(st)&&(De[st]=nt.getAttribute(st)),nt.removeAttribute(st))}),De},Fe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ie=(nt,me)=>{let De=Fe;return me&&me.length>0&&(De=De.filter(st=>!me.includes(st))),Le(nt,De)},le=(nt,me,De,st)=>{var ie;if("undefined"!=typeof window){const ee=window,oe=null===(ie=null==ee?void 0:ee.Ionic)||void 0===ie?void 0:ie.config;if(oe){const J=oe.get("_ael");if(J)return J(nt,me,De,st);if(oe._ael)return oe._ael(nt,me,De,st)}}return nt.addEventListener(me,De,st)},Ce=(nt,me,De,st)=>{var ie;if("undefined"!=typeof window){const ee=window,oe=null===(ie=null==ee?void 0:ee.Ionic)||void 0===ie?void 0:ie.config;if(oe){const J=oe.get("_rel");if(J)return J(nt,me,De,st);if(oe._rel)return oe._rel(nt,me,De,st)}}return nt.removeEventListener(me,De,st)},$e=(nt,me=nt)=>nt.shadowRoot||me,ue=nt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(nt):"function"==typeof requestAnimationFrame?requestAnimationFrame(nt):setTimeout(nt),_e=nt=>!!nt.shadowRoot&&!!nt.attachShadow,xe=nt=>{const me=nt.closest("ion-item");return me?me.querySelector("ion-label"):null},de=nt=>{if(nt.focus(),nt.classList.contains("ion-focusable")){const me=nt.closest("ion-app");me&&me.setFocus([nt])}},Be=(nt,me)=>{let De;const st=nt.getAttribute("aria-labelledby"),ie=nt.id;let ee=null!==st&&""!==st.trim()?st:me+"-lbl",oe=null!==st&&""!==st.trim()?document.getElementById(st):xe(nt);return oe?(null===st&&(oe.id=ee),De=oe.textContent,oe.setAttribute("aria-hidden","true")):""!==ie.trim()&&(oe=document.querySelector(`label[for="${ie}"]`),oe&&(""!==oe.id?ee=oe.id:oe.id=ee=`${ie}-lbl`,De=oe.textContent)),{label:oe,labelId:ee,labelText:De}},Ge=(nt,me,De,st,ie)=>{if(nt||_e(me)){let ee=me.querySelector("input.aux-input");ee||(ee=me.ownerDocument.createElement("input"),ee.type="hidden",ee.classList.add("aux-input"),me.appendChild(ee)),ee.disabled=ie,ee.name=De,ee.value=st||""}},dt=(nt,me,De)=>Math.max(nt,Math.min(me,De)),Me=(nt,me)=>{if(!nt){const De="ASSERT: "+me;throw console.error(De),new Error(De)}},be=nt=>nt.timeStamp||Date.now(),Ee=nt=>{if(nt){const me=nt.changedTouches;if(me&&me.length>0){const De=me[0];return{x:De.clientX,y:De.clientY}}if(void 0!==nt.pageX)return{x:nt.pageX,y:nt.pageY}}return{x:0,y:0}},xt=nt=>{const me="rtl"===document.dir;switch(nt){case"start":return me;case"end":return!me;default:throw new Error(`"${nt}" is not a valid value for [side]. Use "start" or "end" instead.`)}},mt=(nt,me)=>{const De=nt._original||nt;return{_original:nt,emit:yt(De.emit.bind(De),me)}},yt=(nt,me=0)=>{let De;return(...st)=>{clearTimeout(De),De=setTimeout(nt,me,...st)}},et=(nt,me)=>{if(null!=nt||(nt={}),null!=me||(me={}),nt===me)return!0;const De=Object.keys(nt);if(De.length!==Object.keys(me).length)return!1;for(const st of De)if(!(st in me)||nt[st]!==me[st])return!1;return!0}},2286:(ln,at,R)=>{"use strict";R.d(at,{w:()=>c});const c="undefined"!=typeof window?window:void 0},8923:(ln,at,R)=>{"use strict";R.d(at,{m:()=>_e});var c=R(1670),B=R(159),$=R(9259),Le=R(8607),Fe=R(631);const Ie=xe=>(0,Fe.c)().duration(xe?400:300),le=xe=>{let de,Be;const Ge=xe.width+8,dt=(0,Fe.c)(),Me=(0,Fe.c)();xe.isEndSide?(de=Ge+"px",Be="0px"):(de=-Ge+"px",Be="0px"),dt.addElement(xe.menuInnerEl).fromTo("transform",`translateX(${de})`,`translateX(${Be})`);const Ee="ios"===(0,Le.b)(xe),xt=Ee?.2:.25;return Me.addElement(xe.backdropEl).fromTo("opacity",.01,xt),Ie(Ee).addAnimation([dt,Me])},Ce=xe=>{let de,Be;const Ge=(0,Le.b)(xe),dt=xe.width;xe.isEndSide?(de=-dt+"px",Be=dt+"px"):(de=dt+"px",Be=-dt+"px");const Me=(0,Fe.c)().addElement(xe.menuInnerEl).fromTo("transform",`translateX(${Be})`,"translateX(0px)"),be=(0,Fe.c)().addElement(xe.contentEl).fromTo("transform","translateX(0px)",`translateX(${de})`),Ee=(0,Fe.c)().addElement(xe.backdropEl).fromTo("opacity",.01,.32);return Ie("ios"===Ge).addAnimation([Me,be,Ee])},$e=xe=>{const de=(0,Le.b)(xe),Be=xe.width*(xe.isEndSide?-1:1)+"px",Ge=(0,Fe.c)().addElement(xe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Be})`);return Ie("ios"===de).addAnimation(Ge)},_e=(()=>{const xe=new Map,de=[],Be=function(){var qe=(0,c.Z)(function*(Se){const Ye=yield mt(Se);return!!Ye&&Ye.open()});return function(Ye){return qe.apply(this,arguments)}}(),Ge=function(){var qe=(0,c.Z)(function*(Se){const Ye=yield void 0!==Se?mt(Se):yt();return void 0!==Ye&&Ye.close()});return function(Ye){return qe.apply(this,arguments)}}(),dt=function(){var qe=(0,c.Z)(function*(Se){const Ye=yield mt(Se);return!!Ye&&Ye.toggle()});return function(Ye){return qe.apply(this,arguments)}}(),Me=function(){var qe=(0,c.Z)(function*(Se,Ye){const it=yield mt(Ye);return it&&(it.disabled=!Se),it});return function(Ye,it){return qe.apply(this,arguments)}}(),be=function(){var qe=(0,c.Z)(function*(Se,Ye){const it=yield mt(Ye);return it&&(it.swipeGesture=Se),it});return function(Ye,it){return qe.apply(this,arguments)}}(),Ee=function(){var qe=(0,c.Z)(function*(Se){if(null!=Se){const Ye=yield mt(Se);return void 0!==Ye&&Ye.isOpen()}return void 0!==(yield yt())});return function(Ye){return qe.apply(this,arguments)}}(),xt=function(){var qe=(0,c.Z)(function*(Se){const Ye=yield mt(Se);return!!Ye&&!Ye.disabled});return function(Ye){return qe.apply(this,arguments)}}(),mt=function(){var qe=(0,c.Z)(function*(Se){if(yield Ve(),"start"===Se||"end"===Se){return Ae(lt=>lt.side===Se&&!lt.disabled)||Ae(lt=>lt.side===Se)}if(null!=Se)return Ae(it=>it.menuId===Se);return Ae(it=>!it.disabled)||(de.length>0?de[0].el:void 0)});return function(Ye){return qe.apply(this,arguments)}}(),yt=function(){var qe=(0,c.Z)(function*(){return yield Ve(),J()});return function(){return qe.apply(this,arguments)}}(),et=function(){var qe=(0,c.Z)(function*(){return yield Ve(),ge()});return function(){return qe.apply(this,arguments)}}(),nt=function(){var qe=(0,c.Z)(function*(){return yield Ve(),Ne()});return function(){return qe.apply(this,arguments)}}(),me=(qe,Se)=>{xe.set(qe,Se)},ie=qe=>{const Se=qe.side;de.filter(Ye=>Ye.side===Se&&Ye!==qe).forEach(Ye=>Ye.disabled=!0)},ee=function(){var qe=(0,c.Z)(function*(Se,Ye,it){if(Ne())return!1;if(Ye){const lt=yield yt();lt&&Se.el!==lt&&(yield lt.setOpen(!1,!1))}return Se._setOpen(Ye,it)});return function(Ye,it,lt){return qe.apply(this,arguments)}}(),J=()=>Ae(qe=>qe._isOpen),ge=()=>de.map(qe=>qe.el),Ne=()=>de.some(qe=>qe.isAnimating),Ae=qe=>{const Se=de.find(qe);if(void 0!==Se)return Se.el},Ve=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(qe=>new Promise(Se=>(0,$.c)(qe,Se))));return me("reveal",$e),me("push",Ce),me("overlay",le),"undefined"!=typeof document&&document.addEventListener("ionBackButton",qe=>{const Se=J();Se&&qe.detail.register(B.MENU_BACK_BUTTON_PRIORITY,()=>Se.close())}),{registerAnimation:me,get:mt,getMenus:et,getOpen:yt,isEnabled:xt,swipeGesture:be,isAnimating:nt,isOpen:Ee,enable:Me,toggle:dt,close:Ge,open:Be,_getOpenSync:J,_createAnimation:(qe,Se)=>{const Ye=xe.get(qe);if(!Ye)throw new Error("animation not registered");return Ye(Se)},_register:qe=>{de.indexOf(qe)<0&&(qe.disabled||ie(qe),de.push(qe))},_unregister:qe=>{const Se=de.indexOf(qe);Se>-1&&de.splice(Se,1)},_setOpen:ee,_setActiveMenu:ie}})()},1559:(ln,at,R)=>{"use strict";R.d(at,{B:()=>zi,H:()=>Mn,a:()=>lt,b:()=>Je,c:()=>li,e:()=>vr,f:()=>Ii,g:()=>St,h:()=>tr,i:()=>gr,j:()=>Xe,k:()=>zt,p:()=>dt,r:()=>ct,s:()=>Be});var c=R(1670);let $,Le,Fe,Ie=!1,le=!1,Ce=!1,$e=!1,ue=!1;const _e="undefined"!=typeof window?window:{},xe=_e.document||{head:{}},de={$flags$:0,$resourcesUrl$:"",jmp:se=>se(),raf:se=>requestAnimationFrame(se),ael:(se,Re,pt,_t)=>se.addEventListener(Re,pt,_t),rel:(se,Re,pt,_t)=>se.removeEventListener(Re,pt,_t),ce:(se,Re)=>new CustomEvent(se,Re)},Be=se=>{Object.assign(de,se)},dt=se=>Promise.resolve(se),Me=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(se){}return!1})(),be=(se,Re,pt,_t)=>{pt&&pt.map(([$t,we,ut])=>{const Mt=xt(se,$t),jt=Ee(Re,ut),en=mt($t);de.ael(Mt,we,jt,en),(Re.$rmListeners$=Re.$rmListeners$||[]).push(()=>de.rel(Mt,we,jt,en))})},Ee=(se,Re)=>pt=>{try{256&se.$flags$?se.$lazyInstance$[Re](pt):(se.$queuedListeners$=se.$queuedListeners$||[]).push([Re,pt])}catch(_t){j(_t)}},xt=(se,Re)=>4&Re?xe:8&Re?_e:16&Re?xe.body:se,mt=se=>0!=(2&se),De="s-id",st="sty-id",oe="http://www.w3.org/1999/xlink",Ne=new WeakMap,Ae=(se,Re,pt)=>{let _t=It.get(se);Me&&pt?(_t=_t||new CSSStyleSheet,"string"==typeof _t?_t=Re:_t.replaceSync(Re)):_t=Re,It.set(se,_t)},Ve=(se,Re,pt,_t)=>{let $t=Se(Re,pt);const we=It.get($t);if(se=11===se.nodeType?se:xe,we)if("string"==typeof we){se=se.head||se;let Mt,ut=Ne.get(se);ut||Ne.set(se,ut=new Set),ut.has($t)||(se.host&&(Mt=se.querySelector(`[${st}="${$t}"]`))?Mt.innerHTML=we:(Mt=xe.createElement("style"),Mt.innerHTML=we,se.insertBefore(Mt,se.querySelector("link"))),ut&&ut.add($t))}else se.adoptedStyleSheets.includes(we)||(se.adoptedStyleSheets=[...se.adoptedStyleSheets,we]);return $t},Se=(se,Re)=>"sc-"+(Re&&32&se.$flags$?se.$tagName$+"-"+Re:se.$tagName$),Ye=se=>se.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),lt=se=>_n.push(se),St=se=>xn(se).$modeName$,Ht={},ir=se=>"object"===(se=typeof se)||"function"===se,tr=(se,Re,...pt)=>{let _t=null,$t=null,we=null,ut=!1,Mt=!1;const jt=[],en=Zn=>{for(let or=0;or<Zn.length;or++)_t=Zn[or],Array.isArray(_t)?en(_t):null!=_t&&"boolean"!=typeof _t&&((ut="function"!=typeof se&&!ir(_t))&&(_t=String(_t)),ut&&Mt?jt[jt.length-1].$text$+=_t:jt.push(ut?jn(null,_t):_t),Mt=ut)};if(en(pt),Re){Re.key&&($t=Re.key),Re.name&&(we=Re.name);{const Zn=Re.className||Re.class;Zn&&(Re.class="object"!=typeof Zn?Zn:Object.keys(Zn).filter(or=>Zn[or]).join(" "))}}if("function"==typeof se)return se(null===Re?{}:Re,jt,Rt);const An=jn(se,null);return An.$attrs$=Re,jt.length>0&&(An.$children$=jt),An.$key$=$t,An.$name$=we,An},jn=(se,Re)=>{const pt={$flags$:0,$tag$:se,$text$:Re,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return pt},Mn={},Rt={forEach:(se,Re)=>se.map(Vt).forEach(Re),map:(se,Re)=>se.map(Vt).map(Re).map(hn)},Vt=se=>({vattrs:se.$attrs$,vchildren:se.$children$,vkey:se.$key$,vname:se.$name$,vtag:se.$tag$,vtext:se.$text$}),hn=se=>{if("function"==typeof se.vtag){const pt=Object.assign({},se.vattrs);return se.vkey&&(pt.key=se.vkey),se.vname&&(pt.name=se.vname),tr(se.vtag,pt,...se.vchildren||[])}const Re=jn(se.vtag,se.vtext);return Re.$attrs$=se.vattrs,Re.$children$=se.vchildren,Re.$key$=se.vkey,Re.$name$=se.vname,Re},bt=(se,Re,pt,_t,$t,we)=>{if(pt!==_t){let ut=x(se,Re),Mt=Re.toLowerCase();if("class"===Re){const jt=se.classList,en=Et(pt),An=Et(_t);jt.remove(...en.filter(Zn=>Zn&&!An.includes(Zn))),jt.add(...An.filter(Zn=>Zn&&!en.includes(Zn)))}else if("style"===Re){for(const jt in pt)(!_t||null==_t[jt])&&(jt.includes("-")?se.style.removeProperty(jt):se.style[jt]="");for(const jt in _t)(!pt||_t[jt]!==pt[jt])&&(jt.includes("-")?se.style.setProperty(jt,_t[jt]):se.style[jt]=_t[jt])}else if("key"!==Re)if("ref"===Re)_t&&_t(se);else if(ut||"o"!==Re[0]||"n"!==Re[1]){const jt=ir(_t);if((ut||jt&&null!==_t)&&!$t)try{if(se.tagName.includes("-"))se[Re]=_t;else{const An=null==_t?"":_t;"list"===Re?ut=!1:(null==pt||se[Re]!=An)&&(se[Re]=An)}}catch(An){}let en=!1;Mt!==(Mt=Mt.replace(/^xlink\:?/,""))&&(Re=Mt,en=!0),null==_t||!1===_t?(!1!==_t||""===se.getAttribute(Re))&&(en?se.removeAttributeNS(oe,Re):se.removeAttribute(Re)):(!ut||4&we||$t)&&!jt&&(_t=!0===_t?"":_t,en?se.setAttributeNS(oe,Re,_t):se.setAttribute(Re,_t))}else Re="-"===Re[2]?Re.slice(3):x(_e,Mt)?Mt.slice(2):Mt[2]+Re.slice(3),pt&&de.rel(se,Re,pt,!1),_t&&de.ael(se,Re,_t,!1)}},rn=/\s/,Et=se=>se?se.split(rn):[],cn=(se,Re,pt,_t)=>{const $t=11===Re.$elm$.nodeType&&Re.$elm$.host?Re.$elm$.host:Re.$elm$,we=se&&se.$attrs$||Ht,ut=Re.$attrs$||Ht;for(_t in we)_t in ut||bt($t,_t,we[_t],void 0,pt,Re.$flags$);for(_t in ut)bt($t,_t,we[_t],ut[_t],pt,Re.$flags$)},nr=(se,Re,pt,_t)=>{const $t=Re.$children$[pt];let ut,Mt,jt,we=0;if(Ie||(Ce=!0,"slot"===$t.$tag$&&($&&_t.classList.add($+"-s"),$t.$flags$|=$t.$children$?2:1)),null!==$t.$text$)ut=$t.$elm$=xe.createTextNode($t.$text$);else if(1&$t.$flags$)ut=$t.$elm$=xe.createTextNode("");else{if($e||($e="svg"===$t.$tag$),ut=$t.$elm$=xe.createElementNS($e?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&$t.$flags$?"slot-fb":$t.$tag$),$e&&"foreignObject"===$t.$tag$&&($e=!1),cn(null,$t,$e),(se=>null!=se)($)&&ut["s-si"]!==$&&ut.classList.add(ut["s-si"]=$),$t.$children$)for(we=0;we<$t.$children$.length;++we)Mt=nr(se,$t,we,ut),Mt&&ut.appendChild(Mt);"svg"===$t.$tag$?$e=!1:"foreignObject"===ut.tagName&&($e=!0)}return ut["s-hn"]=Fe,3&$t.$flags$&&(ut["s-sr"]=!0,ut["s-cr"]=Le,ut["s-sn"]=$t.$name$||"",jt=se&&se.$children$&&se.$children$[pt],jt&&jt.$tag$===$t.$tag$&&se.$elm$&&Gn(se.$elm$,!1)),ut},Gn=(se,Re)=>{de.$flags$|=1;const pt=se.childNodes;for(let _t=pt.length-1;_t>=0;_t--){const $t=pt[_t];$t["s-hn"]!==Fe&&$t["s-ol"]&&(Bn($t).insertBefore($t,bn($t)),$t["s-ol"].remove(),$t["s-ol"]=void 0,Ce=!0),Re&&Gn($t,Re)}de.$flags$&=-2},hr=(se,Re,pt,_t,$t,we)=>{let Mt,ut=se["s-cr"]&&se["s-cr"].parentNode||se;for(ut.shadowRoot&&ut.tagName===Fe&&(ut=ut.shadowRoot);$t<=we;++$t)_t[$t]&&(Mt=nr(null,pt,$t,se),Mt&&(_t[$t].$elm$=Mt,ut.insertBefore(Mt,bn(Re))))},Wn=(se,Re,pt,_t,$t)=>{for(;Re<=pt;++Re)(_t=se[Re])&&($t=_t.$elm$,sr(_t),le=!0,$t["s-ol"]?$t["s-ol"].remove():Gn($t,!0),$t.remove())},$n=(se,Re)=>se.$tag$===Re.$tag$&&("slot"===se.$tag$?se.$name$===Re.$name$:se.$key$===Re.$key$),bn=se=>se&&se["s-ol"]||se,Bn=se=>(se["s-ol"]?se["s-ol"]:se).parentNode,yr=(se,Re)=>{const pt=Re.$elm$=se.$elm$,_t=se.$children$,$t=Re.$children$,we=Re.$tag$,ut=Re.$text$;let Mt;null===ut?($e="svg"===we||"foreignObject"!==we&&$e,"slot"===we||cn(se,Re,$e),null!==_t&&null!==$t?((se,Re,pt,_t)=>{let Fr,ui,$t=0,we=0,ut=0,Mt=0,jt=Re.length-1,en=Re[0],An=Re[jt],Zn=_t.length-1,or=_t[0],ai=_t[Zn];for(;$t<=jt&&we<=Zn;)if(null==en)en=Re[++$t];else if(null==An)An=Re[--jt];else if(null==or)or=_t[++we];else if(null==ai)ai=_t[--Zn];else if($n(en,or))yr(en,or),en=Re[++$t],or=_t[++we];else if($n(An,ai))yr(An,ai),An=Re[--jt],ai=_t[--Zn];else if($n(en,ai))("slot"===en.$tag$||"slot"===ai.$tag$)&&Gn(en.$elm$.parentNode,!1),yr(en,ai),se.insertBefore(en.$elm$,An.$elm$.nextSibling),en=Re[++$t],ai=_t[--Zn];else if($n(An,or))("slot"===en.$tag$||"slot"===ai.$tag$)&&Gn(An.$elm$.parentNode,!1),yr(An,or),se.insertBefore(An.$elm$,en.$elm$),An=Re[--jt],or=_t[++we];else{for(ut=-1,Mt=$t;Mt<=jt;++Mt)if(Re[Mt]&&null!==Re[Mt].$key$&&Re[Mt].$key$===or.$key$){ut=Mt;break}ut>=0?(ui=Re[ut],ui.$tag$!==or.$tag$?Fr=nr(Re&&Re[we],pt,ut,se):(yr(ui,or),Re[ut]=void 0,Fr=ui.$elm$),or=_t[++we]):(Fr=nr(Re&&Re[we],pt,we,se),or=_t[++we]),Fr&&Bn(en.$elm$).insertBefore(Fr,bn(en.$elm$))}$t>jt?hr(se,null==_t[Zn+1]?null:_t[Zn+1].$elm$,pt,_t,we,Zn):we>Zn&&Wn(Re,$t,jt)})(pt,_t,Re,$t):null!==$t?(null!==se.$text$&&(pt.textContent=""),hr(pt,null,Re,$t,0,$t.length-1)):null!==_t&&Wn(_t,0,_t.length-1),$e&&"svg"===we&&($e=!1)):(Mt=pt["s-cr"])?Mt.parentNode.textContent=ut:se.$text$!==ut&&(pt.data=ut)},_r=se=>{const Re=se.childNodes;let pt,_t,$t,we,ut,Mt;for(_t=0,$t=Re.length;_t<$t;_t++)if(pt=Re[_t],1===pt.nodeType){if(pt["s-sr"])for(ut=pt["s-sn"],pt.hidden=!1,we=0;we<$t;we++)if(Mt=Re[we].nodeType,Re[we]["s-hn"]!==pt["s-hn"]||""!==ut){if(1===Mt&&ut===Re[we].getAttribute("slot")){pt.hidden=!0;break}}else if(1===Mt||3===Mt&&""!==Re[we].textContent.trim()){pt.hidden=!0;break}_r(pt)}},pr=[],zn=se=>{let Re,pt,_t,$t,we,ut,Mt=0;const jt=se.childNodes,en=jt.length;for(;Mt<en;Mt++){if(Re=jt[Mt],Re["s-sr"]&&(pt=Re["s-cr"])&&pt.parentNode)for(_t=pt.parentNode.childNodes,$t=Re["s-sn"],ut=_t.length-1;ut>=0;ut--)pt=_t[ut],!pt["s-cn"]&&!pt["s-nr"]&&pt["s-hn"]!==Re["s-hn"]&&(Mr(pt,$t)?(we=pr.find(An=>An.$nodeToRelocate$===pt),le=!0,pt["s-sn"]=pt["s-sn"]||$t,we?we.$slotRefNode$=Re:pr.push({$slotRefNode$:Re,$nodeToRelocate$:pt}),pt["s-sr"]&&pr.map(An=>{Mr(An.$nodeToRelocate$,pt["s-sn"])&&(we=pr.find(Zn=>Zn.$nodeToRelocate$===pt),we&&!An.$slotRefNode$&&(An.$slotRefNode$=we.$slotRefNode$))})):pr.some(An=>An.$nodeToRelocate$===pt)||pr.push({$nodeToRelocate$:pt}));1===Re.nodeType&&zn(Re)}},Mr=(se,Re)=>1===se.nodeType?null===se.getAttribute("slot")&&""===Re||se.getAttribute("slot")===Re:se["s-sn"]===Re||""===Re,sr=se=>{se.$attrs$&&se.$attrs$.ref&&se.$attrs$.ref(null),se.$children$&&se.$children$.map(sr)},Zr=(se,Re)=>{const pt=se.$hostElement$,_t=se.$cmpMeta$,$t=se.$vnode$||jn(null,null),we=(se=>se&&se.$tag$===Mn)(Re)?Re:tr(null,null,Re);if(Fe=pt.tagName,_t.$attrsToReflect$&&(we.$attrs$=we.$attrs$||{},_t.$attrsToReflect$.map(([ut,Mt])=>we.$attrs$[Mt]=pt[ut])),we.$tag$=null,we.$flags$|=4,se.$vnode$=we,we.$elm$=$t.$elm$=pt.shadowRoot||pt,$=pt["s-sc"],Le=pt["s-cr"],Ie=0!=(1&_t.$flags$),le=!1,yr($t,we),de.$flags$|=1,Ce){zn(we.$elm$);let ut,Mt,jt,en,An,Zn,or=0;for(;or<pr.length;or++)ut=pr[or],Mt=ut.$nodeToRelocate$,Mt["s-ol"]||(jt=xe.createTextNode(""),jt["s-nr"]=Mt,Mt.parentNode.insertBefore(Mt["s-ol"]=jt,Mt));for(or=0;or<pr.length;or++)if(ut=pr[or],Mt=ut.$nodeToRelocate$,ut.$slotRefNode$){for(en=ut.$slotRefNode$.parentNode,An=ut.$slotRefNode$.nextSibling,jt=Mt["s-ol"];jt=jt.previousSibling;)if(Zn=jt["s-nr"],Zn&&Zn["s-sn"]===Mt["s-sn"]&&en===Zn.parentNode&&(Zn=Zn.nextSibling,!Zn||!Zn["s-nr"])){An=Zn;break}(!An&&en!==Mt.parentNode||Mt.nextSibling!==An)&&Mt!==An&&(!Mt["s-hn"]&&Mt["s-ol"]&&(Mt["s-hn"]=Mt["s-ol"].parentNode.nodeName),en.insertBefore(Mt,An))}else 1===Mt.nodeType&&(Mt.hidden=!0)}le&&_r(we.$elm$),de.$flags$&=-2,pr.length=0},gr=se=>xn(se).$hostElement$,vr=(se,Re,pt)=>{const _t=gr(se);return{emit:$t=>Un(_t,Re,{bubbles:!!(4&pt),composed:!!(2&pt),cancelable:!!(1&pt),detail:$t})}},Un=(se,Re,pt)=>{const _t=de.ce(Re,pt);return se.dispatchEvent(_t),_t},In=(se,Re)=>{Re&&!se.$onRenderResolve$&&Re["s-p"]&&Re["s-p"].push(new Promise(pt=>se.$onRenderResolve$=pt))},Wt=(se,Re)=>{if(se.$flags$|=16,!(4&se.$flags$))return In(se,se.$ancestorComponent$),li(()=>Tn(se,Re));se.$flags$|=512},Tn=(se,Re)=>{const pt=(se.$cmpMeta$.$tagName$,()=>{}),_t=se.$lazyInstance$;let $t;return Re&&(se.$flags$|=256,se.$queuedListeners$&&(se.$queuedListeners$.map(([we,ut])=>tt(_t,we,ut)),se.$queuedListeners$=null),$t=tt(_t,"componentWillLoad")),$t=Ue($t,()=>tt(_t,"componentWillRender")),pt(),Ue($t,()=>Rn(se,_t,Re))},Rn=function(){var se=(0,c.Z)(function*(Re,pt,_t){const $t=Re.$hostElement$,we=(Re.$cmpMeta$.$tagName$,()=>{}),ut=$t["s-rc"];_t&&(se=>{const Re=se.$cmpMeta$,pt=se.$hostElement$,_t=Re.$flags$,$t=(Re.$tagName$,()=>{}),we=Ve(pt.shadowRoot?pt.shadowRoot:pt.getRootNode(),Re,se.$modeName$);10&_t&&(pt["s-sc"]=we,pt.classList.add(we+"-h"),2&_t&&pt.classList.add(we+"-s")),$t()})(Re);const Mt=(Re.$cmpMeta$.$tagName$,()=>{});Kn(Re,pt),ut&&(ut.map(jt=>jt()),$t["s-rc"]=void 0),Mt(),we();{const jt=$t["s-p"],en=()=>lr(Re);0===jt.length?en():(Promise.all(jt).then(en),Re.$flags$|=4,jt.length=0)}});return function(pt,_t,$t){return se.apply(this,arguments)}}(),Kn=(se,Re,pt)=>{try{Re=Re.render&&Re.render(),se.$flags$&=-17,se.$flags$|=2,Zr(se,Re)}catch(_t){j(_t,se.$hostElement$)}return null},lr=se=>{se.$cmpMeta$.$tagName$;const pt=se.$hostElement$,_t=()=>{},$t=se.$lazyInstance$,we=se.$ancestorComponent$;tt($t,"componentDidRender"),64&se.$flags$?(tt($t,"componentDidUpdate"),_t()):(se.$flags$|=64,Y(pt),tt($t,"componentDidLoad"),_t(),se.$onReadyResolve$(pt),we||Te()),se.$onInstanceResolve$(pt),se.$onRenderResolve$&&(se.$onRenderResolve$(),se.$onRenderResolve$=void 0),512&se.$flags$&&jr(()=>Wt(se,!1)),se.$flags$&=-517},Xe=se=>{{const Re=xn(se),pt=Re.$hostElement$.isConnected;return pt&&2==(18&Re.$flags$)&&Wt(Re,!1),pt}},Te=se=>{Y(xe.documentElement),jr(()=>Un(_e,"appload",{detail:{namespace:"ionic"}}))},tt=(se,Re,pt)=>{if(se&&se[Re])try{return se[Re](pt)}catch(_t){j(_t)}},Ue=(se,Re)=>se&&se.then?se.then(Re):Re(),Y=se=>se.classList.add("hydrated"),Nt=(se,Re,pt,_t,$t,we,ut)=>{let Mt,jt,en,An;if(1===we.nodeType){for(Mt=we.getAttribute("c-id"),Mt&&(jt=Mt.split("."),(jt[0]===ut||"0"===jt[0])&&(en={$flags$:0,$hostId$:jt[0],$nodeId$:jt[1],$depth$:jt[2],$index$:jt[3],$tag$:we.tagName.toLowerCase(),$elm$:we,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Re.push(en),we.removeAttribute("c-id"),se.$children$||(se.$children$=[]),se.$children$[en.$index$]=en,se=en,_t&&"0"===en.$depth$&&(_t[en.$index$]=en.$elm$))),An=we.childNodes.length-1;An>=0;An--)Nt(se,Re,pt,_t,$t,we.childNodes[An],ut);if(we.shadowRoot)for(An=we.shadowRoot.childNodes.length-1;An>=0;An--)Nt(se,Re,pt,_t,$t,we.shadowRoot.childNodes[An],ut)}else if(8===we.nodeType)jt=we.nodeValue.split("."),(jt[1]===ut||"0"===jt[1])&&(Mt=jt[0],en={$flags$:0,$hostId$:jt[1],$nodeId$:jt[2],$depth$:jt[3],$index$:jt[4],$elm$:we,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Mt?(en.$elm$=we.nextSibling,en.$elm$&&3===en.$elm$.nodeType&&(en.$text$=en.$elm$.textContent,Re.push(en),we.remove(),se.$children$||(se.$children$=[]),se.$children$[en.$index$]=en,_t&&"0"===en.$depth$&&(_t[en.$index$]=en.$elm$))):en.$hostId$===ut&&("s"===Mt?(en.$tag$="slot",jt[5]?we["s-sn"]=en.$name$=jt[5]:we["s-sn"]="",we["s-sr"]=!0,_t&&(en.$elm$=xe.createElement(en.$tag$),en.$name$&&en.$elm$.setAttribute("name",en.$name$),we.parentNode.insertBefore(en.$elm$,we),we.remove(),"0"===en.$depth$&&(_t[en.$index$]=en.$elm$)),pt.push(en),se.$children$||(se.$children$=[]),se.$children$[en.$index$]=en):"r"===Mt&&(_t?we.remove():($t["s-cr"]=we,we["s-cn"]=!0))));else if(se&&"style"===se.$tag$){const Zn=jn(null,we.textContent);Zn.$elm$=we,Zn.$index$="0",se.$children$=[Zn]}},on=(se,Re)=>{if(1===se.nodeType){let pt=0;for(;pt<se.childNodes.length;pt++)on(se.childNodes[pt],Re);if(se.shadowRoot)for(pt=0;pt<se.shadowRoot.childNodes.length;pt++)on(se.shadowRoot.childNodes[pt],Re)}else if(8===se.nodeType){const pt=se.nodeValue.split(".");"o"===pt[0]&&(Re.set(pt[1]+"."+pt[2],se),se.nodeValue="",se["s-en"]=pt[3])}},Ot=(se,Re,pt,_t)=>{const $t=xn(se),we=$t.$hostElement$,ut=$t.$instanceValues$.get(Re),Mt=$t.$flags$,jt=$t.$lazyInstance$;pt=((se,Re)=>null==se||ir(se)?se:4&Re?"false"!==se&&(""===se||!!se):2&Re?parseFloat(se):1&Re?String(se):se)(pt,_t.$members$[Re][0]);const en=Number.isNaN(ut)&&Number.isNaN(pt);if((!(8&Mt)||void 0===ut)&&(pt!==ut&&!en)&&($t.$instanceValues$.set(Re,pt),jt)){if(_t.$watchers$&&128&Mt){const Zn=_t.$watchers$[Re];Zn&&Zn.map(or=>{try{jt[or](pt,ut,Re)}catch(ai){j(ai,we)}})}2==(18&Mt)&&Wt($t,!1)}},X=(se,Re,pt)=>{if(Re.$members$){se.watchers&&(Re.$watchers$=se.watchers);const _t=Object.entries(Re.$members$),$t=se.prototype;if(_t.map(([we,[ut]])=>{31&ut||2&pt&&32&ut?Object.defineProperty($t,we,{get(){return((se,Re)=>xn(se).$instanceValues$.get(Re))(this,we)},set(Mt){Ot(this,we,Mt,Re)},configurable:!0,enumerable:!0}):1&pt&&64&ut&&Object.defineProperty($t,we,{value(...Mt){const jt=xn(this);return jt.$onInstancePromise$.then(()=>jt.$lazyInstance$[we](...Mt))}})}),1&pt){const we=new Map;$t.attributeChangedCallback=function(ut,Mt,jt){de.jmp(()=>{const en=we.get(ut);if(this.hasOwnProperty(en))jt=this[en],delete this[en];else if($t.hasOwnProperty(en)&&"number"==typeof this[en]&&this[en]==jt)return;this[en]=(null!==jt||"boolean"!=typeof this[en])&&jt})},se.observedAttributes=_t.filter(([ut,Mt])=>15&Mt[0]).map(([ut,Mt])=>{const jt=Mt[1]||ut;return we.set(jt,ut),512&Mt[0]&&Re.$attrsToReflect$.push([ut,jt]),jt})}}return se},He=function(){var se=(0,c.Z)(function*(Re,pt,_t,$t,we){if(0==(32&pt.$flags$)){{if(pt.$flags$|=32,(we=Ct(_t)).then){const en=()=>{};we=yield we,en()}we.isProxied||(_t.$watchers$=we.watchers,X(we,_t,2),we.isProxied=!0);const jt=(_t.$tagName$,()=>{});pt.$flags$|=8;try{new we(pt)}catch(en){j(en)}pt.$flags$&=-9,pt.$flags$|=128,jt(),At(pt.$lazyInstance$)}if(we.style){let jt=we.style;"string"!=typeof jt&&(jt=jt[pt.$modeName$=(se=>_n.map(Re=>Re(se)).find(Re=>!!Re))(Re)]);const en=Se(_t,pt.$modeName$);if(!It.has(en)){const An=(_t.$tagName$,()=>{});Ae(en,jt,!!(1&_t.$flags$)),An()}}}const ut=pt.$ancestorComponent$,Mt=()=>Wt(pt,!0);ut&&ut["s-rc"]?ut["s-rc"].push(Mt):Mt()});return function(pt,_t,$t,we,ut){return se.apply(this,arguments)}}(),At=se=>{tt(se,"connectedCallback")},Ut=se=>{if(0==(1&de.$flags$)){const Re=xn(se),pt=Re.$cmpMeta$,_t=(pt.$tagName$,()=>{});if(1&Re.$flags$)be(se,Re,pt.$listeners$),At(Re.$lazyInstance$);else{let $t;if(Re.$flags$|=1,$t=se.getAttribute(De),$t){if(1&pt.$flags$){const we=Ve(se.shadowRoot,pt,se.getAttribute("s-mode"));se.classList.remove(we+"-h",we+"-s")}((se,Re,pt,_t)=>{const $t=()=>{},we=se.shadowRoot,ut=[],jt=we?[]:null,en=_t.$vnode$=jn(Re,null);de.$orgLocNodes$||on(xe.body,de.$orgLocNodes$=new Map),se[De]=pt,se.removeAttribute(De),Nt(en,ut,[],jt,se,se,pt),ut.map(An=>{const Zn=An.$hostId$+"."+An.$nodeId$,or=de.$orgLocNodes$.get(Zn),ai=An.$elm$;or&&""===or["s-en"]&&or.parentNode.insertBefore(ai,or.nextSibling),we||(ai["s-hn"]=Re,or&&(ai["s-ol"]=or,ai["s-ol"]["s-nr"]=ai)),de.$orgLocNodes$.delete(Zn)}),we&&jt.map(An=>{An&&we.appendChild(An)}),$t()})(se,pt.$tagName$,$t,Re)}$t||12&pt.$flags$&&Sn(se);{let we=se;for(;we=we.parentNode||we.host;)if(1===we.nodeType&&we.hasAttribute("s-id")&&we["s-p"]||we["s-p"]){In(Re,Re.$ancestorComponent$=we);break}}pt.$members$&&Object.entries(pt.$members$).map(([we,[ut]])=>{if(31&ut&&se.hasOwnProperty(we)){const Mt=se[we];delete se[we],se[we]=Mt}}),jr(()=>He(se,Re,pt))}_t()}},Sn=se=>{const Re=se["s-cr"]=xe.createComment("");Re["s-cn"]=!0,se.insertBefore(Re,se.firstChild)},Je=(se,Re={})=>{const pt=()=>{},_t=[],$t=Re.exclude||[],we=_e.customElements,ut=xe.head,Mt=ut.querySelector("meta[charset]"),jt=xe.createElement("style"),en=[],An=xe.querySelectorAll(`[${st}]`);let Zn,or=!0,ai=0;for(Object.assign(de,Re),de.$resourcesUrl$=new URL(Re.resourcesUrl||"./",xe.baseURI).href,de.$flags$|=2;ai<An.length;ai++)Ae(An[ai].getAttribute(st),Ye(An[ai].innerHTML),!0);se.map(Fr=>{Fr[1].map(ui=>{const bi={$flags$:ui[0],$tagName$:ui[1],$members$:ui[2],$listeners$:ui[3]};bi.$members$=ui[2],bi.$listeners$=ui[3],bi.$attrsToReflect$=[],bi.$watchers$={};const Ys=bi.$tagName$,As=class extends HTMLElement{constructor(Ti){super(Ti),Z(Ti=this,bi),1&bi.$flags$&&Ti.attachShadow({mode:"open",delegatesFocus:!!(16&bi.$flags$)})}connectedCallback(){Zn&&(clearTimeout(Zn),Zn=null),or?en.push(this):de.jmp(()=>Ut(this))}disconnectedCallback(){de.jmp(()=>(se=>{if(0==(1&de.$flags$)){const Re=xn(se),pt=Re.$lazyInstance$;Re.$rmListeners$&&(Re.$rmListeners$.map(_t=>_t()),Re.$rmListeners$=void 0),tt(pt,"disconnectedCallback")}})(this))}componentOnReady(){return xn(this).$onReadyPromise$}};bi.$lazyBundleId$=Fr[0],!$t.includes(Ys)&&!we.get(Ys)&&(_t.push(Ys),we.define(Ys,X(As,bi,1)))})}),jt.innerHTML=_t+"{visibility:hidden}.hydrated{visibility:inherit}",jt.setAttribute("data-styles",""),ut.insertBefore(jt,Mt?Mt.nextSibling:ut.firstChild),or=!1,en.length?en.map(Fr=>Fr.connectedCallback()):de.jmp(()=>Zn=setTimeout(Te,30)),pt()},zt=se=>{const Re=new URL(se,de.$resourcesUrl$);return Re.origin!==_e.location.origin?Re.href:Re.pathname},un=new WeakMap,xn=se=>un.get(se),ct=(se,Re)=>un.set(Re.$lazyInstance$=se,Re),Z=(se,Re)=>{const pt={$flags$:0,$hostElement$:se,$cmpMeta$:Re,$instanceValues$:new Map};return pt.$onInstancePromise$=new Promise(_t=>pt.$onInstanceResolve$=_t),pt.$onReadyPromise$=new Promise(_t=>pt.$onReadyResolve$=_t),se["s-p"]=[],se["s-rc"]=[],be(se,pt,Re.$listeners$),un.set(se,pt)},x=(se,Re)=>Re in se,j=(se,Re)=>(0,console.error)(se,Re),ye=new Map,Ct=(se,Re,pt)=>{const _t=se.$tagName$.replace(/-/g,"_"),$t=se.$lazyBundleId$,we=ye.get($t);return we?we[_t]:R(863)(`./${$t}.entry.js`).then(ut=>(ye.set($t,ut),ut[_t]),j)},It=new Map,_n=[],Jn=[],cr=[],Nr=(se,Re)=>pt=>{se.push(pt),ue||(ue=!0,Re&&4&de.$flags$?jr(Lr):de.raf(Lr))},Rr=se=>{for(let Re=0;Re<se.length;Re++)try{se[Re](performance.now())}catch(pt){j(pt)}se.length=0},Lr=()=>{Rr(Jn),Rr(cr),(ue=Jn.length>0)&&de.raf(Lr)},jr=se=>dt().then(se),Ii=Nr(Jn,!1),li=Nr(cr,!0),zi={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},9287:(ln,at,R)=>{"use strict";R.d(at,{L:()=>Le,a:()=>Fe,b:()=>Ie,c:()=>le,d:()=>Ce,e:()=>me,g:()=>ie,l:()=>et,s:()=>De,t:()=>_e});var c=R(1670),B=R(1559),$=R(9259);const Le="ionViewWillEnter",Fe="ionViewDidEnter",Ie="ionViewWillLeave",le="ionViewDidLeave",Ce="ionViewWillUnload",_e=ee=>new Promise((oe,J)=>{(0,B.c)(()=>{xe(ee),de(ee).then(ge=>{ge.animation&&ge.animation.destroy(),Be(ee),oe(ge)},ge=>{Be(ee),J(ge)})})}),xe=ee=>{const oe=ee.enteringEl,J=ee.leavingEl;st(oe,J,ee.direction),ee.showGoBack?oe.classList.add("can-go-back"):oe.classList.remove("can-go-back"),De(oe,!1),oe.style.setProperty("pointer-events","none"),J&&(De(J,!1),J.style.setProperty("pointer-events","none"))},de=function(){var ee=(0,c.Z)(function*(oe){const J=yield Ge(oe);return J&&B.B.isBrowser?dt(J,oe):Me(oe)});return function(J){return ee.apply(this,arguments)}}(),Be=ee=>{const oe=ee.enteringEl,J=ee.leavingEl;oe.classList.remove("ion-page-invisible"),oe.style.removeProperty("pointer-events"),void 0!==J&&(J.classList.remove("ion-page-invisible"),J.style.removeProperty("pointer-events"))},Ge=function(){var ee=(0,c.Z)(function*(oe){return oe.leavingEl&&oe.animated&&0!==oe.duration?oe.animationBuilder?oe.animationBuilder:"ios"===oe.mode?(yield Promise.resolve().then(R.bind(R,7938))).iosTransitionAnimation:(yield Promise.resolve().then(R.bind(R,4844))).mdTransitionAnimation:void 0});return function(J){return ee.apply(this,arguments)}}(),dt=function(){var ee=(0,c.Z)(function*(oe,J){yield be(J,!0);const ge=oe(J.baseEl,J);mt(J.enteringEl,J.leavingEl);const Ne=yield xt(ge,J);return J.progressCallback&&J.progressCallback(void 0),Ne&&yt(J.enteringEl,J.leavingEl),{hasCompleted:Ne,animation:ge}});return function(J,ge){return ee.apply(this,arguments)}}(),Me=function(){var ee=(0,c.Z)(function*(oe){const J=oe.enteringEl,ge=oe.leavingEl;return yield be(oe,!1),mt(J,ge),yt(J,ge),{hasCompleted:!0}});return function(J){return ee.apply(this,arguments)}}(),be=function(){var ee=(0,c.Z)(function*(oe,J){const Ne=(void 0!==oe.deepWait?oe.deepWait:J)?[me(oe.enteringEl),me(oe.leavingEl)]:[nt(oe.enteringEl),nt(oe.leavingEl)];yield Promise.all(Ne),yield Ee(oe.viewIsReady,oe.enteringEl)});return function(J,ge){return ee.apply(this,arguments)}}(),Ee=function(){var ee=(0,c.Z)(function*(oe,J){oe&&(yield oe(J))});return function(J,ge){return ee.apply(this,arguments)}}(),xt=(ee,oe)=>{const J=oe.progressCallback,ge=new Promise(Ne=>{ee.onFinish(Ae=>Ne(1===Ae))});return J?(ee.progressStart(!0),J(ee)):ee.play(),ge},mt=(ee,oe)=>{et(oe,Ie),et(ee,Le)},yt=(ee,oe)=>{et(ee,Fe),et(oe,le)},et=(ee,oe)=>{if(ee){const J=new CustomEvent(oe,{bubbles:!1,cancelable:!1});ee.dispatchEvent(J)}},nt=ee=>ee?new Promise(oe=>(0,$.c)(ee,oe)):Promise.resolve(),me=function(){var ee=(0,c.Z)(function*(oe){const J=oe;if(J){if(null!=J.componentOnReady){if(null!=(yield J.componentOnReady()))return}else if(null!=J.__registerHost)return void(yield new Promise(Ne=>(0,$.r)(Ne)));yield Promise.all(Array.from(J.children).map(me))}});return function(J){return ee.apply(this,arguments)}}(),De=(ee,oe)=>{oe?(ee.setAttribute("aria-hidden","true"),ee.classList.add("ion-page-hidden")):(ee.hidden=!1,ee.removeAttribute("aria-hidden"),ee.classList.remove("ion-page-hidden"))},st=(ee,oe,J)=>{void 0!==ee&&(ee.style.zIndex="back"===J?"99":"101"),void 0!==oe&&(oe.style.zIndex="100")},ie=ee=>{if(ee.classList.contains("ion-page"))return ee;return ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ee}},9286:(ln,at,R)=>{"use strict";R.r(at),R.d(at,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>$e});var c=R(6379);const B=(de,Be,Ge,dt)=>{const Me=$(de)?{capture:!!dt.capture,passive:!!dt.passive}:!!dt.capture;let be,Ee;return de.__zone_symbol__addEventListener?(be="__zone_symbol__addEventListener",Ee="__zone_symbol__removeEventListener"):(be="addEventListener",Ee="removeEventListener"),de[be](Be,Ge,Me),()=>{de[Ee](Be,Ge,Me)}},$=de=>{if(void 0===Le)try{const Be=Object.defineProperty({},"passive",{get:()=>{Le=!0}});de.addEventListener("optsTest",()=>{},Be)}catch(Be){Le=!1}return!!Le};let Le;const le=de=>de instanceof Document?de:de.ownerDocument,$e=de=>{let Be=!1,Ge=!1,dt=!0,Me=!1;const be=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},de),Ee=be.canStart,xt=be.onWillStart,mt=be.onStart,yt=be.onEnd,et=be.notCaptured,nt=be.onMove,me=be.threshold,De=be.passive,st=be.blurOnStart,ie={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ee=((de,Be,Ge)=>{const dt=Ge*(Math.PI/180),Me="x"===de,be=Math.cos(dt),Ee=Be*Be;let xt=0,mt=0,yt=!1,et=0;return{start(nt,me){xt=nt,mt=me,et=0,yt=!0},detect(nt,me){if(!yt)return!1;const De=nt-xt,st=me-mt,ie=De*De+st*st;if(ie<Ee)return!1;const ee=Math.sqrt(ie),oe=(Me?De:st)/ee;return et=oe>be?1:oe<-be?-1:0,yt=!1,!0},isGesture:()=>0!==et,getDirection:()=>et}})(be.direction,be.threshold,be.maxAngle),oe=c.G.createGesture({name:de.gestureName,priority:de.gesturePriority,disableScroll:de.disableScroll}),Ne=()=>{!Be||(Me=!1,nt&&nt(ie))},Ae=()=>!!oe.capture()&&(Be=!0,dt=!1,ie.startX=ie.currentX,ie.startY=ie.currentY,ie.startTime=ie.currentTime,xt?xt(ie).then(qe):qe(),!0),qe=()=>{st&&(()=>{if("undefined"!=typeof document){const St=document.activeElement;null!=St&&St.blur&&St.blur()}})(),mt&&mt(ie),dt=!0},Se=()=>{Be=!1,Ge=!1,Me=!1,dt=!0,oe.release()},Ye=St=>{const Ht=Be,qt=dt;if(Se(),qt){if(ue(ie,St),Ht)return void(yt&&yt(ie));et&&et(ie)}},it=((de,Be,Ge,dt,Me)=>{let be,Ee,xt,mt,yt,et,nt,me=0;const De=Ve=>{me=Date.now()+2e3,Be(Ve)&&(!Ee&&Ge&&(Ee=B(de,"touchmove",Ge,Me)),xt||(xt=B(Ve.target,"touchend",ie,Me)),mt||(mt=B(Ve.target,"touchcancel",ie,Me)))},st=Ve=>{me>Date.now()||!Be(Ve)||(!et&&Ge&&(et=B(le(de),"mousemove",Ge,Me)),nt||(nt=B(le(de),"mouseup",ee,Me)))},ie=Ve=>{oe(),dt&&dt(Ve)},ee=Ve=>{J(),dt&&dt(Ve)},oe=()=>{Ee&&Ee(),xt&&xt(),mt&&mt(),Ee=xt=mt=void 0},J=()=>{et&&et(),nt&&nt(),et=nt=void 0},ge=()=>{oe(),J()},Ne=(Ve=!0)=>{Ve?(be||(be=B(de,"touchstart",De,Me)),yt||(yt=B(de,"mousedown",st,Me))):(be&&be(),yt&&yt(),be=yt=void 0,ge())};return{enable:Ne,stop:ge,destroy:()=>{Ne(!1),dt=Ge=Be=void 0}}})(be.el,St=>{const Ht=xe(St);return!(Ge||!dt||(_e(St,ie),ie.startX=ie.currentX,ie.startY=ie.currentY,ie.startTime=ie.currentTime=Ht,ie.velocityX=ie.velocityY=ie.deltaX=ie.deltaY=0,ie.event=St,Ee&&!1===Ee(ie))||(oe.release(),!oe.start()))&&(Ge=!0,0===me?Ae():(ee.start(ie.startX,ie.startY),!0))},St=>{Be?!Me&&dt&&(Me=!0,ue(ie,St),requestAnimationFrame(Ne)):(ue(ie,St),ee.detect(ie.currentX,ie.currentY)&&(!ee.isGesture()||!Ae())&&lt())},Ye,{capture:!1,passive:De}),lt=()=>{Se(),it.stop(),et&&et(ie)};return{enable(St=!0){St||(Be&&Ye(void 0),Se()),it.enable(St)},destroy(){oe.destroy(),it.destroy()}}},ue=(de,Be)=>{if(!Be)return;const Ge=de.currentX,dt=de.currentY,Me=de.currentTime;_e(Be,de);const be=de.currentX,Ee=de.currentY,mt=(de.currentTime=xe(Be))-Me;if(mt>0&&mt<100){const yt=(be-Ge)/mt,et=(Ee-dt)/mt;de.velocityX=.7*yt+.3*de.velocityX,de.velocityY=.7*et+.3*de.velocityY}de.deltaX=be-de.startX,de.deltaY=Ee-de.startY,de.event=Be},_e=(de,Be)=>{let Ge=0,dt=0;if(de){const Me=de.changedTouches;if(Me&&Me.length>0){const be=Me[0];Ge=be.clientX,dt=be.clientY}else void 0!==de.pageX&&(Ge=de.pageX,dt=de.pageY)}Be.currentX=Ge,Be.currentY=dt},xe=de=>de.timeStamp||Date.now()},8607:(ln,at,R)=>{"use strict";R.d(at,{a:()=>_e,b:()=>Ne,c:()=>$,g:()=>ue,i:()=>Ae});var c=R(1559);class B{constructor(){this.m=new Map}reset(qe){this.m=new Map(Object.entries(qe))}get(qe,Se){const Ye=this.m.get(qe);return void 0!==Ye?Ye:Se}getBoolean(qe,Se=!1){const Ye=this.m.get(qe);return void 0===Ye?Se:"string"==typeof Ye?"true"===Ye:!!Ye}getNumber(qe,Se){const Ye=parseFloat(this.m.get(qe));return isNaN(Ye)?void 0!==Se?Se:NaN:Ye}set(qe,Se){this.m.set(qe,Se)}}const $=new B,le=(Ve,qe)=>Ve.substr(0,qe.length)===qe,Ce="ionic:",$e="ionic-persist-config",ue=Ve=>xe(Ve),_e=(Ve,qe)=>("string"==typeof Ve&&(qe=Ve,Ve=void 0),ue(Ve).includes(qe)),xe=(Ve=window)=>{if(void 0===Ve)return[];Ve.Ionic=Ve.Ionic||{};let qe=Ve.Ionic.platforms;return null==qe&&(qe=Ve.Ionic.platforms=de(Ve),qe.forEach(Se=>Ve.document.documentElement.classList.add(`plt-${Se}`))),qe},de=Ve=>{const qe=$.get("platform");return Object.keys(J).filter(Se=>{const Ye=null==qe?void 0:qe[Se];return"function"==typeof Ye?Ye(Ve):J[Se](Ve)})},Ge=Ve=>!!(ee(Ve,/iPad/i)||ee(Ve,/Macintosh/i)&&yt(Ve)),be=Ve=>ee(Ve,/android|sink/i),yt=Ve=>oe(Ve,"(any-pointer:coarse)"),nt=Ve=>me(Ve)||De(Ve),me=Ve=>!!(Ve.cordova||Ve.phonegap||Ve.PhoneGap),De=Ve=>{const qe=Ve.Capacitor;return!(null==qe||!qe.isNative)},ee=(Ve,qe)=>qe.test(Ve.navigator.userAgent),oe=(Ve,qe)=>{var Se;return null===(Se=Ve.matchMedia)||void 0===Se?void 0:Se.call(Ve,qe).matches},J={ipad:Ge,iphone:Ve=>ee(Ve,/iPhone/i),ios:Ve=>ee(Ve,/iPhone|iPod/i)||Ge(Ve),android:be,phablet:Ve=>{const qe=Ve.innerWidth,Se=Ve.innerHeight,Ye=Math.min(qe,Se),it=Math.max(qe,Se);return Ye>390&&Ye<520&&it>620&&it<800},tablet:Ve=>{const qe=Ve.innerWidth,Se=Ve.innerHeight,Ye=Math.min(qe,Se),it=Math.max(qe,Se);return Ge(Ve)||(Ve=>be(Ve)&&!ee(Ve,/mobile/i))(Ve)||Ye>460&&Ye<820&&it>780&&it<1400},cordova:me,capacitor:De,electron:Ve=>ee(Ve,/electron/i),pwa:Ve=>{var qe;return!(!(null===(qe=Ve.matchMedia)||void 0===qe?void 0:qe.call(Ve,"(display-mode: standalone)").matches)&&!Ve.navigator.standalone)},mobile:yt,mobileweb:Ve=>yt(Ve)&&!nt(Ve),desktop:Ve=>!yt(Ve),hybrid:nt};let ge;const Ne=Ve=>Ve&&(0,c.g)(Ve)||ge,Ae=(Ve={})=>{if("undefined"==typeof window)return;const qe=window.document,Se=window,Ye=Se.Ionic=Se.Ionic||{},it={};Ve._ael&&(it.ael=Ve._ael),Ve._rel&&(it.rel=Ve._rel),Ve._ce&&(it.ce=Ve._ce),(0,c.s)(it);const lt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ve=>{try{const qe=Ve.sessionStorage.getItem($e);return null!==qe?JSON.parse(qe):{}}catch(qe){return{}}})(Se)),{persistConfig:!1}),Ye.config),(Ve=>{const qe={};return Ve.location.search.slice(1).split("&").map(Se=>Se.split("=")).map(([Se,Ye])=>[decodeURIComponent(Se),decodeURIComponent(Ye)]).filter(([Se])=>le(Se,Ce)).map(([Se,Ye])=>[Se.slice(Ce.length),Ye]).forEach(([Se,Ye])=>{qe[Se]=Ye}),qe})(Se)),Ve);$.reset(lt),$.getBoolean("persistConfig")&&((Ve,qe)=>{try{Ve.sessionStorage.setItem($e,JSON.stringify(qe))}catch(Se){return}})(Se,lt),xe(Se),Ye.config=$,Ye.mode=ge=$.get("mode",qe.documentElement.getAttribute("mode")||(_e(Se,"ios")?"ios":"md")),$.set("mode",ge),qe.documentElement.setAttribute("mode",ge),qe.documentElement.classList.add(ge),$.getBoolean("_testing")&&$.set("animated",!1);const St=qt=>{var an;return null===(an=qt.tagName)||void 0===an?void 0:an.startsWith("ION-")},Ht=qt=>["ios","md"].includes(qt);(0,c.a)(qt=>{for(;qt;){const an=qt.mode||qt.getAttribute("mode");if(an){if(Ht(an))return an;St(qt)&&console.warn('Invalid ionic mode: "'+an+'", expected: "ios" or "md"')}qt=qt.parentElement}return ge})}},7938:(ln,at,R)=>{"use strict";R.r(at),R.d(at,{iosTransitionAnimation:()=>de,shadow:()=>le});var c=R(631),B=R(9287);R(2286),R(1559);const Ie=Be=>document.querySelector(`${Be}.ion-cloned-element`),le=Be=>Be.shadowRoot||Be,Ce=Be=>{const Ge="ION-TABS"===Be.tagName?Be:Be.querySelector("ion-tabs"),dt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ge){const Me=Ge.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Me?Me.querySelector(dt):null}return Be.querySelector(dt)},$e=(Be,Ge)=>{const dt="ION-TABS"===Be.tagName?Be:Be.querySelector("ion-tabs");let Me=[];if(null!=dt){const be=dt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=be&&(Me=be.querySelectorAll("ion-buttons"))}else Me=Be.querySelectorAll("ion-buttons");for(const be of Me){const Ee=be.closest("ion-header"),xt=Ee&&!Ee.classList.contains("header-collapse-condense-inactive"),mt=be.querySelector("ion-back-button"),yt=be.classList.contains("buttons-collapse"),et="start"===be.slot||""===be.slot;if(null!==mt&&et&&(yt&&xt&&Ge||!yt))return mt}return null},_e=(Be,Ge,dt,Me,be,Ee)=>{const xt=Ge?`calc(100% - ${Ee.right+4}px)`:Ee.left-4+"px",mt=Ge?"7px":"-7px",yt=Ge?"-4px":"4px",et=Ge?"-4px":"4px",nt=Ge?"right":"left",me=Ge?"left":"right",De=[{offset:0,opacity:0,transform:`translate3d(${mt}, ${be.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${yt}, ${Ee.top-46}px, 0) scale(1)`}],st=[{offset:0,opacity:1,transform:`translate3d(${yt}, ${Ee.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${mt}, ${be.top-40}px, 0) scale(2.1)`}],ie=dt?st:De,ee=[{offset:0,opacity:0,transform:`translate3d(${et}, ${Ee.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${et}, ${Ee.top-46}px, 0) scale(1)`}],oe=[{offset:0,opacity:1,transform:`translate3d(${et}, ${Ee.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${et}, ${Ee.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${et}, ${Ee.top-41}px, 0) scale(0.6)`}],J=dt?oe:ee,ge=(0,c.c)(),Ne=(0,c.c)(),Ae=Ie("ion-back-button"),Ve=le(Ae).querySelector(".button-text"),qe=le(Ae).querySelector("ion-icon");Ae.text=Me.text,Ae.mode=Me.mode,Ae.icon=Me.icon,Ae.color=Me.color,Ae.disabled=Me.disabled,Ae.style.setProperty("display","block"),Ae.style.setProperty("position","fixed"),Ne.addElement(qe),ge.addElement(Ve),ge.beforeStyles({"transform-origin":`${nt} center`}).beforeAddWrite(()=>{Me.style.setProperty("display","none"),Ae.style.setProperty(nt,xt)}).afterAddWrite(()=>{Me.style.setProperty("display",""),Ae.style.setProperty("display","none"),Ae.style.removeProperty(nt)}).keyframes(ie),Ne.beforeStyles({"transform-origin":`${me} center`}).keyframes(J),Be.addAnimation([ge,Ne])},xe=(Be,Ge,dt,Me,be,Ee)=>{const xt=Ge?`calc(100% - ${be.right}px)`:`${be.left}px`,mt=Ge?"-18px":"18px",yt=Ge?"right":"left",et=[{offset:0,opacity:0,transform:`translate3d(${mt}, ${Ee.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${be.top-2}px, 0) scale(1)`}],nt=[{offset:0,opacity:.99,transform:`translate3d(0, ${be.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${mt}, ${Ee.top-4}px, 0) scale(0.5)`}],me=dt?et:nt,De=Ie("ion-title"),st=(0,c.c)();De.innerText=Me.innerText,De.size=Me.size,De.color=Me.color,st.addElement(De),st.beforeStyles({"transform-origin":`${yt} center`,height:"46px",display:"",position:"relative",[yt]:xt}).beforeAddWrite(()=>{Me.style.setProperty("display","none")}).afterAddWrite(()=>{Me.style.setProperty("display",""),De.style.setProperty("display","none")}).keyframes(me),Be.addAnimation(st)},de=(Be,Ge)=>{var dt;try{const Me="cubic-bezier(0.32,0.72,0,1)",be="opacity",Ee="transform",xt="0%",yt="rtl"===Be.ownerDocument.dir,et=yt?"-99.5%":"99.5%",nt=yt?"33%":"-33%",me=Ge.enteringEl,De=Ge.leavingEl,st="back"===Ge.direction,ie=me.querySelector(":scope > ion-content"),ee=me.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),oe=me.querySelectorAll(":scope > ion-header > ion-toolbar"),J=(0,c.c)(),ge=(0,c.c)();if(J.addElement(me).duration((null!==(dt=Ge.duration)&&void 0!==dt?dt:0)||540).easing(Ge.easing||Me).fill("both").beforeRemoveClass("ion-page-invisible"),De&&null!=Be){const qe=(0,c.c)();qe.addElement(Be),J.addAnimation(qe)}if(ie||0!==oe.length||0!==ee.length?(ge.addElement(ie),ge.addElement(ee)):ge.addElement(me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),J.addAnimation(ge),st?ge.beforeClearStyles([be]).fromTo("transform",`translateX(${nt})`,`translateX(${xt})`).fromTo(be,.8,1):ge.beforeClearStyles([be]).fromTo("transform",`translateX(${et})`,`translateX(${xt})`),ie){const qe=le(ie).querySelector(".transition-effect");if(qe){const Se=qe.querySelector(".transition-cover"),Ye=qe.querySelector(".transition-shadow"),it=(0,c.c)(),lt=(0,c.c)(),St=(0,c.c)();it.addElement(qe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),lt.addElement(Se).beforeClearStyles([be]).fromTo(be,0,.1),St.addElement(Ye).beforeClearStyles([be]).fromTo(be,.03,.7),it.addAnimation([lt,St]),ge.addAnimation([it])}}const Ne=me.querySelector("ion-header.header-collapse-condense"),{forward:Ae,backward:Ve}=((Be,Ge,dt,Me,be)=>{const Ee=$e(Me,dt),xt=Ce(be),mt=Ce(Me),yt=$e(be,dt),et=null!==Ee&&null!==xt&&!dt,nt=null!==mt&&null!==yt&&dt;if(et){const me=xt.getBoundingClientRect(),De=Ee.getBoundingClientRect();xe(Be,Ge,dt,xt,me,De),_e(Be,Ge,dt,Ee,me,De)}else if(nt){const me=mt.getBoundingClientRect(),De=yt.getBoundingClientRect();xe(Be,Ge,dt,mt,me,De),_e(Be,Ge,dt,yt,me,De)}return{forward:et,backward:nt}})(J,yt,st,me,De);if(oe.forEach(qe=>{const Se=(0,c.c)();Se.addElement(qe),J.addAnimation(Se);const Ye=(0,c.c)();Ye.addElement(qe.querySelector("ion-title"));const it=(0,c.c)(),lt=Array.from(qe.querySelectorAll("ion-buttons,[menuToggle]")),St=qe.closest("ion-header"),Ht=null==St?void 0:St.classList.contains("header-collapse-condense-inactive");let qt;qt=st?lt.filter(jn=>{const Mn=jn.classList.contains("buttons-collapse");return Mn&&!Ht||!Mn}):lt.filter(jn=>!jn.classList.contains("buttons-collapse")),it.addElement(qt);const an=(0,c.c)();an.addElement(qe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Fn=(0,c.c)();Fn.addElement(le(qe).querySelector(".toolbar-background"));const ir=(0,c.c)(),tr=qe.querySelector("ion-back-button");if(tr&&ir.addElement(tr),Se.addAnimation([Ye,it,an,Fn,ir]),it.fromTo(be,.01,1),an.fromTo(be,.01,1),st)Ht||Ye.fromTo("transform",`translateX(${nt})`,`translateX(${xt})`).fromTo(be,.01,1),an.fromTo("transform",`translateX(${nt})`,`translateX(${xt})`),ir.fromTo(be,.01,1);else if(Ne||Ye.fromTo("transform",`translateX(${et})`,`translateX(${xt})`).fromTo(be,.01,1),an.fromTo("transform",`translateX(${et})`,`translateX(${xt})`),Fn.beforeClearStyles([be,"transform"]),(null==St?void 0:St.translucent)?Fn.fromTo("transform",yt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Fn.fromTo(be,.01,"var(--opacity)"),Ae||ir.fromTo(be,.01,1),tr&&!Ae){const Mn=(0,c.c)();Mn.addElement(le(tr).querySelector(".button-text")).fromTo("transform",yt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Se.addAnimation(Mn)}}),De){const qe=(0,c.c)(),Se=De.querySelector(":scope > ion-content"),Ye=De.querySelectorAll(":scope > ion-header > ion-toolbar"),it=De.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Se||0!==Ye.length||0!==it.length?(qe.addElement(Se),qe.addElement(it)):qe.addElement(De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),J.addAnimation(qe),st){qe.beforeClearStyles([be]).fromTo("transform",`translateX(${xt})`,yt?"translateX(-100%)":"translateX(100%)");const lt=(0,B.g)(De);J.afterAddWrite(()=>{"normal"===J.getDirection()&&lt.style.setProperty("display","none")})}else qe.fromTo("transform",`translateX(${xt})`,`translateX(${nt})`).fromTo(be,1,.8);if(Se){const lt=le(Se).querySelector(".transition-effect");if(lt){const St=lt.querySelector(".transition-cover"),Ht=lt.querySelector(".transition-shadow"),qt=(0,c.c)(),an=(0,c.c)(),Fn=(0,c.c)();qt.addElement(lt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),an.addElement(St).beforeClearStyles([be]).fromTo(be,.1,0),Fn.addElement(Ht).beforeClearStyles([be]).fromTo(be,.7,.03),qt.addAnimation([an,Fn]),qe.addAnimation([qt])}}Ye.forEach(lt=>{const St=(0,c.c)();St.addElement(lt);const Ht=(0,c.c)();Ht.addElement(lt.querySelector("ion-title"));const qt=(0,c.c)(),an=lt.querySelectorAll("ion-buttons,[menuToggle]"),Fn=lt.closest("ion-header"),ir=null==Fn?void 0:Fn.classList.contains("header-collapse-condense-inactive"),tr=Array.from(an).filter(hn=>{const bt=hn.classList.contains("buttons-collapse");return bt&&!ir||!bt});qt.addElement(tr);const jn=(0,c.c)(),Mn=lt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Mn.length>0&&jn.addElement(Mn);const z=(0,c.c)();z.addElement(le(lt).querySelector(".toolbar-background"));const Rt=(0,c.c)(),Vt=lt.querySelector("ion-back-button");if(Vt&&Rt.addElement(Vt),St.addAnimation([Ht,qt,jn,Rt,z]),J.addAnimation(St),Rt.fromTo(be,.99,0),qt.fromTo(be,.99,0),jn.fromTo(be,.99,0),st){if(ir||Ht.fromTo("transform",`translateX(${xt})`,yt?"translateX(-100%)":"translateX(100%)").fromTo(be,.99,0),jn.fromTo("transform",`translateX(${xt})`,yt?"translateX(-100%)":"translateX(100%)"),z.beforeClearStyles([be,"transform"]),(null==Fn?void 0:Fn.translucent)?z.fromTo("transform","translateX(0px)",yt?"translateX(-100%)":"translateX(100%)"):z.fromTo(be,"var(--opacity)",0),Vt&&!Ve){const bt=(0,c.c)();bt.addElement(le(Vt).querySelector(".button-text")).fromTo("transform",`translateX(${xt})`,`translateX(${(yt?-124:124)+"px"})`),St.addAnimation(bt)}}else ir||Ht.fromTo("transform",`translateX(${xt})`,`translateX(${nt})`).fromTo(be,.99,0).afterClearStyles([Ee,be]),jn.fromTo("transform",`translateX(${xt})`,`translateX(${nt})`).afterClearStyles([Ee,be]),Rt.afterClearStyles([be]),Ht.afterClearStyles([be]),qt.afterClearStyles([be])})}return J}catch(Me){throw Me}}},4844:(ln,at,R)=>{"use strict";R.r(at),R.d(at,{mdTransitionAnimation:()=>Fe});var c=R(631),B=R(9287);R(2286),R(1559);const Fe=(Ie,le)=>{var Ce,$e,ue;const de="back"===le.direction,Be=le.enteringEl,Ge=le.leavingEl,dt=(0,B.g)(Be),Me=dt.querySelector("ion-toolbar"),be=(0,c.c)();if(be.addElement(dt).fill("both").beforeRemoveClass("ion-page-invisible"),de?be.duration((null!==(Ce=le.duration)&&void 0!==Ce?Ce:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):be.duration((null!==($e=le.duration)&&void 0!==$e?$e:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Me){const Ee=(0,c.c)();Ee.addElement(Me),be.addAnimation(Ee)}if(Ge&&de){be.duration((null!==(ue=le.duration)&&void 0!==ue?ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ee=(0,c.c)();Ee.addElement((0,B.g)(Ge)).onFinish(xt=>{1===xt&&Ee.elements.length>0&&Ee.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),be.addAnimation(Ee)}return be}},2752:(ln,at,R)=>{"use strict";R.d(at,{B:()=>Se,a:()=>Ce,b:()=>$e,c:()=>de,d:()=>st,e:()=>Ge,f:()=>ee,g:()=>ge,h:()=>Ie,i:()=>Ae,j:()=>be,k:()=>me,l:()=>ue,m:()=>_e,p:()=>xe,s:()=>qe,t:()=>Be});var c=R(1670),B=R(8607),$=R(159),Le=R(9259);let Fe=0;const Ie=new WeakMap,le=Ye=>({create:it=>dt(Ye,it),dismiss:(it,lt,St)=>et(document,it,lt,Ye,St),getTop:()=>(0,c.Z)(function*(){return me(document,Ye)})()}),Ce=le("ion-alert"),$e=le("ion-action-sheet"),ue=le("ion-loading"),_e=le("ion-modal"),xe=le("ion-picker"),de=le("ion-popover"),Be=le("ion-toast"),Ge=Ye=>{"undefined"!=typeof document&&yt(document);const it=Fe++;Ye.overlayIndex=it,Ye.hasAttribute("id")||(Ye.id=`ion-overlay-${it}`)},dt=(Ye,it)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(Ye).then(()=>{const lt=document.createElement(Ye);return lt.classList.add("overlay-hidden"),Object.assign(lt,Object.assign(Object.assign({},it),{hasController:!0})),oe(document).appendChild(lt),new Promise(St=>(0,Le.c)(lt,St))}):Promise.resolve(),Me='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',be=(Ye,it)=>{let lt=Ye.querySelector(Me);const St=null==lt?void 0:lt.shadowRoot;St&&(lt=St.querySelector(Me)||lt),lt?(0,Le.f)(lt):it.focus()},xt=(Ye,it)=>{const lt=Array.from(Ye.querySelectorAll(Me));let St=lt.length>0?lt[lt.length-1]:null;const Ht=null==St?void 0:St.shadowRoot;Ht&&(St=Ht.querySelector(Me)||St),St?St.focus():it.focus()},yt=Ye=>{0===Fe&&(Fe=1,Ye.addEventListener("focus",it=>{((Ye,it)=>{const lt=me(it,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),St=Ye.target;if(!lt||!St||lt.classList.contains("ion-disable-focus-trap"))return;lt.shadowRoot?(()=>{if(lt.contains(St))lt.lastFocus=St;else{const an=lt.lastFocus;be(lt,lt),an===it.activeElement&&xt(lt,lt),lt.lastFocus=it.activeElement}})():(()=>{if(lt===St)lt.lastFocus=void 0;else{const an=(0,Le.g)(lt);if(!an.contains(St))return;const Fn=an.querySelector(".ion-overlay-wrapper");if(!Fn)return;if(Fn.contains(St))lt.lastFocus=St;else{const ir=lt.lastFocus;be(Fn,lt),ir===it.activeElement&&xt(Fn,lt),lt.lastFocus=it.activeElement}}})()})(it,Ye)},!0),Ye.addEventListener("ionBackButton",it=>{const lt=me(Ye);null!=lt&&lt.backdropDismiss&&it.detail.register($.OVERLAY_BACK_BUTTON_PRIORITY,()=>lt.dismiss(void 0,Se))}),Ye.addEventListener("keyup",it=>{if("Escape"===it.key){const lt=me(Ye);null!=lt&&lt.backdropDismiss&&lt.dismiss(void 0,Se)}}))},et=(Ye,it,lt,St,Ht)=>{const qt=me(Ye,St,Ht);return qt?qt.dismiss(it,lt):Promise.reject("overlay does not exist")},me=(Ye,it,lt)=>{const St=((Ye,it)=>(void 0===it&&(it="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ye.querySelectorAll(it)).filter(lt=>lt.overlayIndex>0)))(Ye,it).filter(Ht=>!(Ye=>Ye.classList.contains("overlay-hidden"))(Ht));return void 0===lt?St[St.length-1]:St.find(Ht=>Ht.id===lt)},De=(Ye=!1)=>{const lt=oe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!lt||(Ye?lt.setAttribute("aria-hidden","true"):lt.removeAttribute("aria-hidden"))},st=function(){var Ye=(0,c.Z)(function*(it,lt,St,Ht,qt){var an,Fn;if(it.presented)return;De(!0),it.presented=!0,it.willPresent.emit(),null===(an=it.willPresentShorthand)||void 0===an||an.emit();const ir=(0,B.b)(it),tr=it.enterAnimation?it.enterAnimation:B.c.get(lt,"ios"===ir?St:Ht);(yield J(it,tr,it.el,qt))&&(it.didPresent.emit(),null===(Fn=it.didPresentShorthand)||void 0===Fn||Fn.emit()),"ION-TOAST"!==it.el.tagName&&ie(it.el),it.keyboardClose&&(null===document.activeElement||!it.el.contains(document.activeElement))&&it.el.focus()});return function(lt,St,Ht,qt,an){return Ye.apply(this,arguments)}}(),ie=function(){var Ye=(0,c.Z)(function*(it){let lt=document.activeElement;if(!lt)return;const St=null==lt?void 0:lt.shadowRoot;St&&(lt=St.querySelector(Me)||lt),yield it.onDidDismiss(),lt.focus()});return function(lt){return Ye.apply(this,arguments)}}(),ee=function(){var Ye=(0,c.Z)(function*(it,lt,St,Ht,qt,an,Fn){var ir,tr;if(!it.presented)return!1;De(!1),it.presented=!1;try{it.el.style.setProperty("pointer-events","none"),it.willDismiss.emit({data:lt,role:St}),null===(ir=it.willDismissShorthand)||void 0===ir||ir.emit({data:lt,role:St});const jn=(0,B.b)(it),Mn=it.leaveAnimation?it.leaveAnimation:B.c.get(Ht,"ios"===jn?qt:an);"gesture"!==St&&(yield J(it,Mn,it.el,Fn)),it.didDismiss.emit({data:lt,role:St}),null===(tr=it.didDismissShorthand)||void 0===tr||tr.emit({data:lt,role:St}),Ie.delete(it),it.el.classList.add("overlay-hidden"),it.el.style.removeProperty("pointer-events")}catch(jn){console.error(jn)}return it.el.remove(),!0});return function(lt,St,Ht,qt,an,Fn,ir){return Ye.apply(this,arguments)}}(),oe=Ye=>Ye.querySelector("ion-app")||Ye.body,J=function(){var Ye=(0,c.Z)(function*(it,lt,St,Ht){St.classList.remove("overlay-hidden");const an=lt(it.el,Ht);(!it.animated||!B.c.getBoolean("animated",!0))&&an.duration(0),it.keyboardClose&&an.beforeAddWrite(()=>{const ir=St.ownerDocument.activeElement;null!=ir&&ir.matches("input,ion-input, ion-textarea")&&ir.blur()});const Fn=Ie.get(it)||[];return Ie.set(it,[...Fn,an]),yield an.play(),!0});return function(lt,St,Ht,qt){return Ye.apply(this,arguments)}}(),ge=(Ye,it)=>{let lt;const St=new Promise(Ht=>lt=Ht);return Ne(Ye,it,Ht=>{lt(Ht.detail)}),St},Ne=(Ye,it,lt)=>{const St=Ht=>{(0,Le.b)(Ye,it,St),lt(Ht)};(0,Le.a)(Ye,it,St)},Ae=Ye=>"cancel"===Ye||Ye===Se,Ve=Ye=>Ye(),qe=(Ye,it)=>{if("function"==typeof Ye)return B.c.get("_zoneGate",Ve)(()=>{try{return Ye(it)}catch(St){throw St}})},Se="backdrop"},6369:(ln,at,R)=>{"use strict";R.d(at,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,P2:()=>c.deleteApp,TP:()=>c.onLog,Ub:()=>c.setLogLevel,ZF:()=>c.initializeApp});var c=R(8770);(0,c.registerVersion)("firebase","9.14.0","app")},9012:(ln,at,R)=>{"use strict";R.d(at,{_O:()=>c.N,hJ:()=>c.Q,lI:()=>c.R,v0:()=>c.n});var c=R(1481);R(7748),R(8770),R(8118),R(4692)},8427:(ln,at,R)=>{"use strict";R.d(at,{Z:()=>c.Z});var c=R(5003);c.Z.registerVersion("firebase","9.14.0","app-compat")},7608:(ln,at,R)=>{"use strict";R.r(at);var c=R(1670),B=R(5003),$=R(1481),Le=R(7748),le=(R(8770),R(8118),R(4692));function Ce(){return window}function _e(){return(_e=(0,c.Z)(function*(Ue,Y,je){var Nt;const{BuildInfo:on}=Ce();(0,$.ap)(Y.sessionId,"AuthEvent did not contain a session ID");const pn=yield be(Y.sessionId),Hn={};return(0,$.aq)()?Hn.ibi=on.packageName:(0,$.ar)()?Hn.apn=on.packageName:(0,$.as)(Ue,"operation-not-supported-in-this-environment"),on.displayName&&(Hn.appDisplayName=on.displayName),Hn.sessionId=pn,(0,$.at)(Ue,je,Y.type,void 0,null!==(Nt=Y.eventId)&&void 0!==Nt?Nt:void 0,Hn)})).apply(this,arguments)}function de(){return(de=(0,c.Z)(function*(Ue){const{BuildInfo:Y}=Ce(),je={};(0,$.aq)()?je.iosBundleId=Y.packageName:(0,$.ar)()?je.androidPackageName=Y.packageName:(0,$.as)(Ue,"operation-not-supported-in-this-environment"),yield(0,$.au)(Ue,je)})).apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(Ue,Y,je){const{cordova:Nt}=Ce();let on=()=>{};try{yield new Promise((pn,Hn)=>{let Ot=null;function X(){var Ut;pn();const Sn=null===(Ut=Nt.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof Sn&&Sn(),"function"==typeof(null==je?void 0:je.close)&&je.close()}function He(){Ot||(Ot=window.setTimeout(()=>{Hn((0,$.aw)(Ue,"redirect-cancelled-by-user"))},2e3))}function At(){"visible"===(null==document?void 0:document.visibilityState)&&He()}Y.addPassiveListener(X),document.addEventListener("resume",He,!1),(0,$.ar)()&&document.addEventListener("visibilitychange",At,!1),on=()=>{Y.removePassiveListener(X),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",At,!1),Ot&&window.clearTimeout(Ot)}})}finally{on()}})).apply(this,arguments)}function be(Ue){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,c.Z)(function*(Ue){const Y=xt(Ue),je=yield crypto.subtle.digest("SHA-256",Y);return Array.from(new Uint8Array(je)).map(on=>on.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function xt(Ue){if((0,$.ap)(/[0-9a-zA-Z]+/.test(Ue),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Ue);const Y=new ArrayBuffer(Ue.length),je=new Uint8Array(Y);for(let Nt=0;Nt<Ue.length;Nt++)je[Nt]=Ue.charCodeAt(Nt);return je}class yt extends $.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Y=>{this.resolveInialized=Y})}addPassiveListener(Y){this.passiveListeners.add(Y)}removePassiveListener(Y){this.passiveListeners.delete(Y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Y){return this.resolveInialized(),this.passiveListeners.forEach(je=>je(Y)),super.onEvent(Y)}initialized(){var Y=this;return(0,c.Z)(function*(){yield Y.initPromise})()}}function me(Ue){return De.apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(Ue){const Y=yield ee()._get(oe(Ue));return Y&&(yield ee()._remove(oe(Ue))),Y})).apply(this,arguments)}function st(Ue,Y){var je,Nt;const on=function ge(Ue){const Y=Ne(Ue),je=Y.link?decodeURIComponent(Y.link):void 0,Nt=Ne(je).link,on=Y.deep_link_id?decodeURIComponent(Y.deep_link_id):void 0;return Ne(on).link||on||Nt||je||Ue}(Y);if(on.includes("/__/auth/callback")){const pn=Ne(on),Hn=pn.firebaseError?function J(Ue){try{return JSON.parse(Ue)}catch(Y){return null}}(decodeURIComponent(pn.firebaseError)):null,Ot=null===(Nt=null===(je=null==Hn?void 0:Hn.code)||void 0===je?void 0:je.split("auth/"))||void 0===Nt?void 0:Nt[1],X=Ot?(0,$.aw)(Ot):null;return X?{type:Ue.type,eventId:Ue.eventId,tenantId:Ue.tenantId,error:X,urlResponse:null,sessionId:null,postBody:null}:{type:Ue.type,eventId:Ue.eventId,tenantId:Ue.tenantId,sessionId:Ue.sessionId,urlResponse:on,postBody:null}}return null}function ie(){const Ue=[],Y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let je=0;je<20;je++){const Nt=Math.floor(Math.random()*Y.length);Ue.push(Y.charAt(Nt))}return Ue.join("")}function ee(){return(0,$.az)($.b)}function oe(Ue){return(0,$.aA)("authEvent",Ue.config.apiKey,Ue.name)}function Ne(Ue){if(null==Ue||!Ue.includes("?"))return{};const[Y,...je]=Ue.split("?");return(0,Le.zd)(je.join("?"))}const qe=class Ve{constructor(){this._redirectPersistence=$.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$.aB,this._overrideRedirectResult=$.aC}_initialize(Y){var je=this;return(0,c.Z)(function*(){const Nt=Y._key();let on=je.eventManagers.get(Nt);return on||(on=new yt(Y),je.eventManagers.set(Nt,on),je.attachCallbackListeners(Y,on)),on})()}_openPopup(Y){(0,$.as)(Y,"operation-not-supported-in-this-environment")}_openRedirect(Y,je,Nt,on){var pn=this;return(0,c.Z)(function*(){!function Me(Ue){var Y,je,Nt,on,pn,Hn,Ot,X,He,At;const Ut=Ce();(0,$.ax)("function"==typeof(null===(Y=null==Ut?void 0:Ut.universalLinks)||void 0===Y?void 0:Y.subscribe),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,$.ax)(void 0!==(null===(je=null==Ut?void 0:Ut.BuildInfo)||void 0===je?void 0:je.packageName),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,$.ax)("function"==typeof(null===(pn=null===(on=null===(Nt=null==Ut?void 0:Ut.cordova)||void 0===Nt?void 0:Nt.plugins)||void 0===on?void 0:on.browsertab)||void 0===pn?void 0:pn.openUrl),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.ax)("function"==typeof(null===(X=null===(Ot=null===(Hn=null==Ut?void 0:Ut.cordova)||void 0===Hn?void 0:Hn.plugins)||void 0===Ot?void 0:Ot.browsertab)||void 0===X?void 0:X.isAvailable),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.ax)("function"==typeof(null===(At=null===(He=null==Ut?void 0:Ut.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===At?void 0:At.open),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Y);const Hn=yield pn._initialize(Y);yield Hn.initialized(),Hn.resetRedirect(),(0,$.aD)(),yield pn._originValidation(Y);const Ot=function et(Ue,Y,je=null){return{type:Y,eventId:je,urlResponse:null,sessionId:ie(),postBody:null,tenantId:Ue.tenantId,error:(0,$.aw)(Ue,"no-auth-event")}}(Y,Nt,on);yield function nt(Ue,Y){return ee()._set(oe(Ue),Y)}(Y,Ot);const X=yield function ue(Ue,Y,je){return _e.apply(this,arguments)}(Y,Ot,je),He=yield function Be(Ue){const{cordova:Y}=Ce();return new Promise(je=>{Y.plugins.browsertab.isAvailable(Nt=>{let on=null;Nt?Y.plugins.browsertab.openUrl(Ue):on=Y.InAppBrowser.open(Ue,(0,$.av)()?"_blank":"_system","location=yes"),je(on)})})}(X);return function Ge(Ue,Y,je){return dt.apply(this,arguments)}(Y,Hn,He)})()}_isIframeWebStorageSupported(Y,je){throw new Error("Method not implemented.")}_originValidation(Y){const je=Y._key();return this.originValidationPromises[je]||(this.originValidationPromises[je]=function xe(Ue){return de.apply(this,arguments)}(Y)),this.originValidationPromises[je]}attachCallbackListeners(Y,je){const{universalLinks:Nt,handleOpenURL:on,BuildInfo:pn}=Ce(),Hn=setTimeout((0,c.Z)(function*(){yield me(Y),je.onEvent(Se())}),500),Ot=function(){var At=(0,c.Z)(function*(Ut){clearTimeout(Hn);const Sn=yield me(Y);let Qe=null;Sn&&(null==Ut?void 0:Ut.url)&&(Qe=st(Sn,Ut.url)),je.onEvent(Qe||Se())});return function(Sn){return At.apply(this,arguments)}}();void 0!==Nt&&"function"==typeof Nt.subscribe&&Nt.subscribe(null,Ot);const X=on,He=`${pn.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var At=(0,c.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(He)&&Ot({url:Ut}),"function"==typeof X)try{X(Ut)}catch(Sn){console.error(Sn)}});return function(Ut){return At.apply(this,arguments)}}()}};function Se(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,$.aw)("no-auth-event")}}function Ht(){var Ue;return(null===(Ue=null==self?void 0:self.location)||void 0===Ue?void 0:Ue.protocol)||null}function an(Ue=(0,Le.z$)()){return!("file:"!==Ht()&&"ionic:"!==Ht()&&"capacitor:"!==Ht()||!Ue.toLowerCase().match(/iphone|ipad|ipod|android/))}function jn(Ue=(0,Le.z$)()){return function ir(){return(0,Le.w1)()&&11===(null==document?void 0:document.documentMode)}()||function tr(Ue=(0,Le.z$)()){return/Edge\/\d+/.test(Ue)}(Ue)}function Mn(){try{const Ue=self.localStorage,Y=$.aI();if(Ue)return Ue.setItem(Y,"1"),Ue.removeItem(Y),!jn()||(0,Le.hl)()}catch(Ue){return z()&&(0,Le.hl)()}return!1}function z(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Rt(){return(function qt(){return"http:"===Ht()||"https:"===Ht()}()||(0,Le.ru)()||an())&&!function Fn(){return(0,Le.b$)()||(0,Le.UG)()}()&&Mn()&&!z()}function Vt(){return an()&&"undefined"!=typeof document}function bt(){return(bt=(0,c.Z)(function*(){return!!Vt()&&new Promise(Ue=>{const Y=setTimeout(()=>{Ue(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Y),Ue(!0)})})})).apply(this,arguments)}const Et={LOCAL:"local",NONE:"none",SESSION:"session"},cn=$.ax,nr="persistence";function hr(Ue){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(Ue){yield Ue._initializationPromise;const Y=$n(),je=$.aA(nr,Ue.config.apiKey,Ue.name);Y&&Y.setItem(je,Ue._getPersistence())})).apply(this,arguments)}function $n(){var Ue;try{return(null===(Ue=function rn(){return"undefined"!=typeof window?window:null}())||void 0===Ue?void 0:Ue.sessionStorage)||null}catch(Y){return null}}const bn=$.ax;class Bn{constructor(){this.browserResolver=$.az($.k),this.cordovaResolver=$.az(qe),this.underlyingResolver=null,this._redirectPersistence=$.a,this._completeRedirectFn=$.aB,this._overrideRedirectResult=$.aC}_initialize(Y){var je=this;return(0,c.Z)(function*(){return yield je.selectUnderlyingResolver(),je.assertedUnderlyingResolver._initialize(Y)})()}_openPopup(Y,je,Nt,on){var pn=this;return(0,c.Z)(function*(){return yield pn.selectUnderlyingResolver(),pn.assertedUnderlyingResolver._openPopup(Y,je,Nt,on)})()}_openRedirect(Y,je,Nt,on){var pn=this;return(0,c.Z)(function*(){return yield pn.selectUnderlyingResolver(),pn.assertedUnderlyingResolver._openRedirect(Y,je,Nt,on)})()}_isIframeWebStorageSupported(Y,je){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Y,je)}_originValidation(Y){return this.assertedUnderlyingResolver._originValidation(Y)}get _shouldInitProactively(){return Vt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Y=this;return(0,c.Z)(function*(){if(Y.underlyingResolver)return;const je=yield function hn(){return bt.apply(this,arguments)}();Y.underlyingResolver=je?Y.cordovaResolver:Y.browserResolver})()}}function yr(Ue){return Ue.unwrap()}function pr(Ue){return Mr(Ue)}function Mr(Ue){const{_tokenResponse:Y}=Ue instanceof Le.ZR?Ue.customData:Ue;if(!Y)return null;if(!(Ue instanceof Le.ZR)&&"temporaryProof"in Y&&"phoneNumber"in Y)return $.P.credentialFromResult(Ue);const je=Y.providerId;if(!je||je===$.o.PASSWORD)return null;let Nt;switch(je){case $.o.GOOGLE:Nt=$.Q;break;case $.o.FACEBOOK:Nt=$.N;break;case $.o.GITHUB:Nt=$.T;break;case $.o.TWITTER:Nt=$.W;break;default:const{oauthIdToken:on,oauthAccessToken:pn,oauthTokenSecret:Hn,pendingToken:Ot,nonce:X}=Y;return pn||Hn||on||Ot?Ot?je.startsWith("saml.")?$.aL._create(je,Ot):$.J._fromParams({providerId:je,signInMethod:je,pendingToken:Ot,idToken:on,accessToken:pn}):new $.U(je).credential({idToken:on,accessToken:pn,rawNonce:X}):null}return Ue instanceof Le.ZR?Nt.credentialFromError(Ue):Nt.credentialFromResult(Ue)}function sr(Ue,Y){return Y.catch(je=>{throw je instanceof Le.ZR&&function zn(Ue,Y){var je,Nt;const on=null===(je=Y.customData)||void 0===je?void 0:je._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Nt=Y)||void 0===Nt?void 0:Nt.code))Y.resolver=new vr(Ue,$.an(Ue,Y));else if(on){const pn=Mr(Y),Hn=Y;pn&&(Hn.credential=pn,Hn.tenantId=on.tenantId||void 0,Hn.email=on.email||void 0,Hn.phoneNumber=on.phoneNumber||void 0)}}(Ue,je),je}).then(je=>{const Nt=je.operationType,on=je.user;return{operationType:Nt,credential:pr(je),additionalUserInfo:$.al(je),user:Un.getOrCreate(on)}})}function Zr(Ue,Y){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(Ue,Y){const je=yield Y;return{verificationId:je.verificationId,confirm:Nt=>sr(Ue,je.confirm(Nt))}})).apply(this,arguments)}class vr{constructor(Y,je){this.resolver=je,this.auth=function _r(Ue){return Ue.wrapped()}(Y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Y){return sr(yr(this.auth),this.resolver.resolveSignIn(Y))}}class Un{constructor(Y){this._delegate=Y,this.multiFactor=$.ao(Y)}static getOrCreate(Y){return Un.USER_MAP.has(Y)||Un.USER_MAP.set(Y,new Un(Y)),Un.USER_MAP.get(Y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Y){return this._delegate.getIdTokenResult(Y)}getIdToken(Y){return this._delegate.getIdToken(Y)}linkAndRetrieveDataWithCredential(Y){return this.linkWithCredential(Y)}linkWithCredential(Y){var je=this;return(0,c.Z)(function*(){return sr(je.auth,$.Z(je._delegate,Y))})()}linkWithPhoneNumber(Y,je){var Nt=this;return(0,c.Z)(function*(){return Zr(Nt.auth,$.l(Nt._delegate,Y,je))})()}linkWithPopup(Y){var je=this;return(0,c.Z)(function*(){return sr(je.auth,$.d(je._delegate,Y,Bn))})()}linkWithRedirect(Y){var je=this;return(0,c.Z)(function*(){return yield hr($.aE(je.auth)),$.g(je._delegate,Y,Bn)})()}reauthenticateAndRetrieveDataWithCredential(Y){return this.reauthenticateWithCredential(Y)}reauthenticateWithCredential(Y){var je=this;return(0,c.Z)(function*(){return sr(je.auth,$._(je._delegate,Y))})()}reauthenticateWithPhoneNumber(Y,je){return Zr(this.auth,$.r(this._delegate,Y,je))}reauthenticateWithPopup(Y){return sr(this.auth,$.e(this._delegate,Y,Bn))}reauthenticateWithRedirect(Y){var je=this;return(0,c.Z)(function*(){return yield hr($.aE(je.auth)),$.h(je._delegate,Y,Bn)})()}sendEmailVerification(Y){return $.ab(this._delegate,Y)}unlink(Y){var je=this;return(0,c.Z)(function*(){return yield $.ak(je._delegate,Y),je})()}updateEmail(Y){return $.ag(this._delegate,Y)}updatePassword(Y){return $.ah(this._delegate,Y)}updatePhoneNumber(Y){return $.u(this._delegate,Y)}updateProfile(Y){return $.af(this._delegate,Y)}verifyBeforeUpdateEmail(Y,je){return $.ac(this._delegate,Y,je)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Un.USER_MAP=new WeakMap;const In=$.ax;class Wt{constructor(Y,je){if(this.app=Y,je.isInitialized())return this._delegate=je.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Nt}=Y.options;In(Nt,"invalid-api-key",{appName:Y.name}),In(Nt,"invalid-api-key",{appName:Y.name});const on="undefined"!=typeof window?Bn:void 0;this._delegate=je.initialize({options:{persistence:Rn(Nt,Y.name),popupRedirectResolver:on}}),this._delegate._updateErrorMap($.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Y){this._delegate.languageCode=Y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Y){this._delegate.tenantId=Y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Y,je){$.G(this._delegate,Y,je)}applyActionCode(Y){return $.a2(this._delegate,Y)}checkActionCode(Y){return $.a3(this._delegate,Y)}confirmPasswordReset(Y,je){return $.a1(this._delegate,Y,je)}createUserWithEmailAndPassword(Y,je){var Nt=this;return(0,c.Z)(function*(){return sr(Nt._delegate,$.a5(Nt._delegate,Y,je))})()}fetchProvidersForEmail(Y){return this.fetchSignInMethodsForEmail(Y)}fetchSignInMethodsForEmail(Y){return $.aa(this._delegate,Y)}isSignInWithEmailLink(Y){return $.a8(this._delegate,Y)}getRedirectResult(){var Y=this;return(0,c.Z)(function*(){In(Rt(),Y._delegate,"operation-not-supported-in-this-environment");const je=yield $.j(Y._delegate,Bn);return je?sr(Y._delegate,Promise.resolve(je)):{credential:null,user:null}})()}addFrameworkForLogging(Y){!function Ye(Ue,Y){(0,$.aE)(Ue)._logFramework(Y)}(this._delegate,Y)}onAuthStateChanged(Y,je,Nt){const{next:on,error:pn,complete:Hn}=Tn(Y,je,Nt);return this._delegate.onAuthStateChanged(on,pn,Hn)}onIdTokenChanged(Y,je,Nt){const{next:on,error:pn,complete:Hn}=Tn(Y,je,Nt);return this._delegate.onIdTokenChanged(on,pn,Hn)}sendSignInLinkToEmail(Y,je){return $.a7(this._delegate,Y,je)}sendPasswordResetEmail(Y,je){return $.a0(this._delegate,Y,je||void 0)}setPersistence(Y){var je=this;return(0,c.Z)(function*(){let Nt;switch(function Gn(Ue,Y){cn(Object.values(Et).includes(Y),Ue,"invalid-persistence-type"),(0,Le.b$)()?cn(Y!==Et.SESSION,Ue,"unsupported-persistence-type"):(0,Le.UG)()?cn(Y===Et.NONE,Ue,"unsupported-persistence-type"):z()?cn(Y===Et.NONE||Y===Et.LOCAL&&(0,Le.hl)(),Ue,"unsupported-persistence-type"):cn(Y===Et.NONE||Mn(),Ue,"unsupported-persistence-type")}(je._delegate,Y),Y){case Et.SESSION:Nt=$.a;break;case Et.LOCAL:Nt=(yield $.az($.i)._isAvailable())?$.i:$.b;break;case Et.NONE:Nt=$.L;break;default:return $.as("argument-error",{appName:je._delegate.name})}return je._delegate.setPersistence(Nt)})()}signInAndRetrieveDataWithCredential(Y){return this.signInWithCredential(Y)}signInAnonymously(){return sr(this._delegate,$.X(this._delegate))}signInWithCredential(Y){return sr(this._delegate,$.Y(this._delegate,Y))}signInWithCustomToken(Y){return sr(this._delegate,$.$(this._delegate,Y))}signInWithEmailAndPassword(Y,je){return sr(this._delegate,$.a6(this._delegate,Y,je))}signInWithEmailLink(Y,je){return sr(this._delegate,$.a9(this._delegate,Y,je))}signInWithPhoneNumber(Y,je){return Zr(this._delegate,$.s(this._delegate,Y,je))}signInWithPopup(Y){var je=this;return(0,c.Z)(function*(){return In(Rt(),je._delegate,"operation-not-supported-in-this-environment"),sr(je._delegate,$.c(je._delegate,Y,Bn))})()}signInWithRedirect(Y){var je=this;return(0,c.Z)(function*(){return In(Rt(),je._delegate,"operation-not-supported-in-this-environment"),yield hr(je._delegate),$.f(je._delegate,Y,Bn)})()}updateCurrentUser(Y){return this._delegate.updateCurrentUser(Y)}verifyPasswordResetCode(Y){return $.a4(this._delegate,Y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Tn(Ue,Y,je){let Nt=Ue;"function"!=typeof Ue&&({next:Nt,error:Y,complete:je}=Ue);const on=Nt;return{next:Hn=>on(Hn&&Un.getOrCreate(Hn)),error:Y,complete:je}}function Rn(Ue,Y){const je=function En(Ue,Y){const je=$n();if(!je)return[];const Nt=$.aA(nr,Ue,Y);switch(je.getItem(Nt)){case Et.NONE:return[$.L];case Et.LOCAL:return[$.i,$.a];case Et.SESSION:return[$.a];default:return[]}}(Ue,Y);if("undefined"!=typeof self&&!je.includes($.i)&&je.push($.i),"undefined"!=typeof window)for(const Nt of[$.b,$.a])je.includes(Nt)||je.push(Nt);return je.includes($.L)||je.push($.L),je}Wt.Persistence=Et;class Kn{constructor(){this.providerId="phone",this._delegate=new $.P(yr(B.Z.auth()))}static credential(Y,je){return $.P.credential(Y,je)}verifyPhoneNumber(Y,je){return this._delegate.verifyPhoneNumber(Y,je)}unwrap(){return this._delegate}}Kn.PHONE_SIGN_IN_METHOD=$.P.PHONE_SIGN_IN_METHOD,Kn.PROVIDER_ID=$.P.PROVIDER_ID;const lr=$.ax;class Xe{constructor(Y,je,Nt=B.Z.app()){var on;lr(null===(on=Nt.options)||void 0===on?void 0:on.apiKey,"invalid-api-key",{appName:Nt.name}),this._delegate=new $.R(Y,je,Nt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function tt(Ue){Ue.INTERNAL.registerComponent(new le.wA("auth-compat",Y=>{const je=Y.getProvider("app-compat").getImmediate(),Nt=Y.getProvider("auth");return new Wt(je,Nt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$.A.EMAIL_SIGNIN,PASSWORD_RESET:$.A.PASSWORD_RESET,RECOVER_EMAIL:$.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$.A.VERIFY_EMAIL}},EmailAuthProvider:$.M,FacebookAuthProvider:$.N,GithubAuthProvider:$.T,GoogleAuthProvider:$.Q,OAuthProvider:$.U,SAMLAuthProvider:$.V,PhoneAuthProvider:Kn,PhoneMultiFactorGenerator:$.m,RecaptchaVerifier:Xe,TwitterAuthProvider:$.W,Auth:Wt,AuthCredential:$.H,Error:Le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ue.registerVersion("@firebase/auth-compat","0.2.24")}(B.Z)},3793:(ln,at,R)=>{"use strict";R.d(at,{Gb:()=>c.Gb});var c=R(4557)},6317:(ln,at,R)=>{"use strict";R.d(at,{X:()=>B});var c=R(253);class B extends c.x{constructor(Le){super(),this._value=Le}get value(){return this.getValue()}_subscribe(Le){const Fe=super._subscribe(Le);return!Fe.closed&&Le.next(this._value),Fe}getValue(){const{hasError:Le,thrownError:Fe,_value:Ie}=this;if(Le)throw Fe;return this._throwIfClosed(),Ie}next(Le){super.next(this._value=Le)}}},833:(ln,at,R)=>{"use strict";R.d(at,{y:()=>Ce});var c=R(5463),B=R(7714),$=R(4585),Le=R(629),Fe=R(9057),Ie=R(2971),le=R(2309);class Ce{constructor(de){de&&(this._subscribe=de)}lift(de){const Be=new Ce;return Be.source=this,Be.operator=de,Be}subscribe(de,Be,Ge){const dt=function _e(xe){return xe&&xe instanceof c.Lv||function ue(xe){return xe&&(0,Ie.m)(xe.next)&&(0,Ie.m)(xe.error)&&(0,Ie.m)(xe.complete)}(xe)&&(0,B.Nn)(xe)}(de)?de:new c.Hp(de,Be,Ge);return(0,le.x)(()=>{const{operator:Me,source:be}=this;dt.add(Me?Me.call(dt,be):be?this._subscribe(dt):this._trySubscribe(dt))}),dt}_trySubscribe(de){try{return this._subscribe(de)}catch(Be){de.error(Be)}}forEach(de,Be){return new(Be=$e(Be))((Ge,dt)=>{const Me=new c.Hp({next:be=>{try{de(be)}catch(Ee){dt(Ee),Me.unsubscribe()}},error:dt,complete:Ge});this.subscribe(Me)})}_subscribe(de){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(de)}[$.L](){return this}pipe(...de){return(0,Le.U)(de)(this)}toPromise(de){return new(de=$e(de))((Be,Ge)=>{let dt;this.subscribe(Me=>dt=Me,Me=>Ge(Me),()=>Be(dt))})}}function $e(xe){var de;return null!==(de=null!=xe?xe:Fe.v.Promise)&&void 0!==de?de:Promise}Ce.create=xe=>new Ce(xe)},253:(ln,at,R)=>{"use strict";R.d(at,{x:()=>le});var c=R(833),B=R(7714);const Le=(0,R(7543).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=R(9663),Ie=R(2309);class le extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const _e=new Ce(this,this);return _e.operator=ue,_e}_throwIfClosed(){if(this.closed)throw new Le}next(ue){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(ue)}})}error(ue){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:_e}=this;for(;_e.length;)_e.shift().error(ue)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:_e,isStopped:xe,observers:de}=this;return _e||xe?B.Lc:(this.currentObservers=null,de.push(ue),new B.w0(()=>{this.currentObservers=null,(0,Fe.P)(de,ue)}))}_checkFinalizedStatuses(ue){const{hasError:_e,thrownError:xe,isStopped:de}=this;_e?ue.error(xe):de&&ue.complete()}asObservable(){const ue=new c.y;return ue.source=this,ue}}le.create=($e,ue)=>new Ce($e,ue);class Ce extends le{constructor(ue,_e){super(),this.destination=ue,this.source=_e}next(ue){var _e,xe;null===(xe=null===(_e=this.destination)||void 0===_e?void 0:_e.next)||void 0===xe||xe.call(_e,ue)}error(ue){var _e,xe;null===(xe=null===(_e=this.destination)||void 0===_e?void 0:_e.error)||void 0===xe||xe.call(_e,ue)}complete(){var ue,_e;null===(_e=null===(ue=this.destination)||void 0===ue?void 0:ue.complete)||void 0===_e||_e.call(ue)}_subscribe(ue){var _e,xe;return null!==(xe=null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(ue))&&void 0!==xe?xe:B.Lc}}},5463:(ln,at,R)=>{"use strict";R.d(at,{Hp:()=>dt,Lv:()=>xe});var c=R(2971),B=R(7714),$=R(9057),Le=R(4709),Fe=R(9635);const Ie=$e("C",void 0,void 0);function $e(mt,yt,et){return{kind:mt,value:yt,error:et}}var ue=R(3542),_e=R(2309);class xe extends B.w0{constructor(yt){super(),this.isStopped=!1,yt?(this.destination=yt,(0,B.Nn)(yt)&&yt.add(this)):this.destination=xt}static create(yt,et,nt){return new dt(yt,et,nt)}next(yt){this.isStopped?Ee(function Ce(mt){return $e("N",mt,void 0)}(yt),this):this._next(yt)}error(yt){this.isStopped?Ee(function le(mt){return $e("E",void 0,mt)}(yt),this):(this.isStopped=!0,this._error(yt))}complete(){this.isStopped?Ee(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(yt){this.destination.next(yt)}_error(yt){try{this.destination.error(yt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const de=Function.prototype.bind;function Be(mt,yt){return de.call(mt,yt)}class Ge{constructor(yt){this.partialObserver=yt}next(yt){const{partialObserver:et}=this;if(et.next)try{et.next(yt)}catch(nt){Me(nt)}}error(yt){const{partialObserver:et}=this;if(et.error)try{et.error(yt)}catch(nt){Me(nt)}else Me(yt)}complete(){const{partialObserver:yt}=this;if(yt.complete)try{yt.complete()}catch(et){Me(et)}}}class dt extends xe{constructor(yt,et,nt){let me;if(super(),(0,c.m)(yt)||!yt)me={next:null!=yt?yt:void 0,error:null!=et?et:void 0,complete:null!=nt?nt:void 0};else{let De;this&&$.v.useDeprecatedNextContext?(De=Object.create(yt),De.unsubscribe=()=>this.unsubscribe(),me={next:yt.next&&Be(yt.next,De),error:yt.error&&Be(yt.error,De),complete:yt.complete&&Be(yt.complete,De)}):me=yt}this.destination=new Ge(me)}}function Me(mt){$.v.useDeprecatedSynchronousErrorHandling?(0,_e.O)(mt):(0,Le.h)(mt)}function Ee(mt,yt){const{onStoppedNotification:et}=$.v;et&&ue.z.setTimeout(()=>et(mt,yt))}const xt={closed:!0,next:Fe.Z,error:function be(mt){throw mt},complete:Fe.Z}},7714:(ln,at,R)=>{"use strict";R.d(at,{Lc:()=>Ie,w0:()=>Fe,Nn:()=>le});var c=R(2971);const $=(0,R(7543).d)($e=>function(_e){$e(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((xe,de)=>`${de+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e});var Le=R(9663);class Fe{constructor(ue){this.initialTeardown=ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ue;if(!this.closed){this.closed=!0;const{_parentage:_e}=this;if(_e)if(this._parentage=null,Array.isArray(_e))for(const Be of _e)Be.remove(this);else _e.remove(this);const{initialTeardown:xe}=this;if((0,c.m)(xe))try{xe()}catch(Be){ue=Be instanceof $?Be.errors:[Be]}const{_finalizers:de}=this;if(de){this._finalizers=null;for(const Be of de)try{Ce(Be)}catch(Ge){ue=null!=ue?ue:[],Ge instanceof $?ue=[...ue,...Ge.errors]:ue.push(Ge)}}if(ue)throw new $(ue)}}add(ue){var _e;if(ue&&ue!==this)if(this.closed)Ce(ue);else{if(ue instanceof Fe){if(ue.closed||ue._hasParent(this))return;ue._addParent(this)}(this._finalizers=null!==(_e=this._finalizers)&&void 0!==_e?_e:[]).push(ue)}}_hasParent(ue){const{_parentage:_e}=this;return _e===ue||Array.isArray(_e)&&_e.includes(ue)}_addParent(ue){const{_parentage:_e}=this;this._parentage=Array.isArray(_e)?(_e.push(ue),_e):_e?[_e,ue]:ue}_removeParent(ue){const{_parentage:_e}=this;_e===ue?this._parentage=null:Array.isArray(_e)&&(0,Le.P)(_e,ue)}remove(ue){const{_finalizers:_e}=this;_e&&(0,Le.P)(_e,ue),ue instanceof Fe&&ue._removeParent(this)}}Fe.EMPTY=(()=>{const $e=new Fe;return $e.closed=!0,$e})();const Ie=Fe.EMPTY;function le($e){return $e instanceof Fe||$e&&"closed"in $e&&(0,c.m)($e.remove)&&(0,c.m)($e.add)&&(0,c.m)($e.unsubscribe)}function Ce($e){(0,c.m)($e)?$e():$e.unsubscribe()}},9057:(ln,at,R)=>{"use strict";R.d(at,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9319:(ln,at,R)=>{"use strict";R.d(at,{z:()=>Fe});var c=R(1308);var $=R(420),Le=R(3609);function Fe(...Ie){return function B(){return(0,c.J)(1)}()((0,Le.D)(Ie,(0,$.yG)(Ie)))}},591:(ln,at,R)=>{"use strict";R.d(at,{E:()=>B});const B=new(R(833).y)(Fe=>Fe.complete())},3609:(ln,at,R)=>{"use strict";R.d(at,{D:()=>yt});var c=R(4987),B=R(8728),$=R(4317);var Ie=R(833);var Ce=R(7321),$e=R(2971),ue=R(1817);function xe(et,nt){if(!et)throw new Error("Iterable cannot be null");return new Ie.y(me=>{(0,ue.f)(me,nt,()=>{const De=et[Symbol.asyncIterator]();(0,ue.f)(me,nt,()=>{De.next().then(st=>{st.done?me.complete():me.next(st.value)})},0,!0)})})}var de=R(1331),Be=R(9548),Ge=R(9806),dt=R(3433),Me=R(470),be=R(7785),Ee=R(181);function mt(et,nt){if(null!=et){if((0,de.c)(et))return function Le(et,nt){return(0,c.Xf)(et).pipe((0,$.R)(nt),(0,B.Q)(nt))}(et,nt);if((0,Ge.z)(et))return function le(et,nt){return new Ie.y(me=>{let De=0;return nt.schedule(function(){De===et.length?me.complete():(me.next(et[De++]),me.closed||this.schedule())})})}(et,nt);if((0,Be.t)(et))return function Fe(et,nt){return(0,c.Xf)(et).pipe((0,$.R)(nt),(0,B.Q)(nt))}(et,nt);if((0,Me.D)(et))return xe(et,nt);if((0,dt.T)(et))return function _e(et,nt){return new Ie.y(me=>{let De;return(0,ue.f)(me,nt,()=>{De=et[Ce.h](),(0,ue.f)(me,nt,()=>{let st,ie;try{({value:st,done:ie}=De.next())}catch(ee){return void me.error(ee)}ie?me.complete():me.next(st)},0,!0)}),()=>(0,$e.m)(null==De?void 0:De.return)&&De.return()})}(et,nt);if((0,Ee.L)(et))return function xt(et,nt){return xe((0,Ee.Q)(et),nt)}(et,nt)}throw(0,be.z)(et)}function yt(et,nt){return nt?mt(et,nt):(0,c.Xf)(et)}},3280:(ln,at,R)=>{"use strict";R.d(at,{R:()=>ue});var c=R(4987),B=R(833),$=R(9525),Le=R(9806),Fe=R(2971),Ie=R(8385);const le=["addListener","removeListener"],Ce=["addEventListener","removeEventListener"],$e=["on","off"];function ue(Ge,dt,Me,be){if((0,Fe.m)(Me)&&(be=Me,Me=void 0),be)return ue(Ge,dt,Me).pipe((0,Ie.Z)(be));const[Ee,xt]=function Be(Ge){return(0,Fe.m)(Ge.addEventListener)&&(0,Fe.m)(Ge.removeEventListener)}(Ge)?Ce.map(mt=>yt=>Ge[mt](dt,yt,Me)):function xe(Ge){return(0,Fe.m)(Ge.addListener)&&(0,Fe.m)(Ge.removeListener)}(Ge)?le.map(_e(Ge,dt)):function de(Ge){return(0,Fe.m)(Ge.on)&&(0,Fe.m)(Ge.off)}(Ge)?$e.map(_e(Ge,dt)):[];if(!Ee&&(0,Le.z)(Ge))return(0,$.z)(mt=>ue(mt,dt,Me))((0,c.Xf)(Ge));if(!Ee)throw new TypeError("Invalid event target");return new B.y(mt=>{const yt=(...et)=>mt.next(1<et.length?et:et[0]);return Ee(yt),()=>xt(yt)})}function _e(Ge,dt){return Me=>be=>Ge[Me](dt,be)}},4987:(ln,at,R)=>{"use strict";R.d(at,{Xf:()=>de});var c=R(4929),B=R(9806),$=R(9548),Le=R(833),Fe=R(1331),Ie=R(470),le=R(7785),Ce=R(3433),$e=R(181),ue=R(2971),_e=R(4709),xe=R(4585);function de(mt){if(mt instanceof Le.y)return mt;if(null!=mt){if((0,Fe.c)(mt))return function Be(mt){return new Le.y(yt=>{const et=mt[xe.L]();if((0,ue.m)(et.subscribe))return et.subscribe(yt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(mt);if((0,B.z)(mt))return function Ge(mt){return new Le.y(yt=>{for(let et=0;et<mt.length&&!yt.closed;et++)yt.next(mt[et]);yt.complete()})}(mt);if((0,$.t)(mt))return function dt(mt){return new Le.y(yt=>{mt.then(et=>{yt.closed||(yt.next(et),yt.complete())},et=>yt.error(et)).then(null,_e.h)})}(mt);if((0,Ie.D)(mt))return be(mt);if((0,Ce.T)(mt))return function Me(mt){return new Le.y(yt=>{for(const et of mt)if(yt.next(et),yt.closed)return;yt.complete()})}(mt);if((0,$e.L)(mt))return function Ee(mt){return be((0,$e.Q)(mt))}(mt)}throw(0,le.z)(mt)}function be(mt){return new Le.y(yt=>{(function xt(mt,yt){var et,nt,me,De;return(0,c.mG)(this,void 0,void 0,function*(){try{for(et=(0,c.KL)(mt);!(nt=yield et.next()).done;){const st=nt.value;if(yt.next(st),yt.closed)return}}catch(st){me={error:st}}finally{try{nt&&!nt.done&&(De=et.return)&&(yield De.call(et))}finally{if(me)throw me.error}}yt.complete()})})(mt,yt).catch(et=>yt.error(et))})}},6646:(ln,at,R)=>{"use strict";R.d(at,{T:()=>Ie});var c=R(1308),B=R(4987),$=R(591),Le=R(420),Fe=R(3609);function Ie(...le){const Ce=(0,Le.yG)(le),$e=(0,Le._6)(le,1/0),ue=le;return ue.length?1===ue.length?(0,B.Xf)(ue[0]):(0,c.J)($e)((0,Fe.D)(ue,Ce)):$.E}},745:(ln,at,R)=>{"use strict";R.d(at,{of:()=>$});var c=R(420),B=R(3609);function $(...Le){const Fe=(0,c.yG)(Le);return(0,B.D)(Le,Fe)}},3945:(ln,at,R)=>{"use strict";R.d(at,{x:()=>B});var c=R(5463);function B(Le,Fe,Ie,le,Ce){return new $(Le,Fe,Ie,le,Ce)}class $ extends c.Lv{constructor(Fe,Ie,le,Ce,$e,ue){super(Fe),this.onFinalize=$e,this.shouldUnsubscribe=ue,this._next=Ie?function(_e){try{Ie(_e)}catch(xe){Fe.error(xe)}}:super._next,this._error=Ce?function(_e){try{Ce(_e)}catch(xe){Fe.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(_e){Fe.error(_e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(Fe=this.onFinalize)||void 0===Fe||Fe.call(this))}}}},3158:(ln,at,R)=>{"use strict";R.d(at,{K:()=>Le});var c=R(4987),B=R(3945),$=R(1944);function Le(Fe){return(0,$.e)((Ie,le)=>{let ue,Ce=null,$e=!1;Ce=Ie.subscribe((0,B.x)(le,void 0,void 0,_e=>{ue=(0,c.Xf)(Fe(_e,Le(Fe)(Ie))),Ce?(Ce.unsubscribe(),Ce=null,ue.subscribe(le)):$e=!0})),$e&&(Ce.unsubscribe(),Ce=null,ue.subscribe(le))})}},3853:(ln,at,R)=>{"use strict";R.d(at,{b:()=>$});var c=R(9525),B=R(2971);function $(Le,Fe){return(0,B.m)(Fe)?(0,c.z)(Le,Fe,1):(0,c.z)(Le,1)}},1989:(ln,at,R)=>{"use strict";R.d(at,{b:()=>Le});var c=R(6936),B=R(1944),$=R(3945);function Le(Fe,Ie=c.z){return(0,B.e)((le,Ce)=>{let $e=null,ue=null,_e=null;const xe=()=>{if($e){$e.unsubscribe(),$e=null;const Be=ue;ue=null,Ce.next(Be)}};function de(){const Be=_e+Fe,Ge=Ie.now();if(Ge<Be)return $e=this.schedule(void 0,Be-Ge),void Ce.add($e);xe()}le.subscribe((0,$.x)(Ce,Be=>{ue=Be,_e=Ie.now(),$e||($e=Ie.schedule(de,Fe),Ce.add($e))},()=>{xe(),Ce.complete()},void 0,()=>{ue=$e=null}))})}},4744:(ln,at,R)=>{"use strict";R.d(at,{d:()=>$});var c=R(1944),B=R(3945);function $(Le){return(0,c.e)((Fe,Ie)=>{let le=!1;Fe.subscribe((0,B.x)(Ie,Ce=>{le=!0,Ie.next(Ce)},()=>{le||Ie.next(Le),Ie.complete()}))})}},8977:(ln,at,R)=>{"use strict";R.d(at,{x:()=>Le});var c=R(9173),B=R(1944),$=R(3945);function Le(Ie,le=c.y){return Ie=null!=Ie?Ie:Fe,(0,B.e)((Ce,$e)=>{let ue,_e=!0;Ce.subscribe((0,$.x)($e,xe=>{const de=le(xe);(_e||!Ie(ue,de))&&(_e=!1,ue=de,$e.next(xe))}))})}function Fe(Ie,le){return Ie===le}},116:(ln,at,R)=>{"use strict";R.d(at,{h:()=>$});var c=R(1944),B=R(3945);function $(Le,Fe){return(0,c.e)((Ie,le)=>{let Ce=0;Ie.subscribe((0,B.x)(le,$e=>Le.call(Fe,$e,Ce++)&&le.next($e)))})}},155:(ln,at,R)=>{"use strict";R.d(at,{P:()=>le});var c=R(4423),B=R(116),$=R(9295),Le=R(4744),Fe=R(7354),Ie=R(9173);function le(Ce,$e){const ue=arguments.length>=2;return _e=>_e.pipe(Ce?(0,B.h)((xe,de)=>Ce(xe,de,_e)):Ie.y,(0,$.q)(1),ue?(0,Le.d)($e):(0,Fe.T)(()=>new c.K))}},635:(ln,at,R)=>{"use strict";R.d(at,{U:()=>$});var c=R(1944),B=R(3945);function $(Le,Fe){return(0,c.e)((Ie,le)=>{let Ce=0;Ie.subscribe((0,B.x)(le,$e=>{le.next(Le.call(Fe,$e,Ce++))}))})}},1308:(ln,at,R)=>{"use strict";R.d(at,{J:()=>$});var c=R(9525),B=R(9173);function $(Le=1/0){return(0,c.z)(B.y,Le)}},9525:(ln,at,R)=>{"use strict";R.d(at,{z:()=>Ce});var c=R(635),B=R(4987),$=R(1944),Le=R(1817),Fe=R(3945);var le=R(2971);function Ce($e,ue,_e=1/0){return(0,le.m)(ue)?Ce((xe,de)=>(0,c.U)((Be,Ge)=>ue(xe,Be,de,Ge))((0,B.Xf)($e(xe,de))),_e):("number"==typeof ue&&(_e=ue),(0,$.e)((xe,de)=>function Ie($e,ue,_e,xe,de,Be,Ge,dt){const Me=[];let be=0,Ee=0,xt=!1;const mt=()=>{xt&&!Me.length&&!be&&ue.complete()},yt=nt=>be<xe?et(nt):Me.push(nt),et=nt=>{Be&&ue.next(nt),be++;let me=!1;(0,B.Xf)(_e(nt,Ee++)).subscribe((0,Fe.x)(ue,De=>{null==de||de(De),Be?yt(De):ue.next(De)},()=>{me=!0},void 0,()=>{if(me)try{for(be--;Me.length&&be<xe;){const De=Me.shift();Ge?(0,Le.f)(ue,Ge,()=>et(De)):et(De)}mt()}catch(De){ue.error(De)}}))};return $e.subscribe((0,Fe.x)(ue,yt,()=>{xt=!0,mt()})),()=>{null==dt||dt()}}(xe,de,$e,_e)))}},8728:(ln,at,R)=>{"use strict";R.d(at,{Q:()=>Le});var c=R(1817),B=R(1944),$=R(3945);function Le(Fe,Ie=0){return(0,B.e)((le,Ce)=>{le.subscribe((0,$.x)(Ce,$e=>(0,c.f)(Ce,Fe,()=>Ce.next($e),Ie),()=>(0,c.f)(Ce,Fe,()=>Ce.complete(),Ie),$e=>(0,c.f)(Ce,Fe,()=>Ce.error($e),Ie)))})}},4351:(ln,at,R)=>{"use strict";R.d(at,{R:()=>Le});var c=R(1944),B=R(3945);function $(Fe,Ie,le,Ce,$e){return(ue,_e)=>{let xe=le,de=Ie,Be=0;ue.subscribe((0,B.x)(_e,Ge=>{const dt=Be++;de=xe?Fe(de,Ge,dt):(xe=!0,Ge),Ce&&_e.next(de)},$e&&(()=>{xe&&_e.next(de),_e.complete()})))}}function Le(Fe,Ie){return(0,c.e)($(Fe,Ie,arguments.length>=2,!0))}},1203:(ln,at,R)=>{"use strict";R.d(at,{B:()=>Fe});var c=R(4987),B=R(253),$=R(5463),Le=R(1944);function Fe(le={}){const{connector:Ce=(()=>new B.x),resetOnError:$e=!0,resetOnComplete:ue=!0,resetOnRefCountZero:_e=!0}=le;return xe=>{let de,Be,Ge,dt=0,Me=!1,be=!1;const Ee=()=>{null==Be||Be.unsubscribe(),Be=void 0},xt=()=>{Ee(),de=Ge=void 0,Me=be=!1},mt=()=>{const yt=de;xt(),null==yt||yt.unsubscribe()};return(0,Le.e)((yt,et)=>{dt++,!be&&!Me&&Ee();const nt=Ge=null!=Ge?Ge:Ce();et.add(()=>{dt--,0===dt&&!be&&!Me&&(Be=Ie(mt,_e))}),nt.subscribe(et),!de&&dt>0&&(de=new $.Hp({next:me=>nt.next(me),error:me=>{be=!0,Ee(),Be=Ie(xt,$e,me),nt.error(me)},complete:()=>{Me=!0,Ee(),Be=Ie(xt,ue),nt.complete()}}),(0,c.Xf)(yt).subscribe(de))})(xe)}}function Ie(le,Ce,...$e){if(!0===Ce)return void le();if(!1===Ce)return;const ue=new $.Hp({next:()=>{ue.unsubscribe(),le()}});return Ce(...$e).subscribe(ue)}},513:(ln,at,R)=>{"use strict";R.d(at,{d:()=>Fe});var c=R(253),B=R(7654);class $ extends c.x{constructor(le=1/0,Ce=1/0,$e=B.l){super(),this._bufferSize=le,this._windowTime=Ce,this._timestampProvider=$e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ce===1/0,this._bufferSize=Math.max(1,le),this._windowTime=Math.max(1,Ce)}next(le){const{isStopped:Ce,_buffer:$e,_infiniteTimeWindow:ue,_timestampProvider:_e,_windowTime:xe}=this;Ce||($e.push(le),!ue&&$e.push(_e.now()+xe)),this._trimBuffer(),super.next(le)}_subscribe(le){this._throwIfClosed(),this._trimBuffer();const Ce=this._innerSubscribe(le),{_infiniteTimeWindow:$e,_buffer:ue}=this,_e=ue.slice();for(let xe=0;xe<_e.length&&!le.closed;xe+=$e?1:2)le.next(_e[xe]);return this._checkFinalizedStatuses(le),Ce}_trimBuffer(){const{_bufferSize:le,_timestampProvider:Ce,_buffer:$e,_infiniteTimeWindow:ue}=this,_e=(ue?1:2)*le;if(le<1/0&&_e<$e.length&&$e.splice(0,$e.length-_e),!ue){const xe=Ce.now();let de=0;for(let Be=1;Be<$e.length&&$e[Be]<=xe;Be+=2)de=Be;de&&$e.splice(0,de+1)}}}var Le=R(1203);function Fe(Ie,le,Ce){let $e,ue=!1;return Ie&&"object"==typeof Ie?({bufferSize:$e=1/0,windowTime:le=1/0,refCount:ue=!1,scheduler:Ce}=Ie):$e=null!=Ie?Ie:1/0,(0,Le.B)({connector:()=>new $($e,le,Ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ue})}},4874:(ln,at,R)=>{"use strict";R.d(at,{O:()=>Le});var c=R(9319),B=R(420),$=R(1944);function Le(...Fe){const Ie=(0,B.yG)(Fe);return(0,$.e)((le,Ce)=>{(Ie?(0,c.z)(Fe,le,Ie):(0,c.z)(Fe,le)).subscribe(Ce)})}},4317:(ln,at,R)=>{"use strict";R.d(at,{R:()=>B});var c=R(1944);function B($,Le=0){return(0,c.e)((Fe,Ie)=>{Ie.add($.schedule(()=>Fe.subscribe(Ie),Le))})}},2673:(ln,at,R)=>{"use strict";R.d(at,{w:()=>Le});var c=R(4987),B=R(1944),$=R(3945);function Le(Fe,Ie){return(0,B.e)((le,Ce)=>{let $e=null,ue=0,_e=!1;const xe=()=>_e&&!$e&&Ce.complete();le.subscribe((0,$.x)(Ce,de=>{null==$e||$e.unsubscribe();let Be=0;const Ge=ue++;(0,c.Xf)(Fe(de,Ge)).subscribe($e=(0,$.x)(Ce,dt=>Ce.next(Ie?Ie(de,dt,Ge,Be++):dt),()=>{$e=null,xe()}))},()=>{_e=!0,xe()}))})}},5720:(ln,at,R)=>{"use strict";R.d(at,{c:()=>$});var c=R(2673),B=R(2971);function $(Le,Fe){return(0,B.m)(Fe)?(0,c.w)(()=>Le,Fe):(0,c.w)(()=>Le)}},9295:(ln,at,R)=>{"use strict";R.d(at,{q:()=>Le});var c=R(591),B=R(1944),$=R(3945);function Le(Fe){return Fe<=0?()=>c.E:(0,B.e)((Ie,le)=>{let Ce=0;Ie.subscribe((0,$.x)(le,$e=>{++Ce<=Fe&&(le.next($e),Fe<=Ce&&le.complete())}))})}},9337:(ln,at,R)=>{"use strict";R.d(at,{b:()=>Fe});var c=R(2971),B=R(1944),$=R(3945),Le=R(9173);function Fe(Ie,le,Ce){const $e=(0,c.m)(Ie)||le||Ce?{next:Ie,error:le,complete:Ce}:Ie;return $e?(0,B.e)((ue,_e)=>{var xe;null===(xe=$e.subscribe)||void 0===xe||xe.call($e);let de=!0;ue.subscribe((0,$.x)(_e,Be=>{var Ge;null===(Ge=$e.next)||void 0===Ge||Ge.call($e,Be),_e.next(Be)},()=>{var Be;de=!1,null===(Be=$e.complete)||void 0===Be||Be.call($e),_e.complete()},Be=>{var Ge;de=!1,null===(Ge=$e.error)||void 0===Ge||Ge.call($e,Be),_e.error(Be)},()=>{var Be,Ge;de&&(null===(Be=$e.unsubscribe)||void 0===Be||Be.call($e)),null===(Ge=$e.finalize)||void 0===Ge||Ge.call($e)}))}):Le.y}},7354:(ln,at,R)=>{"use strict";R.d(at,{T:()=>Le});var c=R(4423),B=R(1944),$=R(3945);function Le(Ie=Fe){return(0,B.e)((le,Ce)=>{let $e=!1;le.subscribe((0,$.x)(Ce,ue=>{$e=!0,Ce.next(ue)},()=>$e?Ce.complete():Ce.error(Ie())))})}function Fe(){return new c.K}},5417:(ln,at,R)=>{"use strict";R.d(at,{o:()=>Fe});var c=R(7714);class B extends c.w0{constructor(le,Ce){super()}schedule(le,Ce=0){return this}}const $={setInterval(Ie,le,...Ce){const{delegate:$e}=$;return null!=$e&&$e.setInterval?$e.setInterval(Ie,le,...Ce):setInterval(Ie,le,...Ce)},clearInterval(Ie){const{delegate:le}=$;return((null==le?void 0:le.clearInterval)||clearInterval)(Ie)},delegate:void 0};var Le=R(9663);class Fe extends B{constructor(le,Ce){super(le,Ce),this.scheduler=le,this.work=Ce,this.pending=!1}schedule(le,Ce=0){var $e;if(this.closed)return this;this.state=le;const ue=this.id,_e=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(_e,ue,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(_e,this.id,Ce),this}requestAsyncId(le,Ce,$e=0){return $.setInterval(le.flush.bind(le,this),$e)}recycleAsyncId(le,Ce,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return Ce;null!=Ce&&$.clearInterval(Ce)}execute(le,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(le,Ce);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,Ce){let ue,$e=!1;try{this.work(le)}catch(_e){$e=!0,ue=_e||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),ue}unsubscribe(){if(!this.closed){const{id:le,scheduler:Ce}=this,{actions:$e}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Le.P)($e,this),null!=le&&(this.id=this.recycleAsyncId(Ce,le,null)),this.delay=null,super.unsubscribe()}}}},1010:(ln,at,R)=>{"use strict";R.d(at,{v:()=>$});var c=R(7654);class B{constructor(Fe,Ie=B.now){this.schedulerActionCtor=Fe,this.now=Ie}schedule(Fe,Ie=0,le){return new this.schedulerActionCtor(this,Fe).schedule(le,Ie)}}B.now=c.l.now;class $ extends B{constructor(Fe,Ie=B.now){super(Fe,Ie),this.actions=[],this._active=!1}flush(Fe){const{actions:Ie}=this;if(this._active)return void Ie.push(Fe);let le;this._active=!0;do{if(le=Fe.execute(Fe.state,Fe.delay))break}while(Fe=Ie.shift());if(this._active=!1,le){for(;Fe=Ie.shift();)Fe.unsubscribe();throw le}}}},6936:(ln,at,R)=>{"use strict";R.d(at,{P:()=>Le,z:()=>$});var c=R(5417);const $=new(R(1010).v)(c.o),Le=$},7654:(ln,at,R)=>{"use strict";R.d(at,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3542:(ln,at,R)=>{"use strict";R.d(at,{z:()=>c});const c={setTimeout(B,$,...Le){const{delegate:Fe}=c;return null!=Fe&&Fe.setTimeout?Fe.setTimeout(B,$,...Le):setTimeout(B,$,...Le)},clearTimeout(B){const{delegate:$}=c;return((null==$?void 0:$.clearTimeout)||clearTimeout)(B)},delegate:void 0}},7321:(ln,at,R)=>{"use strict";R.d(at,{h:()=>B});const B=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4585:(ln,at,R)=>{"use strict";R.d(at,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},4423:(ln,at,R)=>{"use strict";R.d(at,{K:()=>B});const B=(0,R(7543).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},420:(ln,at,R)=>{"use strict";R.d(at,{_6:()=>Ie,jO:()=>Le,yG:()=>Fe});var c=R(2971),B=R(9867);function $(le){return le[le.length-1]}function Le(le){return(0,c.m)($(le))?le.pop():void 0}function Fe(le){return(0,B.K)($(le))?le.pop():void 0}function Ie(le,Ce){return"number"==typeof $(le)?le.pop():Ce}},5756:(ln,at,R)=>{"use strict";R.d(at,{D:()=>Fe});const{isArray:c}=Array,{getPrototypeOf:B,prototype:$,keys:Le}=Object;function Fe(le){if(1===le.length){const Ce=le[0];if(c(Ce))return{args:Ce,keys:null};if(function Ie(le){return le&&"object"==typeof le&&B(le)===$}(Ce)){const $e=Le(Ce);return{args:$e.map(ue=>Ce[ue]),keys:$e}}}return{args:le,keys:null}}},9663:(ln,at,R)=>{"use strict";function c(B,$){if(B){const Le=B.indexOf($);0<=Le&&B.splice(Le,1)}}R.d(at,{P:()=>c})},7543:(ln,at,R)=>{"use strict";function c(B){const Le=B(Fe=>{Error.call(Fe),Fe.stack=(new Error).stack});return Le.prototype=Object.create(Error.prototype),Le.prototype.constructor=Le,Le}R.d(at,{d:()=>c})},1054:(ln,at,R)=>{"use strict";function c(B,$){return B.reduce((Le,Fe,Ie)=>(Le[Fe]=$[Ie],Le),{})}R.d(at,{n:()=>c})},2309:(ln,at,R)=>{"use strict";R.d(at,{O:()=>Le,x:()=>$});var c=R(9057);let B=null;function $(Fe){if(c.v.useDeprecatedSynchronousErrorHandling){const Ie=!B;if(Ie&&(B={errorThrown:!1,error:null}),Fe(),Ie){const{errorThrown:le,error:Ce}=B;if(B=null,le)throw Ce}}else Fe()}function Le(Fe){c.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=Fe)}},1817:(ln,at,R)=>{"use strict";function c(B,$,Le,Fe=0,Ie=!1){const le=$.schedule(function(){Le(),Ie?B.add(this.schedule(null,Fe)):this.unsubscribe()},Fe);if(B.add(le),!Ie)return le}R.d(at,{f:()=>c})},9173:(ln,at,R)=>{"use strict";function c(B){return B}R.d(at,{y:()=>c})},9806:(ln,at,R)=>{"use strict";R.d(at,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},470:(ln,at,R)=>{"use strict";R.d(at,{D:()=>B});var c=R(2971);function B($){return Symbol.asyncIterator&&(0,c.m)(null==$?void 0:$[Symbol.asyncIterator])}},2971:(ln,at,R)=>{"use strict";function c(B){return"function"==typeof B}R.d(at,{m:()=>c})},1331:(ln,at,R)=>{"use strict";R.d(at,{c:()=>$});var c=R(4585),B=R(2971);function $(Le){return(0,B.m)(Le[c.L])}},3433:(ln,at,R)=>{"use strict";R.d(at,{T:()=>$});var c=R(7321),B=R(2971);function $(Le){return(0,B.m)(null==Le?void 0:Le[c.h])}},9548:(ln,at,R)=>{"use strict";R.d(at,{t:()=>B});var c=R(2971);function B($){return(0,c.m)(null==$?void 0:$.then)}},181:(ln,at,R)=>{"use strict";R.d(at,{L:()=>Le,Q:()=>$});var c=R(4929),B=R(2971);function $(Fe){return(0,c.FC)(this,arguments,function*(){const le=Fe.getReader();try{for(;;){const{value:Ce,done:$e}=yield(0,c.qq)(le.read());if($e)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Ce)}}finally{le.releaseLock()}})}function Le(Fe){return(0,B.m)(null==Fe?void 0:Fe.getReader)}},9867:(ln,at,R)=>{"use strict";R.d(at,{K:()=>B});var c=R(2971);function B($){return $&&(0,c.m)($.schedule)}},1944:(ln,at,R)=>{"use strict";R.d(at,{A:()=>B,e:()=>$});var c=R(2971);function B(Le){return(0,c.m)(null==Le?void 0:Le.lift)}function $(Le){return Fe=>{if(B(Fe))return Fe.lift(function(Ie){try{return Le(Ie,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},8385:(ln,at,R)=>{"use strict";R.d(at,{Z:()=>Le});var c=R(635);const{isArray:B}=Array;function Le(Fe){return(0,c.U)(Ie=>function $(Fe,Ie){return B(Ie)?Fe(...Ie):Fe(Ie)}(Fe,Ie))}},9635:(ln,at,R)=>{"use strict";function c(){}R.d(at,{Z:()=>c})},629:(ln,at,R)=>{"use strict";R.d(at,{U:()=>$,z:()=>B});var c=R(9173);function B(...Le){return $(Le)}function $(Le){return 0===Le.length?c.y:1===Le.length?Le[0]:function(Ie){return Le.reduce((le,Ce)=>Ce(le),Ie)}}},4709:(ln,at,R)=>{"use strict";R.d(at,{h:()=>$});var c=R(9057),B=R(3542);function $(Le){B.z.setTimeout(()=>{const{onUnhandledError:Fe}=c.v;if(!Fe)throw Le;Fe(Le)})}},7785:(ln,at,R)=>{"use strict";function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(at,{z:()=>c})},863:(ln,at,R)=>{var c={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,7825,7950],"./ion-datetime_3.entry.js":[9689,7825,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function B($){if(!R.o(c,$))return Promise.resolve().then(()=>{var Ie=new Error("Cannot find module '"+$+"'");throw Ie.code="MODULE_NOT_FOUND",Ie});var Le=c[$],Fe=Le[0];return Promise.all(Le.slice(1).map(R.e)).then(()=>R(Fe))}B.keys=()=>Object.keys(c),B.id=863,ln.exports=B},4929:(ln,at,R)=>{"use strict";R.d(at,{FC:()=>be,KL:()=>xt,ZT:()=>B,_T:()=>Le,gn:()=>Fe,mG:()=>Ce,qq:()=>Me});var c=function(ie,ee){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,J){oe.__proto__=J}||function(oe,J){for(var ge in J)Object.prototype.hasOwnProperty.call(J,ge)&&(oe[ge]=J[ge])})(ie,ee)};function B(ie,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function oe(){this.constructor=ie}c(ie,ee),ie.prototype=null===ee?Object.create(ee):(oe.prototype=ee.prototype,new oe)}function Le(ie,ee){var oe={};for(var J in ie)Object.prototype.hasOwnProperty.call(ie,J)&&ee.indexOf(J)<0&&(oe[J]=ie[J]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var ge=0;for(J=Object.getOwnPropertySymbols(ie);ge<J.length;ge++)ee.indexOf(J[ge])<0&&Object.prototype.propertyIsEnumerable.call(ie,J[ge])&&(oe[J[ge]]=ie[J[ge]])}return oe}function Fe(ie,ee,oe,J){var Ae,ge=arguments.length,Ne=ge<3?ee:null===J?J=Object.getOwnPropertyDescriptor(ee,oe):J;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(ie,ee,oe,J);else for(var Ve=ie.length-1;Ve>=0;Ve--)(Ae=ie[Ve])&&(Ne=(ge<3?Ae(Ne):ge>3?Ae(ee,oe,Ne):Ae(ee,oe))||Ne);return ge>3&&Ne&&Object.defineProperty(ee,oe,Ne),Ne}function Ce(ie,ee,oe,J){return new(oe||(oe=Promise))(function(Ne,Ae){function Ve(Ye){try{Se(J.next(Ye))}catch(it){Ae(it)}}function qe(Ye){try{Se(J.throw(Ye))}catch(it){Ae(it)}}function Se(Ye){Ye.done?Ne(Ye.value):function ge(Ne){return Ne instanceof oe?Ne:new oe(function(Ae){Ae(Ne)})}(Ye.value).then(Ve,qe)}Se((J=J.apply(ie,ee||[])).next())})}Object.create;function xe(ie){var ee="function"==typeof Symbol&&Symbol.iterator,oe=ee&&ie[ee],J=0;if(oe)return oe.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&J>=ie.length&&(ie=void 0),{value:ie&&ie[J++],done:!ie}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}function Me(ie){return this instanceof Me?(this.v=ie,this):new Me(ie)}function be(ie,ee,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,J=oe.apply(ie,ee||[]),Ne=[];return ge={},Ae("next"),Ae("throw"),Ae("return"),ge[Symbol.asyncIterator]=function(){return this},ge;function Ae(lt){J[lt]&&(ge[lt]=function(St){return new Promise(function(Ht,qt){Ne.push([lt,St,Ht,qt])>1||Ve(lt,St)})})}function Ve(lt,St){try{!function qe(lt){lt.value instanceof Me?Promise.resolve(lt.value.v).then(Se,Ye):it(Ne[0][2],lt)}(J[lt](St))}catch(Ht){it(Ne[0][3],Ht)}}function Se(lt){Ve("next",lt)}function Ye(lt){Ve("throw",lt)}function it(lt,St){lt(St),Ne.shift(),Ne.length&&Ve(Ne[0][0],Ne[0][1])}}function xt(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ee=ie[Symbol.asyncIterator];return ee?ee.call(ie):(ie=xe(ie),oe={},J("next"),J("throw"),J("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function J(Ne){oe[Ne]=ie[Ne]&&function(Ae){return new Promise(function(Ve,qe){(function ge(Ne,Ae,Ve,qe){Promise.resolve(qe).then(function(Se){Ne({value:Se,done:Ve})},Ae)})(Ve,qe,(Ae=ie[Ne](Ae)).done,Ae.value)})}}}Object.create},6362:(ln,at,R)=>{"use strict";R.d(at,{Do:()=>xt,EM:()=>Ze,HT:()=>Fe,JF:()=>Cn,K0:()=>le,Mx:()=>cr,O5:()=>Re,Ov:()=>Ti,PM:()=>fs,S$:()=>Me,V_:()=>ue,Ye:()=>mt,b0:()=>Ee,bD:()=>hs,ez:()=>ii,mk:()=>Nr,q:()=>$,sg:()=>li,tP:()=>or,w_:()=>Ie});var c=R(3184);let B=null;function $(){return B}function Fe(V){B||(B=V)}class Ie{}const le=new c.OlP("DocumentToken");class Ce{historyGo(T){throw new Error("Not implemented")}}Ce.\u0275fac=function(T){return new(T||Ce)},Ce.\u0275prov=c.Yz7({token:Ce,factory:function(){return function $e(){return(0,c.LFG)(_e)}()},providedIn:"platform"});const ue=new c.OlP("Location Initialized");class _e extends Ce{constructor(T){super(),this._doc=T,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(T){const re=$().getGlobalEventTarget(this._doc,"window");return re.addEventListener("popstate",T,!1),()=>re.removeEventListener("popstate",T)}onHashChange(T){const re=$().getGlobalEventTarget(this._doc,"window");return re.addEventListener("hashchange",T,!1),()=>re.removeEventListener("hashchange",T)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(T){this.location.pathname=T}pushState(T,re,Pe){xe()?this._history.pushState(T,re,Pe):this.location.hash=Pe}replaceState(T,re,Pe){xe()?this._history.replaceState(T,re,Pe):this.location.hash=Pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}function xe(){return!!window.history.pushState}function Be(V,T){if(0==V.length)return T;if(0==T.length)return V;let re=0;return V.endsWith("/")&&re++,T.startsWith("/")&&re++,2==re?V+T.substring(1):1==re?V+T:V+"/"+T}function Ge(V){const T=V.match(/#|\?|$/),re=T&&T.index||V.length,Pe=re-("/"===V[re-1]?1:0);return V.slice(0,Pe)+V.slice(re)}function dt(V){return V&&"?"!==V[0]?"?"+V:V}_e.\u0275fac=function(T){return new(T||_e)(c.LFG(le))},_e.\u0275prov=c.Yz7({token:_e,factory:function(){return function de(){return new _e((0,c.LFG)(le))}()},providedIn:"platform"});class Me{historyGo(T){throw new Error("Not implemented")}}Me.\u0275fac=function(T){return new(T||Me)},Me.\u0275prov=c.Yz7({token:Me,factory:function(){return(0,c.f3M)(Ee)},providedIn:"root"});const be=new c.OlP("appBaseHref");class Ee extends Me{constructor(T,re){var Pe,Tt,Xt;super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=null!==(Xt=null!==(Pe=null!=re?re:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Pe?Pe:null===(Tt=(0,c.f3M)(le).location)||void 0===Tt?void 0:Tt.origin)&&void 0!==Xt?Xt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return Be(this._baseHref,T)}path(T=!1){const re=this._platformLocation.pathname+dt(this._platformLocation.search),Pe=this._platformLocation.hash;return Pe&&T?`${re}${Pe}`:re}pushState(T,re,Pe,Tt){const Xt=this.prepareExternalUrl(Pe+dt(Tt));this._platformLocation.pushState(T,re,Xt)}replaceState(T,re,Pe,Tt){const Xt=this.prepareExternalUrl(Pe+dt(Tt));this._platformLocation.replaceState(T,re,Xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){var re,Pe;null===(Pe=(re=this._platformLocation).historyGo)||void 0===Pe||Pe.call(re,T)}}Ee.\u0275fac=function(T){return new(T||Ee)(c.LFG(Ce),c.LFG(be,8))},Ee.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"});class xt extends Me{constructor(T,re){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=re&&(this._baseHref=re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let re=this._platformLocation.hash;return null==re&&(re="#"),re.length>0?re.substring(1):re}prepareExternalUrl(T){const re=Be(this._baseHref,T);return re.length>0?"#"+re:re}pushState(T,re,Pe,Tt){let Xt=this.prepareExternalUrl(Pe+dt(Tt));0==Xt.length&&(Xt=this._platformLocation.pathname),this._platformLocation.pushState(T,re,Xt)}replaceState(T,re,Pe,Tt){let Xt=this.prepareExternalUrl(Pe+dt(Tt));0==Xt.length&&(Xt=this._platformLocation.pathname),this._platformLocation.replaceState(T,re,Xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){var re,Pe;null===(Pe=(re=this._platformLocation).historyGo)||void 0===Pe||Pe.call(re,T)}}xt.\u0275fac=function(T){return new(T||xt)(c.LFG(Ce),c.LFG(be,8))},xt.\u0275prov=c.Yz7({token:xt,factory:xt.\u0275fac});class mt{constructor(T){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const re=this._locationStrategy.getBaseHref();this._baseHref=Ge(nt(re)),this._locationStrategy.onPopState(Pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pe.state,type:Pe.type})})}ngOnDestroy(){var T;null===(T=this._urlChangeSubscription)||void 0===T||T.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,re=""){return this.path()==this.normalize(T+dt(re))}normalize(T){return mt.stripTrailingSlash(function et(V,T){return V&&T.startsWith(V)?T.substring(V.length):T}(this._baseHref,nt(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,re="",Pe=null){this._locationStrategy.pushState(Pe,"",T,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+dt(re)),Pe)}replaceState(T,re="",Pe=null){this._locationStrategy.replaceState(Pe,"",T,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+dt(re)),Pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){var re,Pe;null===(Pe=(re=this._locationStrategy).historyGo)||void 0===Pe||Pe.call(re,T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(re=>{this._notifyUrlChangeListeners(re.url,re.state)})),()=>{var re;const Pe=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(Pe,1),0===this._urlChangeListeners.length&&(null===(re=this._urlChangeSubscription)||void 0===re||re.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",re){this._urlChangeListeners.forEach(Pe=>Pe(T,re))}subscribe(T,re,Pe){return this._subject.subscribe({next:T,error:re,complete:Pe})}}function nt(V){return V.replace(/\/index.html$/,"")}mt.normalizeQueryParams=dt,mt.joinWithSlash=Be,mt.stripTrailingSlash=Ge,mt.\u0275fac=function(T){return new(T||mt)(c.LFG(Me))},mt.\u0275prov=c.Yz7({token:mt,factory:function(){return function yt(){return new mt((0,c.LFG)(Me))}()},providedIn:"root"});const me={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var De,V,st,ie,ee,oe,J,ge;function lt(V,T){return bt((0,c.cg1)(V)[c.wAp.DateFormat],T)}function St(V,T){return bt((0,c.cg1)(V)[c.wAp.TimeFormat],T)}function Ht(V,T){return bt((0,c.cg1)(V)[c.wAp.DateTimeFormat],T)}function qt(V,T){const re=(0,c.cg1)(V),Pe=re[c.wAp.NumberSymbols][T];if(void 0===Pe){if(T===J.CurrencyDecimal)return re[c.wAp.NumberSymbols][J.Decimal];if(T===J.CurrencyGroup)return re[c.wAp.NumberSymbols][J.Group]}return Pe}function an(V,T){return(0,c.cg1)(V)[c.wAp.NumberFormats][T]}(V=De||(De={}))[V.Decimal=0]="Decimal",V[V.Percent=1]="Percent",V[V.Currency=2]="Currency",V[V.Scientific=3]="Scientific",function(V){V[V.Zero=0]="Zero",V[V.One=1]="One",V[V.Two=2]="Two",V[V.Few=3]="Few",V[V.Many=4]="Many",V[V.Other=5]="Other"}(st||(st={})),function(V){V[V.Format=0]="Format",V[V.Standalone=1]="Standalone"}(ie||(ie={})),function(V){V[V.Narrow=0]="Narrow",V[V.Abbreviated=1]="Abbreviated",V[V.Wide=2]="Wide",V[V.Short=3]="Short"}(ee||(ee={})),function(V){V[V.Short=0]="Short",V[V.Medium=1]="Medium",V[V.Long=2]="Long",V[V.Full=3]="Full"}(oe||(oe={})),function(V){V[V.Decimal=0]="Decimal",V[V.Group=1]="Group",V[V.List=2]="List",V[V.PercentSign=3]="PercentSign",V[V.PlusSign=4]="PlusSign",V[V.MinusSign=5]="MinusSign",V[V.Exponential=6]="Exponential",V[V.SuperscriptingExponent=7]="SuperscriptingExponent",V[V.PerMille=8]="PerMille",V[V.Infinity=9]="Infinity",V[V.NaN=10]="NaN",V[V.TimeSeparator=11]="TimeSeparator",V[V.CurrencyDecimal=12]="CurrencyDecimal",V[V.CurrencyGroup=13]="CurrencyGroup"}(J||(J={})),function(V){V[V.Sunday=0]="Sunday",V[V.Monday=1]="Monday",V[V.Tuesday=2]="Tuesday",V[V.Wednesday=3]="Wednesday",V[V.Thursday=4]="Thursday",V[V.Friday=5]="Friday",V[V.Saturday=6]="Saturday"}(ge||(ge={}));const Mn=c.kL8;function z(V){if(!V[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${V[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bt(V,T){for(let re=T;re>-1;re--)if(void 0!==V[re])return V[re];throw new Error("Locale data API: locale data undefined")}function rn(V){const[T,re]=V.split(":");return{hours:+T,minutes:+re}}function Et(V,T,re="en"){const Pe=function jn(V){return(0,c.cg1)(V)[c.wAp.Currencies]}(re)[V]||me[V]||[],Tt=Pe[1];return"narrow"===T&&"string"==typeof Tt?Tt:Pe[0]||V}const Gn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hr={},Wn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var En,$n,bn;function Bn(V,T,re,Pe){let Tt=function je(V){if(on(V))return V;if("number"==typeof V&&!isNaN(V))return new Date(V);if("string"==typeof V){if(V=V.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(V)){const[Tt,Xt=1,On=1]=V.split("-").map(wr=>+wr);return yr(Tt,Xt-1,On)}const re=parseFloat(V);if(!isNaN(V-re))return new Date(re);let Pe;if(Pe=V.match(Gn))return function Nt(V){const T=new Date(0);let re=0,Pe=0;const Tt=V[8]?T.setUTCFullYear:T.setFullYear,Xt=V[8]?T.setUTCHours:T.setHours;V[9]&&(re=Number(V[9]+V[10]),Pe=Number(V[9]+V[11])),Tt.call(T,Number(V[1]),Number(V[2])-1,Number(V[3]));const On=Number(V[4]||0)-re,wr=Number(V[5]||0)-Pe,di=Number(V[6]||0),_i=Math.floor(1e3*parseFloat("0."+(V[7]||0)));return Xt.call(T,On,wr,di,_i),T}(Pe)}const T=new Date(V);if(!on(T))throw new Error(`Unable to convert "${V}" into a date`);return T}(V);T=_r(re,T)||T;let wr,On=[];for(;T;){if(wr=Wn.exec(T),!wr){On.push(T);break}{On=On.concat(wr.slice(1));const yi=On.pop();if(!yi)break;T=yi}}let di=Tt.getTimezoneOffset();Pe&&(di=tt(Pe,di),Tt=function Y(V,T,re){const Pe=re?-1:1,Tt=V.getTimezoneOffset(),Xt=tt(T,Tt);return function Ue(V,T){return(V=new Date(V.getTime())).setMinutes(V.getMinutes()+T),V}(V,Pe*(Xt-Tt))}(Tt,Pe,!0));let _i="";return On.forEach(yi=>{const Gr=function Te(V){if(Xe[V])return Xe[V];let T;switch(V){case"G":case"GG":case"GGG":T=gr(bn.Eras,ee.Abbreviated);break;case"GGGG":T=gr(bn.Eras,ee.Wide);break;case"GGGGG":T=gr(bn.Eras,ee.Narrow);break;case"y":T=sr($n.FullYear,1,0,!1,!0);break;case"yy":T=sr($n.FullYear,2,0,!0,!0);break;case"yyy":T=sr($n.FullYear,3,0,!1,!0);break;case"yyyy":T=sr($n.FullYear,4,0,!1,!0);break;case"Y":T=lr(1);break;case"YY":T=lr(2,!0);break;case"YYY":T=lr(3);break;case"YYYY":T=lr(4);break;case"M":case"L":T=sr($n.Month,1,1);break;case"MM":case"LL":T=sr($n.Month,2,1);break;case"MMM":T=gr(bn.Months,ee.Abbreviated);break;case"MMMM":T=gr(bn.Months,ee.Wide);break;case"MMMMM":T=gr(bn.Months,ee.Narrow);break;case"LLL":T=gr(bn.Months,ee.Abbreviated,ie.Standalone);break;case"LLLL":T=gr(bn.Months,ee.Wide,ie.Standalone);break;case"LLLLL":T=gr(bn.Months,ee.Narrow,ie.Standalone);break;case"w":T=Kn(1);break;case"ww":T=Kn(2);break;case"W":T=Kn(1,!0);break;case"d":T=sr($n.Date,1);break;case"dd":T=sr($n.Date,2);break;case"c":case"cc":T=sr($n.Day,1);break;case"ccc":T=gr(bn.Days,ee.Abbreviated,ie.Standalone);break;case"cccc":T=gr(bn.Days,ee.Wide,ie.Standalone);break;case"ccccc":T=gr(bn.Days,ee.Narrow,ie.Standalone);break;case"cccccc":T=gr(bn.Days,ee.Short,ie.Standalone);break;case"E":case"EE":case"EEE":T=gr(bn.Days,ee.Abbreviated);break;case"EEEE":T=gr(bn.Days,ee.Wide);break;case"EEEEE":T=gr(bn.Days,ee.Narrow);break;case"EEEEEE":T=gr(bn.Days,ee.Short);break;case"a":case"aa":case"aaa":T=gr(bn.DayPeriods,ee.Abbreviated);break;case"aaaa":T=gr(bn.DayPeriods,ee.Wide);break;case"aaaaa":T=gr(bn.DayPeriods,ee.Narrow);break;case"b":case"bb":case"bbb":T=gr(bn.DayPeriods,ee.Abbreviated,ie.Standalone,!0);break;case"bbbb":T=gr(bn.DayPeriods,ee.Wide,ie.Standalone,!0);break;case"bbbbb":T=gr(bn.DayPeriods,ee.Narrow,ie.Standalone,!0);break;case"B":case"BB":case"BBB":T=gr(bn.DayPeriods,ee.Abbreviated,ie.Format,!0);break;case"BBBB":T=gr(bn.DayPeriods,ee.Wide,ie.Format,!0);break;case"BBBBB":T=gr(bn.DayPeriods,ee.Narrow,ie.Format,!0);break;case"h":T=sr($n.Hours,1,-12);break;case"hh":T=sr($n.Hours,2,-12);break;case"H":T=sr($n.Hours,1);break;case"HH":T=sr($n.Hours,2);break;case"m":T=sr($n.Minutes,1);break;case"mm":T=sr($n.Minutes,2);break;case"s":T=sr($n.Seconds,1);break;case"ss":T=sr($n.Seconds,2);break;case"S":T=sr($n.FractionalSeconds,1);break;case"SS":T=sr($n.FractionalSeconds,2);break;case"SSS":T=sr($n.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":T=Un(En.Short);break;case"ZZZZZ":T=Un(En.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":T=Un(En.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":T=Un(En.Long);break;default:return null}return Xe[V]=T,T}(yi);_i+=Gr?Gr(Tt,re,di):"''"===yi?"'":yi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_i}function yr(V,T,re){const Pe=new Date(0);return Pe.setFullYear(V,T,re),Pe.setHours(0,0,0),Pe}function _r(V,T){const re=function Ne(V){return(0,c.cg1)(V)[c.wAp.LocaleId]}(V);if(hr[re]=hr[re]||{},hr[re][T])return hr[re][T];let Pe="";switch(T){case"shortDate":Pe=lt(V,oe.Short);break;case"mediumDate":Pe=lt(V,oe.Medium);break;case"longDate":Pe=lt(V,oe.Long);break;case"fullDate":Pe=lt(V,oe.Full);break;case"shortTime":Pe=St(V,oe.Short);break;case"mediumTime":Pe=St(V,oe.Medium);break;case"longTime":Pe=St(V,oe.Long);break;case"fullTime":Pe=St(V,oe.Full);break;case"short":const Tt=_r(V,"shortTime"),Xt=_r(V,"shortDate");Pe=pr(Ht(V,oe.Short),[Tt,Xt]);break;case"medium":const On=_r(V,"mediumTime"),wr=_r(V,"mediumDate");Pe=pr(Ht(V,oe.Medium),[On,wr]);break;case"long":const di=_r(V,"longTime"),_i=_r(V,"longDate");Pe=pr(Ht(V,oe.Long),[di,_i]);break;case"full":const yi=_r(V,"fullTime"),Gr=_r(V,"fullDate");Pe=pr(Ht(V,oe.Full),[yi,Gr])}return Pe&&(hr[re][T]=Pe),Pe}function pr(V,T){return T&&(V=V.replace(/\{([^}]+)}/g,function(re,Pe){return null!=T&&Pe in T?T[Pe]:re})),V}function zn(V,T,re="-",Pe,Tt){let Xt="";(V<0||Tt&&V<=0)&&(Tt?V=1-V:(V=-V,Xt=re));let On=String(V);for(;On.length<T;)On="0"+On;return Pe&&(On=On.slice(On.length-T)),Xt+On}function sr(V,T,re=0,Pe=!1,Tt=!1){return function(Xt,On){let wr=function Zr(V,T){switch(V){case $n.FullYear:return T.getFullYear();case $n.Month:return T.getMonth();case $n.Date:return T.getDate();case $n.Hours:return T.getHours();case $n.Minutes:return T.getMinutes();case $n.Seconds:return T.getSeconds();case $n.FractionalSeconds:return T.getMilliseconds();case $n.Day:return T.getDay();default:throw new Error(`Unknown DateType value "${V}".`)}}(V,Xt);if((re>0||wr>-re)&&(wr+=re),V===$n.Hours)0===wr&&-12===re&&(wr=12);else if(V===$n.FractionalSeconds)return function Mr(V,T){return zn(V,3).substring(0,T)}(wr,T);const di=qt(On,J.MinusSign);return zn(wr,T,di,Pe,Tt)}}function gr(V,T,re=ie.Format,Pe=!1){return function(Tt,Xt){return function vr(V,T,re,Pe,Tt,Xt){switch(re){case bn.Months:return function qe(V,T,re){const Pe=(0,c.cg1)(V),Xt=bt([Pe[c.wAp.MonthsFormat],Pe[c.wAp.MonthsStandalone]],T);return bt(Xt,re)}(T,Tt,Pe)[V.getMonth()];case bn.Days:return function Ve(V,T,re){const Pe=(0,c.cg1)(V),Xt=bt([Pe[c.wAp.DaysFormat],Pe[c.wAp.DaysStandalone]],T);return bt(Xt,re)}(T,Tt,Pe)[V.getDay()];case bn.DayPeriods:const On=V.getHours(),wr=V.getMinutes();if(Xt){const _i=function Rt(V){const T=(0,c.cg1)(V);return z(T),(T[c.wAp.ExtraData][2]||[]).map(Pe=>"string"==typeof Pe?rn(Pe):[rn(Pe[0]),rn(Pe[1])])}(T),yi=function Vt(V,T,re){const Pe=(0,c.cg1)(V);z(Pe);const Xt=bt([Pe[c.wAp.ExtraData][0],Pe[c.wAp.ExtraData][1]],T)||[];return bt(Xt,re)||[]}(T,Tt,Pe),Gr=_i.findIndex(os=>{if(Array.isArray(os)){const[Oi,xi]=os,Lo=On>=Oi.hours&&wr>=Oi.minutes,mo=On<xi.hours||On===xi.hours&&wr<xi.minutes;if(Oi.hours<xi.hours){if(Lo&&mo)return!0}else if(Lo||mo)return!0}else if(os.hours===On&&os.minutes===wr)return!0;return!1});if(-1!==Gr)return yi[Gr]}return function Ae(V,T,re){const Pe=(0,c.cg1)(V),Xt=bt([Pe[c.wAp.DayPeriodsFormat],Pe[c.wAp.DayPeriodsStandalone]],T);return bt(Xt,re)}(T,Tt,Pe)[On<12?0:1];case bn.Eras:return function Se(V,T){return bt((0,c.cg1)(V)[c.wAp.Eras],T)}(T,Pe)[V.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${re}`)}}(Tt,Xt,V,T,re,Pe)}}function Un(V){return function(T,re,Pe){const Tt=-1*Pe,Xt=qt(re,J.MinusSign),On=Tt>0?Math.floor(Tt/60):Math.ceil(Tt/60);switch(V){case En.Short:return(Tt>=0?"+":"")+zn(On,2,Xt)+zn(Math.abs(Tt%60),2,Xt);case En.ShortGMT:return"GMT"+(Tt>=0?"+":"")+zn(On,1,Xt);case En.Long:return"GMT"+(Tt>=0?"+":"")+zn(On,2,Xt)+":"+zn(Math.abs(Tt%60),2,Xt);case En.Extended:return 0===Pe?"Z":(Tt>=0?"+":"")+zn(On,2,Xt)+":"+zn(Math.abs(Tt%60),2,Xt);default:throw new Error(`Unknown zone width "${V}"`)}}}!function(V){V[V.Short=0]="Short",V[V.ShortGMT=1]="ShortGMT",V[V.Long=2]="Long",V[V.Extended=3]="Extended"}(En||(En={})),function(V){V[V.FullYear=0]="FullYear",V[V.Month=1]="Month",V[V.Date=2]="Date",V[V.Hours=3]="Hours",V[V.Minutes=4]="Minutes",V[V.Seconds=5]="Seconds",V[V.FractionalSeconds=6]="FractionalSeconds",V[V.Day=7]="Day"}($n||($n={})),function(V){V[V.DayPeriods=0]="DayPeriods",V[V.Days=1]="Days",V[V.Months=2]="Months",V[V.Eras=3]="Eras"}(bn||(bn={}));function Rn(V){return yr(V.getFullYear(),V.getMonth(),V.getDate()+(4-V.getDay()))}function Kn(V,T=!1){return function(re,Pe){let Tt;if(T){const Xt=new Date(re.getFullYear(),re.getMonth(),1).getDay()-1,On=re.getDate();Tt=1+Math.floor((On+Xt)/7)}else{const Xt=Rn(re),On=function Tn(V){const T=yr(V,0,1).getDay();return yr(V,0,1+(T<=4?4:11)-T)}(Xt.getFullYear()),wr=Xt.getTime()-On.getTime();Tt=1+Math.round(wr/6048e5)}return zn(Tt,V,qt(Pe,J.MinusSign))}}function lr(V,T=!1){return function(re,Pe){return zn(Rn(re).getFullYear(),V,qt(Pe,J.MinusSign),T)}}const Xe={};function tt(V,T){V=V.replace(/:/g,"");const re=Date.parse("Jan 01, 1970 00:00:00 "+V)/6e4;return isNaN(re)?T:re}function on(V){return V instanceof Date&&!isNaN(V.valueOf())}const pn=/^(\d+)?\.((\d+)(-(\d+))?)?$/,X="0";function Je(V,T,re,Pe,Tt,Xt,On=!1){let wr="",di=!1;if(isFinite(V)){let _i=function x(V){let Pe,Tt,Xt,On,wr,T=Math.abs(V)+"",re=0;for((Tt=T.indexOf("."))>-1&&(T=T.replace(".","")),(Xt=T.search(/e/i))>0?(Tt<0&&(Tt=Xt),Tt+=+T.slice(Xt+1),T=T.substring(0,Xt)):Tt<0&&(Tt=T.length),Xt=0;T.charAt(Xt)===X;Xt++);if(Xt===(wr=T.length))Pe=[0],Tt=1;else{for(wr--;T.charAt(wr)===X;)wr--;for(Tt-=Xt,Pe=[],On=0;Xt<=wr;Xt++,On++)Pe[On]=Number(T.charAt(Xt))}return Tt>22&&(Pe=Pe.splice(0,21),re=Tt-1,Tt=1),{digits:Pe,exponent:re,integerLen:Tt}}(V);On&&(_i=function Z(V){if(0===V.digits[0])return V;const T=V.digits.length-V.integerLen;return V.exponent?V.exponent+=2:(0===T?V.digits.push(0,0):1===T&&V.digits.push(0),V.integerLen+=2),V}(_i));let yi=T.minInt,Gr=T.minFrac,os=T.maxFrac;if(Xt){const Zo=Xt.match(pn);if(null===Zo)throw new Error(`${Xt} is not a valid digit info`);const Ps=Zo[1],Ji=Zo[3],ua=Zo[5];null!=Ps&&(yi=ye(Ps)),null!=Ji&&(Gr=ye(Ji)),null!=ua?os=ye(ua):null!=Ji&&Gr>os&&(os=Gr)}!function j(V,T,re){if(T>re)throw new Error(`The minimum number of digits after fraction (${T}) is higher than the maximum (${re}).`);let Pe=V.digits,Tt=Pe.length-V.integerLen;const Xt=Math.min(Math.max(T,Tt),re);let On=Xt+V.integerLen,wr=Pe[On];if(On>0){Pe.splice(Math.max(V.integerLen,On));for(let Gr=On;Gr<Pe.length;Gr++)Pe[Gr]=0}else{Tt=Math.max(0,Tt),V.integerLen=1,Pe.length=Math.max(1,On=Xt+1),Pe[0]=0;for(let Gr=1;Gr<On;Gr++)Pe[Gr]=0}if(wr>=5)if(On-1<0){for(let Gr=0;Gr>On;Gr--)Pe.unshift(0),V.integerLen++;Pe.unshift(1),V.integerLen++}else Pe[On-1]++;for(;Tt<Math.max(0,Xt);Tt++)Pe.push(0);let di=0!==Xt;const _i=T+V.integerLen,yi=Pe.reduceRight(function(Gr,os,Oi,xi){return os+=Gr,xi[Oi]=os<10?os:os-10,di&&(0===xi[Oi]&&Oi>=_i?xi.pop():di=!1),os>=10?1:0},0);yi&&(Pe.unshift(yi),V.integerLen++)}(_i,Gr,os);let Oi=_i.digits,xi=_i.integerLen;const Lo=_i.exponent;let mo=[];for(di=Oi.every(Zo=>!Zo);xi<yi;xi++)Oi.unshift(0);for(;xi<0;xi++)Oi.unshift(0);xi>0?mo=Oi.splice(xi,Oi.length):(mo=Oi,Oi=[0]);const la=[];for(Oi.length>=T.lgSize&&la.unshift(Oi.splice(-T.lgSize,Oi.length).join(""));Oi.length>T.gSize;)la.unshift(Oi.splice(-T.gSize,Oi.length).join(""));Oi.length&&la.unshift(Oi.join("")),wr=la.join(qt(re,Pe)),mo.length&&(wr+=qt(re,Tt)+mo.join("")),Lo&&(wr+=qt(re,J.Exponential)+"+"+Lo)}else wr=qt(re,J.Infinity);return wr=V<0&&!di?T.negPre+wr+T.negSuf:T.posPre+wr+T.posSuf,wr}function zt(V,T,re,Pe,Tt){const On=ct(an(T,De.Currency),qt(T,J.MinusSign));return On.minFrac=function nr(V){let T;const re=me[V];return re&&(T=re[2]),"number"==typeof T?T:2}(Pe),On.maxFrac=On.minFrac,Je(V,On,T,J.CurrencyGroup,J.CurrencyDecimal,Tt).replace("\xa4",re).replace("\xa4","").trim()}function ct(V,T="-"){const re={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Pe=V.split(";"),Tt=Pe[0],Xt=Pe[1],On=-1!==Tt.indexOf(".")?Tt.split("."):[Tt.substring(0,Tt.lastIndexOf(X)+1),Tt.substring(Tt.lastIndexOf(X)+1)],wr=On[0],di=On[1]||"";re.posPre=wr.substring(0,wr.indexOf("#"));for(let yi=0;yi<di.length;yi++){const Gr=di.charAt(yi);Gr===X?re.minFrac=re.maxFrac=yi+1:"#"===Gr?re.maxFrac=yi+1:re.posSuf+=Gr}const _i=wr.split(",");if(re.gSize=_i[1]?_i[1].length:0,re.lgSize=_i[2]||_i[1]?(_i[2]||_i[1]).length:0,Xt){const yi=Tt.length-re.posPre.length-re.posSuf.length,Gr=Xt.indexOf("#");re.negPre=Xt.substring(0,Gr).replace(/'/g,""),re.negSuf=Xt.slice(Gr+yi).replace(/'/g,"")}else re.negPre=T+re.posPre,re.negSuf=re.posSuf;return re}function ye(V){const T=parseInt(V);if(isNaN(T))throw new Error("Invalid integer literal when parsing "+V);return T}class Ct{}function It(V,T,re,Pe){let Tt=`=${V}`;if(T.indexOf(Tt)>-1||(Tt=re.getPluralCategory(V,Pe),T.indexOf(Tt)>-1))return Tt;if(T.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${V}"`)}Ct.\u0275fac=function(T){return new(T||Ct)},Ct.\u0275prov=c.Yz7({token:Ct,factory:function(T){let re=null;return T?re=new T:(Pe=c.LFG(c.soG),re=new _n(Pe)),re;var Pe},providedIn:"root"});class _n extends Ct{constructor(T){super(),this.locale=T}getPluralCategory(T,re){switch(Mn(re||this.locale)(T)){case st.Zero:return"zero";case st.One:return"one";case st.Two:return"two";case st.Few:return"few";case st.Many:return"many";default:return"other"}}}function cr(V,T){T=encodeURIComponent(T);for(const re of V.split(";")){const Pe=re.indexOf("="),[Tt,Xt]=-1==Pe?[re,""]:[re.slice(0,Pe),re.slice(Pe+1)];if(Tt.trim()===T)return decodeURIComponent(Xt)}return null}_n.\u0275fac=function(T){return new(T||_n)(c.LFG(c.soG))},_n.\u0275prov=c.Yz7({token:_n,factory:_n.\u0275fac});class Nr{constructor(T,re,Pe,Tt){this._iterableDiffers=T,this._keyValueDiffers=re,this._ngEl=Pe,this._renderer=Tt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(T){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof T?T.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(T){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof T?T.split(/\s+/):T,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const T=this._iterableDiffer.diff(this._rawClass);T&&this._applyIterableChanges(T)}else if(this._keyValueDiffer){const T=this._keyValueDiffer.diff(this._rawClass);T&&this._applyKeyValueChanges(T)}}_applyKeyValueChanges(T){T.forEachAddedItem(re=>this._toggleClass(re.key,re.currentValue)),T.forEachChangedItem(re=>this._toggleClass(re.key,re.currentValue)),T.forEachRemovedItem(re=>{re.previousValue&&this._toggleClass(re.key,!1)})}_applyIterableChanges(T){T.forEachAddedItem(re=>{if("string"!=typeof re.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(re.item)}`);this._toggleClass(re.item,!0)}),T.forEachRemovedItem(re=>this._toggleClass(re.item,!1))}_applyClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(re=>this._toggleClass(re,!0)):Object.keys(T).forEach(re=>this._toggleClass(re,!!T[re])))}_removeClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(re=>this._toggleClass(re,!1)):Object.keys(T).forEach(re=>this._toggleClass(re,!1)))}_toggleClass(T,re){(T=T.trim())&&T.split(/\s+/g).forEach(Pe=>{re?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}}Nr.\u0275fac=function(T){return new(T||Nr)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},Nr.\u0275dir=c.lG2({type:Nr,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0});class Rr{constructor(T){this._viewContainerRef=T,this.ngComponentOutlet=null}ngOnChanges(T){const{_viewContainerRef:re,ngComponentOutletNgModule:Pe,ngComponentOutletNgModuleFactory:Tt}=this;if(re.clear(),this._componentRef=void 0,this.ngComponentOutlet){const Xt=this.ngComponentOutletInjector||re.parentInjector;(T.ngComponentOutletNgModule||T.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=Pe?(0,c.Lck)(Pe,Lr(Xt)):Tt?Tt.create(Lr(Xt)):void 0),this._componentRef=re.createComponent(this.ngComponentOutlet,{index:re.length,injector:Xt,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}function Lr(V){return V.get(c.h0i).injector}Rr.\u0275fac=function(T){return new(T||Rr)(c.Y36(c.s_b))},Rr.\u0275dir=c.lG2({type:Rr,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[c.TTD]});class Ii{constructor(T,re,Pe,Tt){this.$implicit=T,this.ngForOf=re,this.index=Pe,this.count=Tt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class li{constructor(T,re,Pe){this._viewContainer=T,this._template=re,this._differs=Pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const re=this._viewContainer;T.forEachOperation((Pe,Tt,Xt)=>{if(null==Pe.previousIndex)re.createEmbeddedView(this._template,new Ii(Pe.item,this._ngForOf,-1,-1),null===Xt?void 0:Xt);else if(null==Xt)re.remove(null===Tt?void 0:Tt);else if(null!==Tt){const On=re.get(Tt);re.move(On,Xt),zi(On,Pe)}});for(let Pe=0,Tt=re.length;Pe<Tt;Pe++){const On=re.get(Pe).context;On.index=Pe,On.count=Tt,On.ngForOf=this._ngForOf}T.forEachIdentityChange(Pe=>{zi(re.get(Pe.currentIndex),Pe)})}static ngTemplateContextGuard(T,re){return!0}}function zi(V,T){V.context.$implicit=T.item}li.\u0275fac=function(T){return new(T||li)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},li.\u0275dir=c.lG2({type:li,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});class Re{constructor(T,re){this._viewContainer=T,this._context=new pt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=re}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){_t("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){_t("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,re){return!0}}Re.\u0275fac=function(T){return new(T||Re)(c.Y36(c.s_b),c.Y36(c.Rgc))},Re.\u0275dir=c.lG2({type:Re,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});class pt{constructor(){this.$implicit=null,this.ngIf=null}}function _t(V,T){if(T&&!T.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,c.AaK)(T)}'.`)}class $t{constructor(T,re){this._viewContainerRef=T,this._templateRef=re,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(T){T&&!this._created?this.create():!T&&this._created&&this.destroy()}}class we{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(T){this._ngSwitch=T,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(T){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(T)}_matchCase(T){const re=T==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||re,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),re}_updateDefaultCases(T){if(this._defaultViews&&T!==this._defaultUsed){this._defaultUsed=T;for(let re=0;re<this._defaultViews.length;re++)this._defaultViews[re].enforceState(T)}}}we.\u0275fac=function(T){return new(T||we)},we.\u0275dir=c.lG2({type:we,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});class ut{constructor(T,re,Pe){this.ngSwitch=Pe,Pe._addCase(),this._view=new $t(T,re)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}ut.\u0275fac=function(T){return new(T||ut)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(we,9))},ut.\u0275dir=c.lG2({type:ut,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});class Mt{constructor(T,re,Pe){Pe._addDefault(new $t(T,re))}}Mt.\u0275fac=function(T){return new(T||Mt)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(we,9))},Mt.\u0275dir=c.lG2({type:Mt,selectors:[["","ngSwitchDefault",""]],standalone:!0});class en{constructor(T){this._localization=T,this._caseViews={}}set ngPlural(T){this._switchValue=T,this._updateView()}addCase(T,re){this._caseViews[T]=re}_updateView(){this._clearViews();const T=Object.keys(this._caseViews),re=It(this._switchValue,T,this._localization);this._activateView(this._caseViews[re])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(T){T&&(this._activeView=T,this._activeView.create())}}en.\u0275fac=function(T){return new(T||en)(c.Y36(Ct))},en.\u0275dir=c.lG2({type:en,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0});class An{constructor(T,re,Pe,Tt){this.value=T;const Xt=!isNaN(Number(T));Tt.addCase(Xt?`=${T}`:T,new $t(Pe,re))}}An.\u0275fac=function(T){return new(T||An)(c.$8M("ngPluralCase"),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(en,1))},An.\u0275dir=c.lG2({type:An,selectors:[["","ngPluralCase",""]],standalone:!0});class Zn{constructor(T,re,Pe){this._ngEl=T,this._differs=re,this._renderer=Pe,this._ngStyle=null,this._differ=null}set ngStyle(T){this._ngStyle=T,!this._differ&&T&&(this._differ=this._differs.find(T).create())}ngDoCheck(){if(this._differ){const T=this._differ.diff(this._ngStyle);T&&this._applyChanges(T)}}_setStyle(T,re){const[Pe,Tt]=T.split("."),Xt=-1===Pe.indexOf("-")?void 0:c.JOm.DashCase;null!=re?this._renderer.setStyle(this._ngEl.nativeElement,Pe,Tt?`${re}${Tt}`:re,Xt):this._renderer.removeStyle(this._ngEl.nativeElement,Pe,Xt)}_applyChanges(T){T.forEachRemovedItem(re=>this._setStyle(re.key,null)),T.forEachAddedItem(re=>this._setStyle(re.key,re.currentValue)),T.forEachChangedItem(re=>this._setStyle(re.key,re.currentValue))}}Zn.\u0275fac=function(T){return new(T||Zn)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},Zn.\u0275dir=c.lG2({type:Zn,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});class or{constructor(T){this._viewContainerRef=T,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(T){if(T.ngTemplateOutlet||T.ngTemplateOutletInjector){const re=this._viewContainerRef;if(this._viewRef&&re.remove(re.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Pe,ngTemplateOutletContext:Tt,ngTemplateOutletInjector:Xt}=this;this._viewRef=re.createEmbeddedView(Pe,Tt,Xt?{injector:Xt}:void 0)}else this._viewRef=null}else this._viewRef&&T.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}or.\u0275fac=function(T){return new(T||or)(c.Y36(c.s_b))},or.\u0275dir=c.lG2({type:or,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]});function Fr(V,T){return new c.vHH(2100,!1)}const Ys=new class bi{createSubscription(T,re){return T.then(re,Pe=>{throw Pe})}dispose(T){}},As=new class ui{createSubscription(T,re){return T.subscribe({next:re,error:Pe=>{throw Pe}})}dispose(T){T.unsubscribe()}};class Ti{constructor(T){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=T}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(T){return this._obj?T!==this._obj?(this._dispose(),this.transform(T)):this._latestValue:(T&&this._subscribe(T),this._latestValue)}_subscribe(T){this._obj=T,this._strategy=this._selectStrategy(T),this._subscription=this._strategy.createSubscription(T,re=>this._updateLatestValue(T,re))}_selectStrategy(T){if((0,c.QGY)(T))return Ys;if((0,c.F4k)(T))return As;throw Fr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(T,re){T===this._obj&&(this._latestValue=re,this._ref.markForCheck())}}Ti.\u0275fac=function(T){return new(T||Ti)(c.Y36(c.sBO,16))},Ti.\u0275pipe=c.Yjl({name:"async",type:Ti,pure:!1,standalone:!0});class Pi{transform(T){if(null==T)return null;if("string"!=typeof T)throw Fr();return T.toLowerCase()}}Pi.\u0275fac=function(T){return new(T||Pi)},Pi.\u0275pipe=c.Yjl({name:"lowercase",type:Pi,pure:!0,standalone:!0});const qs=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;class Ss{transform(T){if(null==T)return null;if("string"!=typeof T)throw Fr();return T.replace(qs,re=>re[0].toUpperCase()+re.slice(1).toLowerCase())}}Ss.\u0275fac=function(T){return new(T||Ss)},Ss.\u0275pipe=c.Yjl({name:"titlecase",type:Ss,pure:!0,standalone:!0});class Bs{transform(T){if(null==T)return null;if("string"!=typeof T)throw Fr();return T.toUpperCase()}}Bs.\u0275fac=function(T){return new(T||Bs)},Bs.\u0275pipe=c.Yjl({name:"uppercase",type:Bs,pure:!0,standalone:!0});const Us=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");class Ki{constructor(T,re){this.locale=T,this.defaultTimezone=re}transform(T,re="mediumDate",Pe,Tt){var Xt;if(null==T||""===T||T!=T)return null;try{return Bn(T,re,Tt||this.locale,null!==(Xt=null!=Pe?Pe:this.defaultTimezone)&&void 0!==Xt?Xt:void 0)}catch(On){throw Fr(0,On.message)}}}Ki.\u0275fac=function(T){return new(T||Ki)(c.Y36(c.soG,16),c.Y36(Us,24))},Ki.\u0275pipe=c.Yjl({name:"date",type:Ki,pure:!0,standalone:!0});const vt=/#/g;class gt{constructor(T){this._localization=T}transform(T,re,Pe){if(null==T)return"";if("object"!=typeof re||null===re)throw Fr();return re[It(T,Object.keys(re),this._localization,Pe)].replace(vt,T.toString())}}gt.\u0275fac=function(T){return new(T||gt)(c.Y36(Ct,16))},gt.\u0275pipe=c.Yjl({name:"i18nPlural",type:gt,pure:!0,standalone:!0});class kt{transform(T,re){if(null==T)return"";if("object"!=typeof re||"string"!=typeof T)throw Fr();return re.hasOwnProperty(T)?re[T]:re.hasOwnProperty("other")?re.other:""}}kt.\u0275fac=function(T){return new(T||kt)},kt.\u0275pipe=c.Yjl({name:"i18nSelect",type:kt,pure:!0,standalone:!0});class Qt{transform(T){return JSON.stringify(T,null,2)}}Qt.\u0275fac=function(T){return new(T||Qt)},Qt.\u0275pipe=c.Yjl({name:"json",type:Qt,pure:!1,standalone:!0});class Vn{constructor(T){this.differs=T,this.keyValues=[],this.compareFn=Ar}transform(T,re=Ar){if(!T||!(T instanceof Map)&&"object"!=typeof T)return null;this.differ||(this.differ=this.differs.find(T).create());const Pe=this.differ.diff(T),Tt=re!==this.compareFn;return Pe&&(this.keyValues=[],Pe.forEachItem(Xt=>{this.keyValues.push(function vn(V,T){return{key:V,value:T}}(Xt.key,Xt.currentValue))})),(Pe||Tt)&&(this.keyValues.sort(re),this.compareFn=re),this.keyValues}}function Ar(V,T){const re=V.key,Pe=T.key;if(re===Pe)return 0;if(void 0===re)return 1;if(void 0===Pe)return-1;if(null===re)return 1;if(null===Pe)return-1;if("string"==typeof re&&"string"==typeof Pe)return re<Pe?-1:1;if("number"==typeof re&&"number"==typeof Pe)return re-Pe;if("boolean"==typeof re&&"boolean"==typeof Pe)return re<Pe?-1:1;const Tt=String(re),Xt=String(Pe);return Tt==Xt?0:Tt<Xt?-1:1}Vn.\u0275fac=function(T){return new(T||Vn)(c.Y36(c.aQg,16))},Vn.\u0275pipe=c.Yjl({name:"keyvalue",type:Vn,pure:!1,standalone:!0});class ei{constructor(T){this._locale=T}transform(T,re,Pe){if(!Xi(T))return null;Pe=Pe||this._locale;try{return function xn(V,T,re){return Je(V,ct(an(T,De.Decimal),qt(T,J.MinusSign)),T,J.Group,J.Decimal,re)}(Pr(T),Pe,re)}catch(Tt){throw Fr(0,Tt.message)}}}ei.\u0275fac=function(T){return new(T||ei)(c.Y36(c.soG,16))},ei.\u0275pipe=c.Yjl({name:"number",type:ei,pure:!0,standalone:!0});class Sr{constructor(T){this._locale=T}transform(T,re,Pe){if(!Xi(T))return null;Pe=Pe||this._locale;try{return function un(V,T,re){return Je(V,ct(an(T,De.Percent),qt(T,J.MinusSign)),T,J.Group,J.Decimal,re,!0).replace(new RegExp("%","g"),qt(T,J.PercentSign))}(Pr(T),Pe,re)}catch(Tt){throw Fr(0,Tt.message)}}}Sr.\u0275fac=function(T){return new(T||Sr)(c.Y36(c.soG,16))},Sr.\u0275pipe=c.Yjl({name:"percent",type:Sr,pure:!0,standalone:!0});class Xr{constructor(T,re="USD"){this._locale=T,this._defaultCurrencyCode=re}transform(T,re=this._defaultCurrencyCode,Pe="symbol",Tt,Xt){if(!Xi(T))return null;Xt=Xt||this._locale,"boolean"==typeof Pe&&(Pe=Pe?"symbol":"code");let On=re||this._defaultCurrencyCode;"code"!==Pe&&(On="symbol"===Pe||"symbol-narrow"===Pe?Et(On,"symbol"===Pe?"wide":"narrow",Xt):Pe);try{return zt(Pr(T),Xt,On,re,Tt)}catch(wr){throw Fr(0,wr.message)}}}function Xi(V){return!(null==V||""===V||V!=V)}function Pr(V){if("string"==typeof V&&!isNaN(Number(V)-parseFloat(V)))return Number(V);if("number"!=typeof V)throw new Error(`${V} is not a number`);return V}Xr.\u0275fac=function(T){return new(T||Xr)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},Xr.\u0275pipe=c.Yjl({name:"currency",type:Xr,pure:!0,standalone:!0});class Yi{transform(T,re,Pe){if(null==T)return null;if(!this.supports(T))throw Fr();return T.slice(re,Pe)}supports(T){return"string"==typeof T||Array.isArray(T)}}Yi.\u0275fac=function(T){return new(T||Yi)},Yi.\u0275pipe=c.Yjl({name:"slice",type:Yi,pure:!1,standalone:!0});class ii{}ii.\u0275fac=function(T){return new(T||ii)},ii.\u0275mod=c.oAB({type:ii}),ii.\u0275inj=c.cJS({});const hs="browser";function fs(V){return"server"===V}new c.GfV("14.2.6");class Ze{}Ze.\u0275prov=(0,c.Yz7)({token:Ze,providedIn:"root",factory:()=>new ke((0,c.LFG)(le),window)});class ke{constructor(T,re){this.document=T,this.window=re,this.offset=()=>[0,0]}setOffset(T){Array.isArray(T)?this.offset=()=>T:this.offset=T}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(T){this.supportsScrolling()&&this.window.scrollTo(T[0],T[1])}scrollToAnchor(T){if(!this.supportsScrolling())return;const re=function Lt(V,T){const re=V.getElementById(T)||V.getElementsByName(T)[0];if(re)return re;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const Pe=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Tt=Pe.currentNode;for(;Tt;){const Xt=Tt.shadowRoot;if(Xt){const On=Xt.getElementById(T)||Xt.querySelector(`[name="${T}"]`);if(On)return On}Tt=Pe.nextNode()}}return null}(this.document,T);re&&(this.scrollToElement(re),re.focus())}setHistoryScrollRestoration(T){if(this.supportScrollRestoration()){const re=this.window.history;re&&re.scrollRestoration&&(re.scrollRestoration=T)}}scrollToElement(T){const re=T.getBoundingClientRect(),Pe=re.left+this.window.pageXOffset,Tt=re.top+this.window.pageYOffset,Xt=this.offset();this.window.scrollTo(Pe-Xt[0],Tt-Xt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const T=ft(this.window.history)||ft(Object.getPrototypeOf(this.window.history));return!(!T||!T.writable&&!T.set)}catch(T){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(T){return!1}}}function ft(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class Cn{}function Nn(V){throw new c.vHH(2958,`Unexpected invocation of the ${V} in the prod mode. Please make sure that the prod mode is enabled for production builds.`)}function Yn(V,T=!0){return`The NgOptimizedImage directive ${T?`(activated on an <img> element with the \`ngSrc="${V}"\`) `:""}has detected that`}function Cr(V,T){return Wr(V)?new URL(V):new URL(V,T.location.href)}function Wr(V){return/^https?:\/\//.test(V)}function $i(V){return V.startsWith("/")?V.slice(1):V}const Er=new Set(["localhost","127.0.0.1","0.0.0.0"]),Ds=new c.OlP("PRECONNECT_CHECK_BLOCKLIST");class Si{constructor(){this.document=(0,c.f3M)(le),this.preconnectLinks=null,this.alreadySeen=new Set,this.window=null,this.blocklist=new Set(Er),Nn("preconnect link checker");const T=this.document.defaultView;void 0!==T&&(this.window=T);const re=(0,c.f3M)(Ds,{optional:!0});re&&this.populateBlocklist(re)}populateBlocklist(T){if(!Array.isArray(T))throw new c.vHH(2957,"The blocklist for the preconnect check was not provided as an array. Check that the `PRECONNECT_CHECK_BLOCKLIST` token is configured as a `multi: true` provider.");no(T,re=>{this.blocklist.add(function Qr(V){return Wr(V)?new URL(V).hostname:V}(re))})}assertPreconnect(T,re){if(!this.window)return;const Pe=Cr(T,this.window);this.blocklist.has(Pe.hostname)||this.alreadySeen.has(Pe.origin)||(this.alreadySeen.add(Pe.origin),this.preconnectLinks||(this.preconnectLinks=this.queryPreconnectLinks()),this.preconnectLinks.has(Pe.origin)||console.warn((0,c.kuF)(2956,`${Yn(re)} there is no preconnect tag present for this image. Preconnecting to the origin(s) that serve priority images ensures that these images are delivered as soon as possible. To fix this, please add the following element into the <head> of the document:\n  <link rel="preconnect" href="${Pe.origin}">`)))}queryPreconnectLinks(){const T=new Set,Pe=Array.from(this.document.querySelectorAll("link[rel=preconnect]"));for(let Tt of Pe){const Xt=Cr(Tt.href,this.window);T.add(Xt.origin)}return T}ngOnDestroy(){var T;null===(T=this.preconnectLinks)||void 0===T||T.clear(),this.alreadySeen.clear()}}function no(V,T){for(let re of V)Array.isArray(re)?no(re,T):T(re)}Si.\u0275fac=function(T){return new(T||Si)},Si.\u0275prov=c.Yz7({token:Si,factory:Si.\u0275fac,providedIn:"root"});const _s=V=>V.src,ki=new c.OlP("ImageLoader",{providedIn:"root",factory:()=>_s});function Li(V,T){return function(Pe,Tt={ensurePreconnect:!0}){return function Vr(V){if("string"!=typeof V||""===V.trim())return!1;try{return new URL(V),!0}catch(re){return!1}}(Pe)||function es(V,T){throw new c.vHH(2959,!1)}(),Pe=function ni(V){return V.endsWith("/")?V.slice(0,-1):V}(Pe),[{provide:ki,useValue:wr=>(Wr(wr.src)&&function wo(V,T){throw new c.vHH(2959,!1)}(0,wr.src),V(Pe,Object.assign(Object.assign({},wr),{src:$i(wr.src)})))}]}}Li(function $r(V,T){let re="format=auto";return T.width&&(re+=`,width=${T.width}`),`${V}/cdn-cgi/image/${re}/${T.src}`});Li(function Qi(V,T){let re="f_auto,q_auto";return T.width&&(re+=`,w_${T.width}`),`${V}/image/upload/${re}/${T.src}`});Li(function E(V,T){let re="tr:q-auto";return T.width&&(re+=`,w-${T.width}`),`${V}/${re}/${T.src}`});Li(function ae(V,T){const re=new URL(`${V}/${T.src}`);return re.searchParams.set("auto","format"),T.width&&re.searchParams.set("w",T.width.toString()),re.href});class Bt{constructor(){this.images=new Map,this.alreadyWarned=new Set,this.window=null,this.observer=null,Nn("LCP checker");const T=(0,c.f3M)(le).defaultView;void 0!==T&&"undefined"!=typeof PerformanceObserver&&(this.window=T,this.observer=this.initPerformanceObserver())}initPerformanceObserver(){const T=new PerformanceObserver(re=>{var Pe,Tt;const Xt=re.getEntries();if(0===Xt.length)return;const wr=null!==(Tt=null===(Pe=Xt[Xt.length-1].element)||void 0===Pe?void 0:Pe.src)&&void 0!==Tt?Tt:"";wr.startsWith("data:")||wr.startsWith("blob:")||this.images.get(wr)&&!this.alreadyWarned.has(wr)&&(this.alreadyWarned.add(wr),function gn(V){const T=Yn(V);console.warn((0,c.kuF)(2955,`${T} this image is the Largest Contentful Paint (LCP) element but was not marked "priority". This image should be marked "priority" in order to prioritize its loading. To fix this, add the "priority" attribute.`))}(wr))});return T.observe({type:"largest-contentful-paint",buffered:!0}),T}registerImage(T,re){!this.observer||this.images.set(Cr(T,this.window).href,re)}unregisterImage(T){!this.observer||this.images.delete(Cr(T,this.window).href)}ngOnDestroy(){!this.observer||(this.observer.disconnect(),this.images.clear(),this.alreadyWarned.clear())}}Bt.\u0275fac=function(T){return new(T||Bt)},Bt.\u0275prov=c.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"});const xr=/^((\s*\d+w\s*(,|$)){1,})$/;class Hr{constructor(){this.imageLoader=(0,c.f3M)(ki),this.renderer=(0,c.f3M)(c.Qsj),this.imgElement=(0,c.f3M)(c.SBq).nativeElement,this.injector=(0,c.f3M)(c.zs3),this.lcpObserver=null,this._renderedSrc=null,this._priority=!1}set rawSrc(T){}set width(T){this._width=pi(T)}get width(){return this._width}set height(T){this._height=pi(T)}get height(){return this._height}set priority(T){this._priority=function Os(V){return null!=V&&"false"!=`${V}`}(T)}get priority(){return this._priority}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString()),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("src",this.getRewrittenSrc()),this.ngSrcset&&this.setHostAttribute("srcset",this.getRewrittenSrcset())}ngOnChanges(T){}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){if(!this._renderedSrc){const T={src:this.ngSrc};this._renderedSrc=this.imageLoader(T)}return this._renderedSrc}getRewrittenSrcset(){const T=xr.test(this.ngSrcset);return this.ngSrcset.split(",").filter(Pe=>""!==Pe).map(Pe=>{Pe=Pe.trim();const Tt=T?parseFloat(Pe):parseFloat(Pe)*this.width;return`${this.imageLoader({src:this.ngSrc,width:Tt})} ${Pe}`}).join(", ")}ngOnDestroy(){}setHostAttribute(T,re){this.renderer.setAttribute(this.imgElement,T,re)}}function pi(V){return"string"==typeof V?parseInt(V,10):V}Hr.\u0275fac=function(T){return new(T||Hr)},Hr.\u0275dir=c.lG2({type:Hr,selectors:[["img","ngSrc",""],["img","rawSrc",""]],inputs:{rawSrc:"rawSrc",ngSrc:"ngSrc",ngSrcset:"ngSrcset",width:"width",height:"height",loading:"loading",priority:"priority",src:"src",srcset:"srcset"},standalone:!0,features:[c.TTD]})},3184:(ln,at,R)=>{"use strict";R.d(at,{$8M:()=>yo,$Z:()=>Yc,AA_:()=>gi,AFp:()=>S0,ALo:()=>KE,AaK:()=>Ce,AcB:()=>Rc,BQk:()=>xm,CHM:()=>Do,CRH:()=>r0,CZH:()=>Jh,CqO:()=>b_,D6c:()=>$w,DdM:()=>VE,DyG:()=>Ra,E6H:()=>QC,EJc:()=>ow,EiD:()=>il,EpF:()=>ly,F$t:()=>A_,F4k:()=>Nm,FYo:()=>vu,FiY:()=>Oa,G48:()=>bw,GSi:()=>qp,Gf:()=>t0,GfV:()=>Wg,GkF:()=>D_,Gpc:()=>_e,Hsn:()=>fp,IIB:()=>JC,JOm:()=>ul,JVY:()=>of,KtG:()=>Qi,L6J:()=>nw,L6k:()=>af,LAX:()=>ed,LFG:()=>ns,LSH:()=>cf,LVF:()=>rw,Lbi:()=>iw,Lck:()=>KI,MAs:()=>w_,MMx:()=>Mv,NdJ:()=>Uu,OlP:()=>Di,Oqu:()=>F_,PXZ:()=>vw,PiD:()=>wi,Q6J:()=>Pm,QGY:()=>Tg,QP$:()=>on,Qsj:()=>Eu,R0b:()=>su,RDi:()=>mc,Rgc:()=>qm,SBq:()=>ec,Sil:()=>Jm,Suo:()=>n0,TTD:()=>Sr,TgZ:()=>nu,VKq:()=>$E,X6Q:()=>Dw,XFs:()=>bt,Xek:()=>T0,Xpm:()=>Wt,Xts:()=>Uc,Y36:()=>$o,YKP:()=>OE,YNc:()=>ay,Yjl:()=>Ue,Yz7:()=>St,Z0I:()=>Fn,ZZ4:()=>Fd,_Bn:()=>RE,_UZ:()=>Kh,_Vd:()=>ol,_c5:()=>Vw,_uU:()=>Dy,aQ5:()=>cu,aQg:()=>Bd,ahi:()=>qa,c2e:()=>Qm,cJS:()=>qt,cg1:()=>_p,dDg:()=>e_,dqk:()=>Bn,eBb:()=>cs,eFA:()=>$0,ekj:()=>x_,eoX:()=>Pg,f3M:()=>Nc,g9A:()=>O0,h0i:()=>Ym,hGG:()=>t_,hij:()=>Vm,i9L:()=>pa,iGM:()=>e0,ifc:()=>bn,ip1:()=>A0,jDz:()=>PE,kL8:()=>$y,kYT:()=>Xe,kuF:()=>dt,lG2:()=>tt,lqb:()=>_u,lri:()=>F0,mCW:()=>C,n4l:()=>Wn,n5z:()=>Kr,oAB:()=>lr,oJD:()=>Gs,oxw:()=>Ag,pB0:()=>Ip,pfw:()=>tw,q3G:()=>sa,q4F:()=>Tp,qLn:()=>ih,qOj:()=>l,qZA:()=>zh,qzn:()=>yc,rWj:()=>B0,r_U:()=>ew,sBO:()=>X0,sIi:()=>dr,s_b:()=>G_,soG:()=>Zy,tBr:()=>Rl,tb:()=>M0,tp0:()=>vi,uIk:()=>ds,vHH:()=>Ge,vpe:()=>kd,vpz:()=>Md,wA2:()=>XC,wAp:()=>Nd,xi3:()=>YE,xp6:()=>Gp,ynx:()=>hp,z2F:()=>tf,z3N:()=>_a,zSh:()=>mu,zlt:()=>UE,zs3:()=>ba});var c=R(253),B=R(7714),$=R(833),Le=R(6646),Fe=R(1203);function Ie(n){for(let r in n)if(n[r]===Ie)return r;throw Error("Could not find renamed property on target object.")}function le(n,r){for(const a in r)r.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=r[a])}function Ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function $e(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ue=Ie({__forward_ref__:Ie});function _e(n){return n.__forward_ref__=_e,n.toString=function(){return Ce(this())},n}function xe(n){return de(n)?n():n}function de(n){return"function"==typeof n&&n.hasOwnProperty(ue)&&n.__forward_ref__===_e}class Ge extends Error{constructor(r,a){super(dt(r,a)),this.code=r}}function dt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function Me(n){return"string"==typeof n?n:null==n?"":String(n)}function be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Me(n)}function yt(n,r){throw new Ge(-201,!1)}function st(n,r,a){n!=r&&Se(a,n,r,"==")}function qe(n,r){null==n&&Se(r,n,null,"!=")}function Se(n,r,a,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${a} ${d} ${r} <=Actual]`))}function St(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function an(n){return ir(n,z)||ir(n,Vt)}function Fn(n){return null!==an(n)}function ir(n,r){return n.hasOwnProperty(r)?n[r]:null}function Mn(n){return n&&(n.hasOwnProperty(Rt)||n.hasOwnProperty(hn))?n[Rt]:null}const z=Ie({\u0275prov:Ie}),Rt=Ie({\u0275inj:Ie}),Vt=Ie({ngInjectableDef:Ie}),hn=Ie({ngInjectorDef:Ie});var bt,n;let rn;function cn(n){const r=rn;return rn=n,r}function nr(n,r,a){const d=an(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&bt.Optional?null:void 0!==r?r:void yt(Ce(n))}function hr(n){return{toString:n}.toString()}var Wn,En,bn;(n=bt||(bt={}))[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",function(n){n[n.OnPush=0]="OnPush",n[n.Default=1]="Default"}(Wn||(Wn={})),function(n){n[n.CheckOnce=0]="CheckOnce",n[n.Checked=1]="Checked",n[n.CheckAlways=2]="CheckAlways",n[n.Detached=3]="Detached",n[n.Errored=4]="Errored",n[n.Destroyed=5]="Destroyed"}(En||(En={})),function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(bn||(bn={}));const Bn=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)();const pr={},zn=[],Mr=Ie({\u0275cmp:Ie}),sr=Ie({\u0275dir:Ie}),Zr=Ie({\u0275pipe:Ie}),gr=Ie({\u0275mod:Ie}),vr=Ie({\u0275fac:Ie}),Un=Ie({__NG_ELEMENT_ID__:Ie});let In=0;function Wt(n){return hr(()=>{const r=n.type,a=!0===n.standalone,d={},p={type:r,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||zn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||bn.Emulated,id:"c"+In++,styles:n.styles||zn,_:null,setInput:null,schemas:n.schemas||null,tView:null},_=n.dependencies,w=n.features;return p.inputs=Te(n.inputs,d),p.outputs=Te(n.outputs),w&&w.forEach(O=>O(p)),p.directiveDefs=_?()=>("function"==typeof _?_():_).map(Rn).filter(Kn):null,p.pipeDefs=_?()=>("function"==typeof _?_():_).map(Nt).filter(Kn):null,p})}function Tn(n,r,a){const d=n.\u0275cmp;d.directiveDefs=()=>("function"==typeof r?r():r).map(Rn),d.pipeDefs=()=>("function"==typeof a?a():a).map(Nt)}function Rn(n){return Y(n)||je(n)}function Kn(n){return null!==n}function lr(n){return hr(()=>({type:n.type,bootstrap:n.bootstrap||zn,declarations:n.declarations||zn,imports:n.imports||zn,exports:n.exports||zn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Xe(n,r){return hr(()=>{const a=pn(n,!0);a.declarations=r.declarations||zn,a.imports=r.imports||zn,a.exports=r.exports||zn})}function Te(n,r){if(null==n)return pr;const a={};for(const d in n)if(n.hasOwnProperty(d)){let p=n[d],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),a[p]=d,r&&(r[p]=_)}return a}const tt=Wt;function Ue(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Y(n){return n[Mr]||null}function je(n){return n[sr]||null}function Nt(n){return n[Zr]||null}function on(n){const r=Y(n)||je(n)||Nt(n);return null!==r&&r.standalone}function pn(n,r){const a=n[gr]||null;if(!a&&!0===r)throw new Error(`Type ${Ce(n)} does not have '\u0275mod' property.`);return a}function _t(n){return Array.isArray(n)&&"object"==typeof n[1]}function $t(n){return Array.isArray(n)&&!0===n[1]}function we(n){return 0!=(8&n.flags)}function ut(n){return 2==(2&n.flags)}function Mt(n){return 1==(1&n.flags)}function jt(n){return null!==n.template}function en(n){return 0!=(256&n[2])}function Ar(n,r){return n.hasOwnProperty(vr)?n[vr]:null}class ei{constructor(r,a,d){this.previousValue=r,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function Sr(){return Xr}function Xr(n){return n.type.prototype.ngOnChanges&&(n.setInput=Pr),Xi}function Xi(){const n=Ai(this),r=null==n?void 0:n.current;if(r){const a=n.previous;if(a===pr)n.previous=r;else for(let d in r)a[d]=r[d];n.current=null,this.ngOnChanges(r)}}function Pr(n,r,a,d){const p=Ai(n)||function ii(n,r){return n[Yi]=r}(n,{previous:pr,current:null}),_=p.current||(p.current={}),w=p.previous,O=this.declaredInputs[a],L=w[O];_[O]=new ei(L&&L.currentValue,r,w===pr),n[d]=r}Sr.ngInherit=!0;const Yi="__ngSimpleChanges__";function Ai(n){return n[Yi]||null}let hs=null;const Vi=function(n,r,a){null!=hs&&hs(n,r,a)},fs="math";function fi(n){for(;Array.isArray(n);)n=n[0];return n}function ft(n,r){return fi(r[n])}function Lt(n,r){return fi(r[n.index])}function Cn(n,r){return n.data[r]}function Nn(n,r){return n[r]}function Yn(n,r){const a=r[n];return _t(a)?a:a[0]}function Wr(n){return 64==(64&n[2])}function Vr(n,r){return null==r?null:n[r]}function ni(n){n[18]=0}function $i(n,r){n[5]+=r;let a=n,d=n[3];for(;null!==d&&(1===r&&1===a[5]||-1===r&&0===a[5]);)d[5]+=r,a=d,d=d[3]}const Er={lFrame:Ga(null),bindingsEnabled:!0};function Li(){return Er.bindingsEnabled}function es(){Er.bindingsEnabled=!0}function wo(){Er.bindingsEnabled=!1}function yn(){return Er.lFrame.lView}function $r(){return Er.lFrame.tView}function Do(n){return Er.lFrame.contextLView=n,n[8]}function Qi(n){return Er.lFrame.contextLView=null,n}function q(){let n=E();for(;null!==n&&64===n.type;)n=n.parent;return n}function E(){return Er.lFrame.currentTNode}function U(){const n=Er.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function ae(n,r){const a=Er.lFrame;a.currentTNode=n,a.isParent=r}function Bt(){return Er.lFrame.isParent}function gn(){Er.lFrame.isParent=!1}function H(){const n=Er.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ot(){return Er.lFrame.bindingIndex}function Jt(n){return Er.lFrame.bindingIndex=n}function Hr(){return Er.lFrame.bindingIndex++}function pi(n){const r=Er.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,a}function ys(n){Er.lFrame.inI18n=n}function bo(n,r){const a=Er.lFrame;a.bindingIndex=a.bindingRootIndex=n,$s(r)}function $s(n){Er.lFrame.currentDirectiveIndex=n}function qo(n){const r=Er.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function ac(){return Er.lFrame.currentQueryIndex}function ko(n){Er.lFrame.currentQueryIndex=n}function Ac(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Il(n,r,a){if(a&bt.SkipSelf){let p=r,_=n;for(;(p=p.parent,null===p&&!(a&bt.Host))&&(p=Ac(_),!(null===p||(_=_[15],10&p.type))););if(null===p)return!1;r=p,n=_}const d=Er.lFrame=cc();return d.currentTNode=r,d.lView=n,!0}function Wa(n){const r=cc(),a=n[1];Er.lFrame=r,r.currentTNode=a.firstChild,r.lView=n,r.tView=a,r.contextLView=n,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function cc(){const n=Er.lFrame,r=null===n?null:n.child;return null===r?Ga(n):r}function Ga(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function lc(){const n=Er.lFrame;return Er.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const V=lc;function T(){const n=lc();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function re(n){return(Er.lFrame.contextLView=function Pe(n,r){for(;n>0;)r=r[15],n--;return r}(n,Er.lFrame.contextLView))[8]}function Tt(){return Er.lFrame.selectedIndex}function Xt(n){Er.lFrame.selectedIndex=n}function On(){const n=Er.lFrame;return Cn(n.tView,n.selectedIndex)}function wr(){Er.lFrame.currentNamespace="svg"}function di(){Er.lFrame.currentNamespace=fs}function _i(){!function yi(){Er.lFrame.currentNamespace=null}()}function Oi(n,r){for(let a=r.directiveStart,d=r.directiveEnd;a<d;a++){const _=n.data[a].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:O,ngAfterViewInit:L,ngAfterViewChecked:K,ngOnDestroy:fe}=_;w&&(n.contentHooks||(n.contentHooks=[])).push(-a,w),O&&((n.contentHooks||(n.contentHooks=[])).push(a,O),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(a,O)),L&&(n.viewHooks||(n.viewHooks=[])).push(-a,L),K&&((n.viewHooks||(n.viewHooks=[])).push(a,K),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(a,K)),null!=fe&&(n.destroyHooks||(n.destroyHooks=[])).push(a,fe)}}function xi(n,r,a){la(n,r,3,a)}function Lo(n,r,a,d){(3&n[2])===a&&la(n,r,a,d)}function mo(n,r){let a=n[2];(3&a)===r&&(a&=2047,a+=1,n[2]=a)}function la(n,r,a,d){const p=void 0!==d?65535&n[18]:0,_=null!=d?d:-1,w=r.length-1;let O=0;for(let L=p;L<w;L++)if("number"==typeof r[L+1]){if(O=r[L],null!=d&&O>=d)break}else r[L]<0&&(n[18]+=65536),(O<_||-1==_)&&(Zo(n,a,r,L),n[18]=(4294901760&n[18])+L+2),L++}function Zo(n,r,a,d){const p=a[d]<0,_=a[d+1],O=n[p?-a[d]:a[d]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048,Vi(4,O,_);try{_.call(O)}finally{Vi(5,O,_)}}}else{Vi(4,O,_);try{_.call(O)}finally{Vi(5,O,_)}}}class Ji{constructor(r,a,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function ha(n,r,a){let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const _=a[d++],w=a[d++],O=a[d++];n.setAttribute(r,w,O,_)}else{const _=p,w=a[++d];uc(_)?n.setProperty(r,_,w):n.setAttribute(r,_,w),d++}}return d}function Qc(n){return 3===n||4===n||6===n}function uc(n){return 64===n.charCodeAt(0)}function Jc(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let a=-1;for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?a=p:0===a||Dl(n,a,p,null,-1===a||2===a?r[++d]:null)}}return n}function Dl(n,r,a,d,p){let _=0,w=n.length;if(-1===r)w=-1;else for(;_<n.length;){const O=n[_++];if("number"==typeof O){if(O===r){w=-1;break}if(O>r){w=_-1;break}}}for(;_<n.length;){const O=n[_];if("number"==typeof O)break;if(O===a){if(null===d)return void(null!==p&&(n[_+1]=p));if(d===n[_+1])return void(n[_+2]=p)}_++,null!==d&&_++,null!==p&&_++}-1!==w&&(n.splice(w,0,r),_=w+1),n.splice(_++,0,a),null!==d&&n.splice(_++,0,d),null!==p&&n.splice(_++,0,p)}function bs(n){return-1!==n}function Hs(n){return 32767&n}function _o(n,r){let a=function Xo(n){return n>>16}(n),d=r;for(;a>0;)d=d[15],a--;return d}let bl=!0;function Pn(n){const r=bl;return bl=n,r}let Ir=0;const ar={};function rr(n,r){const a=fn(n,r);if(-1!==a)return a;const d=r[1];d.firstCreatePass&&(n.injectorIndex=r.length,tn(d.data,n),tn(r,null),tn(d.blueprint,null));const p=vs(n,r),_=n.injectorIndex;if(bs(p)){const w=Hs(p),O=_o(p,r),L=O[1].data;for(let K=0;K<8;K++)r[_+K]=O[w+K]|L[w+K]}return r[_+8]=p,_}function tn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function fn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function vs(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,d=null,p=r;for(;null!==p;){if(d=Jr(p),null===d)return-1;if(a++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return-1}function za(n,r,a){!function Qo(n,r,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(Un)&&(d=a[Un]),null==d&&(d=a[Un]=Ir++);const p=255&d,_=1<<p;r.data[n+(p>>5)]|=_}(n,r,a)}function Wo(n,r,a){if(a&bt.Optional||void 0!==n)return n;yt()}function ro(n,r,a,d){if(a&bt.Optional&&void 0===d&&(d=null),0==(a&(bt.Self|bt.Host))){const p=n[9],_=cn(void 0);try{return p?p.get(r,d,a&bt.Optional):nr(r,d,a&bt.Optional)}finally{cn(_)}}return Wo(d,0,a)}function Zs(n,r,a,d=bt.Default,p){if(null!==n){if(1024&r[2]){const w=function Ya(n,r,a,d,p){let _=n,w=r;for(;null!==_&&null!==w&&1024&w[2]&&!(256&w[2]);){const O=Yu(_,w,a,d|bt.Self,ar);if(O!==ar)return O;let L=_.parent;if(!L){const K=w[21];if(K){const fe=K.get(a,ar,d);if(fe!==ar)return fe}L=Jr(w),w=w[15]}_=L}return p}(n,r,a,d,ar);if(w!==ar)return w}const _=Yu(n,r,a,d,ar);if(_!==ar)return _}return ro(r,a,d,p)}function Yu(n,r,a,d,p){const _=function Xs(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Un)?n[Un]:void 0;return"number"==typeof r?r>=0?255&r:au:r}(a);if("function"==typeof _){if(!Il(r,n,d))return d&bt.Host?Wo(p,0,d):ro(r,a,d,p);try{const w=_(d);if(null!=w||d&bt.Optional)return w;yt()}finally{V()}}else if("number"==typeof _){let w=null,O=fn(n,r),L=-1,K=d&bt.Host?r[16][6]:null;for((-1===O||d&bt.SkipSelf)&&(L=-1===O?vs(n,r):r[O+8],-1!==L&&zr(d,!1)?(w=r[1],O=Hs(L),r=_o(L,r)):O=-1);-1!==O;){const fe=r[1];if(Sc(_,O,fe.data)){const Ke=Ka(O,r,a,w,d,K);if(Ke!==ar)return Ke}L=r[O+8],-1!==L&&zr(d,r[1].data[O+8]===K)&&Sc(_,O,r)?(w=fe,O=Hs(L),r=_o(L,r)):O=-1}}return p}function Ka(n,r,a,d,p,_){const w=r[1],O=w.data[n+8],fe=fa(O,w,a,null==d?ut(O)&&bl:d!=w&&0!=(3&O.type),p&bt.Host&&_===O);return null!==fe?hc(r,w,fe,O):ar}function fa(n,r,a,d,p){const _=n.providerIndexes,w=r.data,O=1048575&_,L=n.directiveStart,K=n.directiveEnd,fe=_>>20,Dt=p?O+fe:K;for(let Yt=d?O:O+fe;Yt<Dt;Yt++){const mn=w[Yt];if(Yt<L&&a===mn||Yt>=L&&mn.type===a)return Yt}if(p){const Yt=w[L];if(Yt&&jt(Yt)&&Yt.type===a)return L}return null}function hc(n,r,a,d){let p=n[a];const _=r.data;if(function ua(n){return n instanceof Ji}(p)){const w=p;w.resolving&&function Ee(n,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${n}${a}`)}(be(_[a]));const O=Pn(w.canSeeViewProviders);w.resolving=!0;const L=w.injectImpl?cn(w.injectImpl):null;Il(n,d,bt.Default);try{p=n[a]=w.factory(void 0,_,n,d),r.firstCreatePass&&a>=d.directiveStart&&function os(n,r,a){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:_}=r.type.prototype;if(d){const w=Xr(r);(a.preOrderHooks||(a.preOrderHooks=[])).push(n,w),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,w)}p&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-n,p),_&&((a.preOrderHooks||(a.preOrderHooks=[])).push(n,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,_))}(a,_[a],r)}finally{null!==L&&cn(L),Pn(O),w.resolving=!1,V()}}return p}function Sc(n,r,a){const d=1<<n;return!!(a[r+(n>>5)]&d)}function zr(n,r){return!(n&bt.Self||n&bt.Host&&r)}class Jo{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,d){return Zs(this._tNode,this._lView,r,d,a)}}function au(){return new Jo(q(),yn())}function Kr(n){return hr(()=>{const r=n.prototype.constructor,a=r[vr]||Br(r),d=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==d;){const _=p[vr]||Br(p);if(_&&_!==a)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function Br(n){return de(n)?()=>{const r=Br(xe(n));return r&&r()}:Ar(n)}function Jr(n){const r=n[1],a=r.type;return 2===a?r.declTNode:1===a?n[6]:null}function yo(n){return function dc(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const a=n.attrs;if(a){const d=a.length;let p=0;for(;p<d;){const _=a[p];if(Qc(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<d&&"string"==typeof a[p];)p++;else{if(_===r)return a[p+1];p+=2}}}return null}(q(),n)}const Mi="__annotations__",Xn="__parameters__",ea="__prop__metadata__";function Fo(n,r,a,d,p){return hr(()=>{const _=Qs(r);function w(...O){if(this instanceof w)return _.call(this,...O),this;const L=new w(...O);return function(fe){return p&&p(fe,...O),(fe.hasOwnProperty(Mi)?fe[Mi]:Object.defineProperty(fe,Mi,{value:[]})[Mi]).push(L),d&&d(fe),fe}}return a&&(w.prototype=Object.create(a.prototype)),w.prototype.ngMetadataName=n,w.annotationCls=w,w})}function Qs(n){return function(...a){if(n){const d=n(...a);for(const p in d)this[p]=d[p]}}}function Ao(n,r,a){return hr(()=>{const d=Qs(r);function p(..._){if(this instanceof p)return d.apply(this,_),this;const w=new p(..._);return O.annotation=w,O;function O(L,K,fe){const Ke=L.hasOwnProperty(Xn)?L[Xn]:Object.defineProperty(L,Xn,{value:[]})[Xn];for(;Ke.length<=fe;)Ke.push(null);return(Ke[fe]=Ke[fe]||[]).push(w),L}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}function io(n,r,a,d){return hr(()=>{const p=Qs(r);function _(...w){if(this instanceof _)return p.apply(this,w),this;const O=new _(...w);return function L(K,fe){const Ke=K.constructor,Dt=Ke.hasOwnProperty(ea)?Ke[ea]:Object.defineProperty(Ke,ea,{value:{}})[ea];Dt[fe]=Dt.hasOwnProperty(fe)&&Dt[fe]||[],Dt[fe].unshift(O),d&&d(K,fe,...w)}}return a&&(_.prototype=Object.create(a.prototype)),_.prototype.ngMetadataName=n,_.annotationCls=_,_})}const qa=Ao("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>yo(n)}));class Di{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=St({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}new Di("AnalyzeForEntryComponents");class Ts{}const Rc=io("ContentChildren",(n,r={})=>Object.assign({selector:n,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:true},r),Ts),cu=io("ContentChild",(n,r={})=>Object.assign({selector:n,first:!0,isViewQuery:!1,descendants:!0},r),Ts),pa=(io("ViewChildren",(n,r={})=>Object.assign({selector:n,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:true},r),Ts),io("ViewChild",(n,r)=>Object.assign({selector:n,first:!0,isViewQuery:!0,descendants:!0},r),Ts));var So,nn,Oc;function Hi(n){const r=Bn.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}!function(n){n[n.Directive=0]="Directive",n[n.Component=1]="Component",n[n.Injectable=2]="Injectable",n[n.Pipe=3]="Pipe",n[n.NgModule=4]="NgModule"}(So||(So={})),function(n){n[n.Directive=0]="Directive",n[n.Pipe=1]="Pipe",n[n.NgModule=2]="NgModule"}(nn||(nn={})),function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(Oc||(Oc={}));const Ra=Function;function ta(n){return"function"==typeof n}function xs(n,r){void 0===r&&(r=n);for(let a=0;a<n.length;a++){let d=n[a];Array.isArray(d)?(r===n&&(r=n.slice(0,a)),xs(d,r)):r!==n&&r.push(d)}return r}function Go(n,r){n.forEach(a=>Array.isArray(a)?Go(a,r):r(a))}function Mc(n,r,a){r>=n.length?n.push(a):n.splice(r,0,a)}function pc(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function vo(n,r){const a=[];for(let d=0;d<n;d++)a.push(r);return a}function ji(n,r,a){let d=S(n,r);return d>=0?n[1|d]=a:(d=~d,function Ro(n,r,a,d){let p=n.length;if(p==r)n.push(a,d);else if(1===p)n.push(d,n[0]),n[0]=a;else{for(p--,n.push(n[p-1],n[p]);p>r;){const _=p-2;n[p]=n[_],p--}n[r]=a,n[r+1]=d}}(n,d,r,a)),d}function Wi(n,r){const a=S(n,r);if(a>=0)return n[1|a]}function S(n,r){return b(n,r,1)}function b(n,r,a){let d=0,p=n.length>>a;for(;p!==d;){const _=d+(p-d>>1),w=n[_<<a];if(r===w)return _<<a;w>r?p=_:d=_+1}return~(p<<a)}const k=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,W=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ce=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ve=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class sn{constructor(r){this._reflect=r||Bn.Reflect}factory(r){return(...a)=>new r(...a)}_zipTypesAndAnnotations(r,a){let d;d=vo(void 0===r?a.length:r.length);for(let p=0;p<d.length;p++)void 0===r?d[p]=[]:r[p]&&r[p]!=Object?d[p]=[r[p]]:d[p]=[],a&&null!=a[p]&&(d[p]=d[p].concat(a[p]));return d}_ownParameters(r,a){if(function rt(n){return k.test(n)||ve.test(n)||W.test(n)&&!ce.test(n)}(r.toString()))return null;if(r.parameters&&r.parameters!==a.parameters)return r.parameters;const p=r.ctorParameters;if(p&&p!==a.ctorParameters){const O="function"==typeof p?p():p,L=O.map(fe=>fe&&fe.type),K=O.map(fe=>fe&&qn(fe.decorators));return this._zipTypesAndAnnotations(L,K)}const _=r.hasOwnProperty(Xn)&&r[Xn],w=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",r);return w||_?this._zipTypesAndAnnotations(w,_):vo(r.length)}parameters(r){if(!ta(r))return[];const a=Ln(r);let d=this._ownParameters(r,a);return!d&&a!==Object&&(d=this.parameters(a)),d||[]}_ownAnnotations(r,a){if(r.annotations&&r.annotations!==a.annotations){let d=r.annotations;return"function"==typeof d&&d.annotations&&(d=d.annotations),d}return r.decorators&&r.decorators!==a.decorators?qn(r.decorators):r.hasOwnProperty(Mi)?r[Mi]:null}annotations(r){if(!ta(r))return[];const a=Ln(r),d=this._ownAnnotations(r,a)||[];return(a!==Object?this.annotations(a):[]).concat(d)}_ownPropMetadata(r,a){if(r.propMetadata&&r.propMetadata!==a.propMetadata){let d=r.propMetadata;return"function"==typeof d&&d.propMetadata&&(d=d.propMetadata),d}if(r.propDecorators&&r.propDecorators!==a.propDecorators){const d=r.propDecorators,p={};return Object.keys(d).forEach(_=>{p[_]=qn(d[_])}),p}return r.hasOwnProperty(ea)?r[ea]:null}propMetadata(r){if(!ta(r))return{};const a=Ln(r),d={};if(a!==Object){const _=this.propMetadata(a);Object.keys(_).forEach(w=>{d[w]=_[w]})}const p=this._ownPropMetadata(r,a);return p&&Object.keys(p).forEach(_=>{const w=[];d.hasOwnProperty(_)&&w.push(...d[_]),w.push(...p[_]),d[_]=w}),d}ownPropMetadata(r){return ta(r)&&this._ownPropMetadata(r,Ln(r))||{}}hasLifecycleHook(r,a){return r instanceof Ra&&a in r.prototype}}function qn(n){return n?n.map(r=>new(0,r.type.annotationCls)(...r.args?r.args:[])):[]}function Ln(n){const r=n.prototype?Object.getPrototypeOf(n.prototype):null;return(r?r.constructor:null)||Object}const Yr={},Ci="__NG_DI_FLAG__",Is="ngTempTokenPath",ho=/\n/gm,ma="__source";let Oo;function ts(n){const r=Oo;return Oo=n,r}function xc(n,r=bt.Default){if(void 0===Oo)throw new Ge(-203,!1);return null===Oo?nr(n,void 0,r):Oo.get(n,r&bt.Optional?null:void 0,r)}function ns(n,r=bt.Default){return(function Et(){return rn}()||xc)(xe(n),r)}function Al(n){throw new Ge(202,!1)}function Nc(n,r=bt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),ns(n,r)}function uu(n){const r=[];for(let a=0;a<n.length;a++){const d=xe(n[a]);if(Array.isArray(d)){if(0===d.length)throw new Ge(900,!1);let p,_=bt.Default;for(let w=0;w<d.length;w++){const O=d[w],L=qu(O);"number"==typeof L?-1===L?p=O.token:_|=L:p=O}r.push(ns(p,_))}else r.push(ns(d))}return r}function zo(n,r){return n[Ci]=r,n.prototype[Ci]=r,n}function qu(n){return n[Ci]}function Sl(n,r,a,d){const p=n[Is];throw r[ma]&&p.unshift(r[ma]),n.message=function tl(n,r,a,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let p=Ce(r);if(Array.isArray(r))p=r.map(Ce).join(" -> ");else if("object"==typeof r){let _=[];for(let w in r)if(r.hasOwnProperty(w)){let O=r[w];_.push(w+":"+("string"==typeof O?JSON.stringify(O):Ce(O)))}p=`{${_.join(", ")}}`}return`${a}${d?"("+d+")":""}[${p}]: ${n.replace(ho,"\n  ")}`}("\n"+n.message,p,a,d),n.ngTokenPath=p,n[Is]=null,n}const Rl=zo(Ao("Inject",n=>({token:n})),-1),Oa=zo(Ao("Optional"),8),wi=zo(Ao("Self"),2),vi=zo(Ao("SkipSelf"),4),gi=zo(Ao("Host"),1);let Ma=null;function Fi(){return Ma=Ma||new sn}function kc(n){return oo(Fi().parameters(n))}function oo(n){return n.map(r=>function nl(n){const r={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let a=0;a<n.length;a++){const d=n[a];if(void 0===d)continue;const p=Object.getPrototypeOf(d);if(d instanceof Oa||"Optional"===p.ngMetadataName)r.optional=!0;else if(d instanceof vi||"SkipSelf"===p.ngMetadataName)r.skipSelf=!0;else if(d instanceof wi||"Self"===p.ngMetadataName)r.self=!0;else if(d instanceof gi||"Host"===p.ngMetadataName)r.host=!0;else if(d instanceof Rl)r.token=d.token;else if(d instanceof qa){if(void 0===d.attributeName)throw new Ge(204,!1);r.attribute=d.attributeName}else r.token=d}else void 0===n||Array.isArray(n)&&0===n.length?r.token=null:r.token=n;return r}(r))}let Zi=new Map;const ri=new Set;function Lc(n){return!!(n.templateUrl&&!n.hasOwnProperty("template")||n.styleUrls&&n.styleUrls.length)}const na=new Map;let Gd,mi,Ns,Zu=!0;function Wd(n,r){(function du(n,r,a){if(r&&r!==a&&Zu)throw new Error(`Duplicate module registered for ${n} - ${Ce(r)} vs ${Ce(r.name)}`)})(r,na.get(r)||null,n),na.set(r,n)}function mc(n){Gd=n}function Ws(){return void 0!==Gd?Gd:"undefined"!=typeof document?document:void 0}function rl(){if(void 0===mi&&(mi=null,Bn.trustedTypes))try{mi=Bn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return mi}function Za(n){var r;return(null===(r=rl())||void 0===r?void 0:r.createHTML(n))||n}function hu(){if(void 0===Ns&&(Ns=null,Bn.trustedTypes))try{Ns=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ns}function Io(n){var r;return(null===(r=hu())||void 0===r?void 0:r.createHTML(n))||n}function Xu(n){var r;return(null===(r=hu())||void 0===r?void 0:r.createScript(n))||n}function xa(n){var r;return(null===(r=hu())||void 0===r?void 0:r.createScriptURL(n))||n}class Ms{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ol extends Ms{getTypeName(){return"HTML"}}class Ml extends Ms{getTypeName(){return"Style"}}class Qu extends Ms{getTypeName(){return"Script"}}class Ju extends Ms{getTypeName(){return"URL"}}class ks extends Ms{getTypeName(){return"ResourceURL"}}function _a(n){return n instanceof Ms?n.changingThisBreaksApplicationSecurity:n}function yc(n,r){const a=function sf(n){return n instanceof Ms&&n.getTypeName()||null}(n);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===r}function of(n){return new Ol(n)}function af(n){return new Ml(n)}function cs(n){return new Qu(n)}function ed(n){return new Ju(n)}function Ip(n){return new ks(n)}function Pl(n){const r=new Na(n);return function M(){try{return!!(new window.DOMParser).parseFromString(Za(""),"text/html")}catch(n){return!1}}()?new td(r):r}class td{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const a=(new window.DOMParser).parseFromString(Za(r),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(r):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Na{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const d=this.inertDocument.createElement("body");a.appendChild(d)}}getInertBodyElement(r){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Za(r),a;const d=this.inertDocument.createElement("body");return d.innerHTML=Za(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(r){const a=r.attributes;for(let p=a.length-1;0<p;p--){const w=a.item(p).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&r.removeAttribute(w)}let d=r.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function C(n){return(n=String(n)).match(g)?n:"unsafe:"+n}function N(n){const r={};for(const a of n.split(","))r[a]=!0;return r}function pe(...n){const r={};for(const a of n)for(const d in a)a.hasOwnProperty(d)&&(r[d]=!0);return r}const ze=N("area,br,col,hr,img,wbr"),Ft=N("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wn=N("rp,rt"),Dr=pe(wn,Ft),Ur=pe(Ft,N("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),br=pe(wn,N("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bi=pe(ze,Ur,br,Dr),ra=N("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qa=N("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nd=N("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Fc=pe(ra,Qa,nd),rd=N("script,style,template");class id{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let a=r.firstChild,d=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?d=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,d&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let p=this.checkClobberedElement(a,a.nextSibling);if(p){a=p;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(r){const a=r.nodeName.toLowerCase();if(!Bi.hasOwnProperty(a))return this.sanitizedSomething=!0,!rd.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const d=r.attributes;for(let p=0;p<d.length;p++){const _=d.item(p),w=_.name,O=w.toLowerCase();if(!Fc.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let L=_.value;ra[O]&&(L=C(L)),this.buf.push(" ",w,'="',Bc(L),'"')}return this.buf.push(">"),!0}endElement(r){const a=r.nodeName.toLowerCase();Bi.hasOwnProperty(a)&&!ze.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(r){this.buf.push(Bc(r))}checkClobberedElement(r,a){if(a&&(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return a}}const ya=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bo=/([^\#-~ |!])/g;function Bc(n){return n.replace(/&/g,"&amp;").replace(ya,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Bo,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xl;function il(n,r){let a=null;try{xl=xl||Pl(n);let d=r?String(r):"";a=xl.getInertBodyElement(d);let p=5,_=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=_,_=a.innerHTML,a=xl.getInertBodyElement(d)}while(d!==_);return Za((new id).sanitizeChildren(ia(a)||a))}finally{if(a){const d=ia(a)||a;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ia(n){return"content"in n&&function zd(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var sa;function Gs(n){const r=od();return r?Io(r.sanitize(sa.HTML,n)||""):yc(n,"HTML")?Io(_a(n)):il(Ws(),Me(n))}function Ui(n){const r=od();return r?r.sanitize(sa.STYLE,n)||"":yc(n,"Style")?_a(n):Me(n)}function cf(n){const r=od();return r?r.sanitize(sa.URL,n)||"":yc(n,"URL")?_a(n):C(Me(n))}function Kd(n){const r=od();if(r)return xa(r.sanitize(sa.RESOURCE_URL,n)||"");if(yc(n,"ResourceURL"))return xa(_a(n));throw new Ge(904,!1)}function Nl(n){const r=od();if(r)return Xu(r.sanitize(sa.SCRIPT,n)||"");if(yc(n,"Script"))return Xu(_a(n));throw new Ge(905,!1)}function Cp(n){return Za(n[0])}function va(n){return function Pa(n){var r;return(null===(r=rl())||void 0===r?void 0:r.createScriptURL(n))||n}(n[0])}function sd(n,r,a){return function Yd(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Kd:cf}(r,a)(n)}function od(){const n=yn();return n&&n[12]}!function(n){n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL"}(sa||(sa={}));const Uc=new Di("ENVIRONMENT_INITIALIZER"),fu=new Di("INJECTOR",-1),lf=new Di("INJECTOR_DEF_TYPES");class ci{get(r,a=Yr){if(a===Yr){const d=new Error(`NullInjectorError: No provider for ${Ce(r)}!`);throw d.name="NullInjectorError",d}return a}}function n_(...n){return{\u0275providers:qd(!0,n)}}function qd(n,...r){const a=[],d=new Set;let p;return Go(r,_=>{const w=_;gu(w,a,[],d)&&(p||(p=[]),p.push(w))}),void 0!==p&&pu(p,a),a}function pu(n,r){for(let a=0;a<n.length;a++){const{ngModule:d,providers:p}=n[a];Go(p,_=>{r.push(_)})}}function gu(n,r,a,d){if(!(n=xe(n)))return!1;let p=null,_=Mn(n);const w=!_&&Y(n);if(_||w){if(w&&!w.standalone)return!1;p=n}else{const L=n.ngModule;if(_=Mn(L),!_)return!1;p=L}const O=d.has(p);if(w){if(O)return!1;if(d.add(p),w.dependencies){const L="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const K of L)gu(K,r,a,d)}}else{if(!_)return!1;{if(null!=_.imports&&!O){let K;d.add(p);try{Go(_.imports,fe=>{gu(fe,r,a,d)&&(K||(K=[]),K.push(fe))})}finally{}void 0!==K&&pu(K,r)}if(!O){const K=Ar(p)||(()=>new p);r.push({provide:p,useFactory:K,deps:zn},{provide:lf,useValue:p,multi:!0},{provide:Uc,useValue:()=>ns(p),multi:!0})}const L=_.providers;if(null!=L&&!O){Go(L,fe=>{r.push(fe)})}}}return p!==n&&void 0!==n.providers}const Ug=Ie({provide:String,useValue:Ie});function Ea(n){return null!==n&&"object"==typeof n&&Ug in n}function Zd(n){return!(!n||!n.useExisting)}function uf(n){return!(!n||!n.useFactory)}function Vc(n){return"function"==typeof n}const mu=new Di("Set Injector scope."),$c={},ad={};let Ia;function Qd(){return void 0===Ia&&(Ia=new ci),Ia}class _u{}class zs extends _u{constructor(r,a,d,p){super(),this.parent=a,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ls(r,w=>this.processProvider(w)),this.records.set(fu,sl(void 0,this)),p.has("environment")&&this.records.set(_u,sl(void 0,this));const _=this.records.get(mu);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(lf.multi,zn,bt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const a=ts(this),d=cn(void 0);try{return r()}finally{ts(a),cn(d)}}get(r,a=Yr,d=bt.Default){this.assertNotDestroyed();const p=ts(this),_=cn(void 0);try{if(!(d&bt.SkipSelf)){let O=this.records.get(r);if(void 0===O){const L=function df(n){return"function"==typeof n||"object"==typeof n&&n instanceof Di}(r)&&an(r);O=L&&this.injectableDefInScope(L)?sl(Jd(r),$c):null,this.records.set(r,O)}if(null!=O)return this.hydrate(r,O)}const w=d&bt.Self?Qd():this.parent;return a=d&bt.Optional&&a===Yr?null:a,w.get(r,a)}catch(w){if("NullInjectorError"===w.name){if((w[Is]=w[Is]||[]).unshift(Ce(r)),p)throw w;return Sl(w,r,"R3InjectorError",this.source)}throw w}finally{cn(_),ts(p)}}resolveInjectorInitializers(){const r=ts(this),a=cn(void 0);try{const d=this.get(Uc.multi,zn,bt.Self);for(const p of d)p()}finally{ts(r),cn(a)}}toString(){const r=[],a=this.records;for(const d of a.keys())r.push(Ce(d));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(r){let a=Vc(r=xe(r))?r:xe(r&&r.provide);const d=function kl(n){if(Ea(n))return sl(void 0,n.useValue);return sl(oa(n),$c)}(r);if(Vc(r)||!0!==r.multi){this.records.get(a)}else{let p=this.records.get(a);p||(p=sl(void 0,$c,!0),p.factory=()=>uu(p.multi),this.records.set(a,p)),a=r,p.multi.push(r)}this.records.set(a,d)}hydrate(r,a){return a.value===$c&&(a.value=ad,a.value=a.factory()),"object"==typeof a.value&&a.value&&function vc(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=xe(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Jd(n){const r=an(n),a=null!==r?r.factory:Ar(n);if(null!==a)return a;if(n instanceof Di)throw new Ge(204,!1);if(n instanceof Function)return function Vg(n){const r=n.length;if(r>0){vo(r,"?");throw new Ge(204,!1)}const a=function tr(n){const r=n&&(n[z]||n[Vt]);if(r){const a=function jn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),r}return null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new Ge(204,!1)}function oa(n,r,a){let d;if(Vc(n)){const p=xe(n);return Ar(p)||Jd(p)}if(Ea(n))d=()=>xe(n.useValue);else if(uf(n))d=()=>n.useFactory(...uu(n.deps||[]));else if(Zd(n))d=()=>ns(xe(n.useExisting));else{const p=xe(n&&(n.useClass||n.provide));if(!function eh(n){return!!n.deps}(n))return Ar(p)||Jd(p);d=()=>new p(...uu(n.deps))}return d}function sl(n,r,a=!1){return{factory:n,value:r,multi:a?[]:void 0}}function $g(n){return!!n.\u0275providers}function ls(n,r){for(const a of n)Array.isArray(a)?ls(a,r):$g(a)?ls(a.\u0275providers,r):r(a)}class cd{}const th="ngComponent";class Ll{resolveComponentFactory(r){throw function yu(n){const r=Error(`No component factory found for ${Ce(n)}. Did you add it to @NgModule.entryComponents?`);return r[th]=n,r}(r)}}class ol{}function Fl(n,r){return new ec(Lt(n,r))}ol.NULL=new Ll;class ec{constructor(r){this.nativeElement=r}}function jg(n){return n instanceof ec?n.nativeElement:n}ec.__NG_ELEMENT_ID__=function al(){return Fl(q(),yn())};new Di("Renderer2Interceptor");class vu{}class Eu{}Eu.__NG_ELEMENT_ID__=()=>function r_(){const n=yn(),a=Yn(q().index,n);return(_t(a)?a:n)[11]}();class bp{}bp.\u0275prov=St({token:bp,providedIn:"root",factory:()=>null});class Wg{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Tp=new Wg("14.2.6"),Uo={};const Pp="ngOriginalError";function rh(n){return n[Pp]}class ih{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&rh(r);for(;a&&rh(a);)a=rh(a);return a||null}}const Zg=/^>|^->|<!--|-->|--!>|<!-$/g,o_=/(<|>)/;function pf(n){return n.replace(Zg,r=>r.replace(o_,"\u200b$1\u200b"))}const ld=new Map;let oh=0;const Iu="__ngContext__";function Mo(n,r){_t(r)?(n[Iu]=r[20],function Qg(n){ld.set(n[20],n)}(r)):n[Iu]=r}function nm(n){return n.ownerDocument.defaultView}function rm(n){return n.ownerDocument}function Hl(n){return n.ownerDocument.body}function Ca(n){return n instanceof Function?n():n}var ul;let ch;function Ef(n,r){return ch(n,r)}!function(n){n[n.Important=1]="Important",n[n.DashCase=2]="DashCase"}(ul||(ul={}));function ud(n){const r=n[3];return $t(r)?r[3]:r}function uh(n){return wu(n[13])}function dd(n){return wu(n[4])}function wu(n){for(;null!==n&&!$t(n);)n=n[4];return n}function ka(n,r,a,d,p){if(null!=d){let _,w=!1;$t(d)?_=d:_t(d)&&(w=!0,d=d[0]);const O=fi(d);0===n&&null!==a?null==p?fd(r,a,O):Fa(r,a,O,p||null,!0):1===n&&null!==a?Fa(r,a,O,p||null,!0):2===n?mh(r,O,w):3===n&&r.destroyNode(O),null!=_&&function md(n,r,a,d,p){const _=a[7],w=fi(a);_!==w&&ka(r,n,d,_,p);for(let O=10;O<a.length;O++){const L=a[O];gd(L[1],L,n,r,d,_)}}(r,n,_,a,p)}}function La(n,r){return n.createText(r)}function Cf(n,r,a){n.setValue(r,a)}function jl(n,r){return n.createComment(pf(r))}function wf(n,r,a){return n.createElement(r,a)}function Fp(n,r,a,d){const p=10+d,_=a.length;d>0&&(a[p-1][4]=r),d<_-10?(r[4]=a[p],Mc(a,10+d,r)):(a.push(r),r[4]=null),r[3]=a;const w=r[17];null!==w&&a!==w&&function c_(n,r){const a=n[9],p=r[3][3][16];r[16]!==p&&(n[2]=!0),null===a?n[9]=[r]:a.push(r)}(w,r);const O=r[19];null!==O&&O.insertView(n),r[2]|=64}function hd(n,r){const a=n[9],d=a.indexOf(r),p=r[3];512&r[2]&&(r[2]&=-513,$i(p,-1)),a.splice(d,1)}function Bp(n,r){if(n.length<=10)return;const a=10+r,d=n[a];if(d){const p=d[17];null!==p&&p!==n&&hd(p,d),r>0&&(n[a-1][4]=d[4]);const _=pc(n,10+r);!function jc(n,r){gd(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(d[1],d);const w=_[19];null!==w&&w.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function hh(n,r){if(!(128&r[2])){const a=r[11];a.destroyNode&&gd(n,r,a,3,null,null),function Df(n){let r=n[13];if(!r)return bf(n[1],n);for(;r;){let a=null;if(_t(r))a=r[13];else{const d=r[10];d&&(a=d)}if(!a){for(;r&&!r[4]&&r!==n;)_t(r)&&bf(r[1],r),r=r[3];null===r&&(r=n),_t(r)&&bf(r[1],r),a=r&&r[4]}r=a}}(r)}}function bf(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Tf(n,r){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let d=0;d<a.length;d+=2){const p=r[a[d]];if(!(p instanceof Ji)){const _=a[d+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const O=p[_[w]],L=_[w+1];Vi(4,O,L);try{L.call(O)}finally{Vi(5,O,L)}}else{Vi(4,p,_);try{_.call(p)}finally{Vi(5,p,_)}}}}}(n,r),function Up(n,r){const a=n.cleanup,d=r[7];let p=-1;if(null!==a)for(let _=0;_<a.length-1;_+=2)if("string"==typeof a[_]){const w=a[_+1],O="function"==typeof w?w(r):fi(r[w]),L=d[p=a[_+2]],K=a[_+3];"boolean"==typeof K?O.removeEventListener(a[_],L,K):K>=0?d[p=K]():d[p=-K].unsubscribe(),_+=2}else{const w=d[p=a[_+1]];a[_].call(w)}if(null!==d){for(let _=p+1;_<d.length;_++){(0,d[_])()}r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const a=r[17];if(null!==a&&$t(r[3])){a!==r[3]&&hd(a,r);const d=r[19];null!==d&&d.detachView(n)}!function em(n){ld.delete(n[20])}(r)}}function am(n,r,a){return Af(n,r.parent,a)}function Af(n,r,a){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return a[0];if(2&d.flags){const p=n.data[d.directiveStart].encapsulation;if(p===bn.None||p===bn.Emulated)return null}return Lt(d,a)}function Fa(n,r,a,d,p){n.insertBefore(r,a,d,p)}function fd(n,r,a){n.appendChild(r,a)}function Sf(n,r,a,d,p){null!==d?Fa(n,r,a,d,p):fd(n,r,a)}function Du(n,r){return n.parentNode(r)}function Wl(n,r,a){return po(n,r,a)}function pd(n,r,a){return 40&n.type?Lt(n,a):null}let Vp,po=pd;function fh(n,r){po=n,Vp=r}function ph(n,r,a,d){const p=am(n,d,r),_=r[11],O=Wl(d.parent||r[6],d,r);if(null!=p)if(Array.isArray(a))for(let L=0;L<a.length;L++)Sf(_,p,a[L],O,!1);else Sf(_,p,a,O,!1);void 0!==Vp&&Vp(_,d,r,a,p)}function Mf(n,r){if(null!==r){const a=r.type;if(3&a)return Lt(r,n);if(4&a)return gh(-1,n[r.index]);if(8&a){const d=r.child;if(null!==d)return Mf(n,d);{const p=n[r.index];return $t(p)?gh(-1,p):fi(p)}}if(32&a)return Ef(r,n)()||fi(n[r.index]);{const d=bu(n,r);if(null!==d){if(Array.isArray(d))return d[0];return Mf(ud(n[16]),d)}return Mf(n,r.next)}}return null}function bu(n,r){if(null!==r){const d=n[16][6],p=r.projection;return d.projection[p]}return null}function gh(n,r){const a=10+n+1;if(a<r.length){const d=r[a],p=d[1].firstChild;if(null!==p)return Mf(d,p)}return r[7]}function mh(n,r,a){const d=Du(n,r);d&&function Rf(n,r,a,d){n.removeChild(r,a,d)}(n,d,r,a)}function $p(n,r,a,d,p,_,w){for(;null!=a;){const O=d[a.index],L=a.type;if(w&&0===r&&(O&&Mo(fi(O),d),a.flags|=4),64!=(64&a.flags))if(8&L)$p(n,r,a.child,d,p,_,!1),ka(r,n,p,O,_);else if(32&L){const K=Ef(a,d);let fe;for(;fe=K();)ka(r,n,p,fe,_);ka(r,n,p,O,_)}else 16&L?Tu(n,r,d,a,p,_):ka(r,n,p,O,_);a=w?a.projectionNext:a.next}}function gd(n,r,a,d,p,_){$p(a,d,n.firstChild,r,p,_,!1)}function Tu(n,r,a,d,p,_){const w=a[16],L=w[6].projection[d.projection];if(Array.isArray(L))for(let K=0;K<L.length;K++){ka(r,n,p,L[K],_)}else{$p(n,r,L,w[3],p,_,!0)}}function Gl(n,r,a){n.setAttribute(r,"style",a)}function Da(n,r,a){""===a?n.removeAttribute(r,"class"):n.setAttribute(r,"class",a)}function Au(n,r,a){let d=n.length;for(;;){const p=n.indexOf(r,a);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const _=r.length;if(p+_===d||n.charCodeAt(p+_)<=32)return p}a=p+1}}const xf="ng-template";function Nf(n,r,a){let d=0;for(;d<n.length;){let p=n[d++];if(a&&"class"===p){if(p=n[d],-1!==Au(p.toLowerCase(),r,0))return!0}else if(1===p){for(;d<n.length&&"string"==typeof(p=n[d++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function zl(n){return 4===n.type&&n.value!==xf}function yh(n,r,a){return r===(4!==n.type||a?n.value:xf)}function lm(n,r,a){let d=4;const p=n.attrs||[],_=function Su(n){for(let r=0;r<n.length;r++){if(Qc(n[r]))return r}return n.length}(p);let w=!1;for(let O=0;O<r.length;O++){const L=r[O];if("number"!=typeof L){if(!w)if(4&d){if(d=2|1&d,""!==L&&!yh(n,L,a)||""===L&&1===r.length){if(Js(d))return!1;w=!0}}else{const K=8&d?L:r[++O];if(8&d&&null!==n.attrs){if(!Nf(n.attrs,K,a)){if(Js(d))return!1;w=!0}continue}const Ke=Hp(8&d?"class":L,p,zl(n),a);if(-1===Ke){if(Js(d))return!1;w=!0;continue}if(""!==K){let Dt;Dt=Ke>_?"":p[Ke+1].toLowerCase();const Yt=8&d?Dt:null;if(Yt&&-1!==Au(Yt,K,0)||2&d&&K!==Dt){if(Js(d))return!1;w=!0}}}}else{if(!w&&!Js(d)&&!Js(L))return!1;if(w&&Js(L))continue;w=!1,d=L|1&d}}return Js(d)||w}function Js(n){return 0==(1&n)}function Hp(n,r,a,d){if(null===r)return-1;let p=0;if(d||!a){let _=!1;for(;p<r.length;){const w=r[p];if(w===n)return p;if(3===w||6===w)_=!0;else{if(1===w||2===w){let O=r[++p];for(;"string"==typeof O;)O=r[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=_?1:2}return-1}return function aa(n,r){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const d=n[a];if("number"==typeof d)return-1;if(d===r)return a;a++}return-1}(r,n)}function um(n,r,a=!1){for(let d=0;d<r.length;d++)if(lm(n,r[d],a))return!0;return!1}function vh(n,r){e:for(let a=0;a<r.length;a++){const d=r[a];if(n.length===d.length){for(let p=0;p<n.length;p++)if(n[p]!==d[p])continue e;return!0}}return!1}function jp(n,r){return n?":not("+r.trim()+")":r}function Wp(n){let r=n[0],a=1,d=2,p="",_=!1;for(;a<n.length;){let w=n[a];if("string"==typeof w)if(2&d){const O=n[++a];p+="["+w+(O.length>0?'="'+O+'"':"")+"]"}else 8&d?p+="."+w:4&d&&(p+=" "+w);else""!==p&&!Js(w)&&(r+=jp(_,p),p=""),d=w,_=_||!Js(d);a++}return""!==p&&(r+=jp(_,p)),r}const si={};function Gp(n){Kl($r(),yn(),Tt()+n,!1)}function Kl(n,r,a,d){if(!d)if(3==(3&r[2])){const _=n.preOrderCheckHooks;null!==_&&xi(r,_,a)}else{const _=n.preOrderHooks;null!==_&&Lo(r,_,0,a)}Xt(a)}const kf={\u0275\u0275defineInjectable:St,\u0275\u0275defineInjector:qt,\u0275\u0275inject:ns,\u0275\u0275invalidFactoryDep:Al,resolveForwardRef:xe};function zp(n,r){let a=null,d=null;n.hasOwnProperty(z)||Object.defineProperty(n,z,{get:()=>(null===a&&(a=Hi().compileInjectable(kf,`ng:///${n.name}/\u0275prov.js`,function Yp(n,r){const a=r||{providedIn:null},d={name:n.name,type:n,typeArgumentCount:0,providedIn:a.providedIn};return(Ru(a)||Eh(a))&&void 0!==a.deps&&(d.deps=oo(a.deps)),Ru(a)?d.useClass=a.useClass:function Yl(n){return Kp in n}(a)?d.useValue=a.useValue:Eh(a)?d.useFactory=a.useFactory:function Ih(n){return void 0!==n.useExisting}(a)&&(d.useExisting=a.useExisting),d}(n,r))),a)}),n.hasOwnProperty(vr)||Object.defineProperty(n,vr,{get:()=>{if(null===d){const p=Hi();d=p.compileFactory(kf,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:kc(n),target:p.FactoryTarget.Injectable})}return d},configurable:!0})}const Kp=Ie({provide:String,useValue:Ie});function Ru(n){return void 0!==n.useClass}function Eh(n){return void 0!==n.useFactory}const qp=Fo("Injectable",void 0,void 0,void 0,(n,r)=>zp(n,r));function Zp(n,r=null,a=null,d){const p=Xp(n,r,a,d);return p.resolveInjectorInitializers(),p}function Xp(n,r=null,a=null,d,p=new Set){const _=[a||zn,n_(n)];return d=d||("object"==typeof n?void 0:Ce(n)),new zs(_,r||Qd(),d||null,p)}class ba{static create(r,a){var d;if(Array.isArray(r))return Zp({name:""},a,r,"");{const p=null!==(d=r.name)&&void 0!==d?d:"";return Zp({name:p},r.parent,r.providers,p)}}}function Qp(n){if(n.length>1){return" ("+function u_(n){const r=[];for(let a=0;a<n.length;++a){if(r.indexOf(n[a])>-1)return r.push(n[a]),r;r.push(n[a])}return r}(n.slice().reverse()).map(d=>Ce(d.token)).join(" -> ")+")"}return""}function Ch(n,r,a,d){const p=[r],_=a(p),w=d?function qg(n,r){const a=`${n} caused by: ${r instanceof Error?r.message:r}`,d=Error(a);return d[Pp]=r,d}(_,d):Error(_);return w.addKey=Jp,w.keys=p,w.injectors=[n],w.constructResolvingMessage=a,w[Pp]=d,w}function Jp(n,r){this.injectors.push(n),this.keys.push(r),this.message=this.constructResolvingMessage(this.keys)}function Ff(n,r){const a=[];for(let d=0,p=r.length;d<p;d++){const _=r[d];_&&0!=_.length?a.push(_.map(Ce).join(" ")):a.push("?")}return Error("Cannot resolve all parameters for '"+Ce(n)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Ce(n)+"' is decorated with Injectable.")}function d_(n,r){return Error(`Cannot mix multi providers and regular providers, got: ${n} ${r}`)}ba.THROW_IF_NOT_FOUND=Yr,ba.NULL=new ci,ba.\u0275prov=St({token:ba,providedIn:"any",factory:()=>ns(fu)}),ba.__NG_ELEMENT_ID__=-1;class Ba{constructor(r,a){if(this.token=r,this.id=a,!r)throw new Ge(208,!1);this.displayName=Ce(this.token)}static get(r){return tg.get(xe(r))}static get numberOfKeys(){return tg.numberOfKeys}}const tg=new class eg{constructor(){this._allKeys=new Map}get(r){if(r instanceof Ba)return r;if(this._allKeys.has(r))return this._allKeys.get(r);const a=new Ba(r,Ba.numberOfKeys);return this._allKeys.set(r,a),a}get numberOfKeys(){return this._allKeys.size}};class wh{constructor(r,a,d){this.key=r,this.optional=a,this.visibility=d}static fromKey(r){return new wh(r,!1,null)}}const _d=[];class Ou{constructor(r,a,d){this.key=r,this.resolvedFactories=a,this.multiProvider=d,this.resolvedFactory=this.resolvedFactories[0]}}class ql{constructor(r,a){this.factory=r,this.dependencies=a}}function Dh(n){let r,a;if(n.useClass){const d=xe(n.useClass);r=Fi().factory(d),a=Ah(d)}else n.useExisting?(r=d=>d,a=[wh.fromKey(Ba.get(n.useExisting))]):n.useFactory?(r=n.useFactory,a=function Vf(n,r){if(r){const a=r.map(d=>[d]);return r.map(d=>rc(n,d,a))}return Ah(n)}(n.useFactory,n.deps)):(r=()=>n.useValue,a=_d);return new ql(r,a)}function Uf(n){return new Ou(Ba.get(n.provide),[Dh(n)],n.multi||!1)}function bh(n){const d=function Th(n,r){for(let a=0;a<n.length;a++){const d=n[a],p=r.get(d.key.id);if(p){if(d.multiProvider!==p.multiProvider)throw d_(p,d);if(d.multiProvider)for(let _=0;_<d.resolvedFactories.length;_++)p.resolvedFactories.push(d.resolvedFactories[_]);else r.set(d.key.id,d)}else{let _;_=d.multiProvider?new Ou(d.key,d.resolvedFactories.slice(),d.multiProvider):d,r.set(d.key.id,_)}}return r}(ng(n,[]).map(Uf),new Map);return Array.from(d.values())}function ng(n,r){return n.forEach(a=>{if(a instanceof Ra)r.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)r.push(a);else{if(!Array.isArray(a))throw function hm(n){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${n}`)}(a);ng(a,r)}}),r}function Ah(n){const r=Fi().parameters(n);if(!r)return[];if(r.some(a=>null==a))throw Ff(n,r);return r.map(a=>rc(n,a,r))}function rc(n,r,a){let d=null,p=!1;if(!Array.isArray(r))return Sh(r instanceof Rl?r.token:r,p,null);let _=null;for(let w=0;w<r.length;++w){const O=r[w];O instanceof Ra?d=O:O instanceof Rl?d=O.token:O instanceof Oa?p=!0:O instanceof wi||O instanceof vi?_=O:O instanceof Di&&(d=O)}if(d=xe(d),null!=d)return Sh(d,p,_);throw Ff(n,a)}function Sh(n,r,a){return new wh(Ba.get(n),r,a)}const Po={};class Kc{static resolve(r){return bh(r)}static resolveAndCreate(r,a){const d=Kc.resolve(r);return Kc.fromResolvedProviders(d,a)}static fromResolvedProviders(r,a){return new Ua(r,a)}}class Ua{constructor(r,a){this._constructionCounter=0,this._providers=r,this.parent=a||null;const d=r.length;this.keyIds=[],this.objs=[];for(let p=0;p<d;p++)this.keyIds[p]=r[p].key.id,this.objs[p]=Po}get(r,a=Yr){return this._getByKey(Ba.get(r),null,a)}resolveAndCreateChild(r){const a=Kc.resolve(r);return this.createChildFromResolved(a)}createChildFromResolved(r){const a=new Ua(r);return a.parent=this,a}resolveAndInstantiate(r){return this.instantiateResolved(Kc.resolve([r])[0])}instantiateResolved(r){return this._instantiateProvider(r)}getProviderAtIndex(r){if(r<0||r>=this._providers.length)throw function Bf(n){return Error(`Index ${n} is out-of-bounds.`)}(r);return this._providers[r]}_new(r){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function Gc(n,r){return Ch(n,r,function(a){return`Cannot instantiate cyclic dependency!${Qp(a)}`})}(this,r.key);return this._instantiateProvider(r)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(r){if(r.multiProvider){const a=[];for(let d=0;d<r.resolvedFactories.length;++d)a[d]=this._instantiate(r,r.resolvedFactories[d]);return a}return this._instantiate(r,r.resolvedFactories[0])}_instantiate(r,a){const d=a.factory;let p,_;try{p=a.dependencies.map(w=>this._getByReflectiveDependency(w))}catch(w){throw w.addKey&&w.addKey(this,r.key),w}try{_=d(...p)}catch(w){throw function zc(n,r,a,d){return Ch(n,d,function(p){const _=Ce(p[0].token);return`${r.message}: Error during instantiation of ${_}!${Qp(p)}.`},r)}(this,w,w.stack,r.key)}return _}_getByReflectiveDependency(r){return this._getByKey(r.key,r.visibility,r.optional?null:Yr)}_getByKey(r,a,d){return r===Ua.INJECTOR_KEY?this:a instanceof wi?this._getByKeySelf(r,d):this._getByKeyDefault(r,d,a)}_getObjByKeyId(r){for(let a=0;a<this.keyIds.length;a++)if(this.keyIds[a]===r)return this.objs[a]===Po&&(this.objs[a]=this._new(this._providers[a])),this.objs[a];return Po}_throwOrNull(r,a){if(a!==Yr)return a;throw function Lf(n,r){return Ch(n,r,function(a){return`No provider for ${Ce(a[0].token)}!${Qp(a)}`})}(this,r)}_getByKeySelf(r,a){const d=this._getObjByKeyId(r.id);return d!==Po?d:this._throwOrNull(r,a)}_getByKeyDefault(r,a,d){let p;for(p=d instanceof vi?this.parent:this;p instanceof Ua;){const _=p,w=_._getObjByKeyId(r.id);if(w!==Po)return w;p=_.parent}return null!==p?p.get(r.token,a):this._throwOrNull(r,a)}get displayName(){return`ReflectiveInjector(providers: [${function yd(n,r){const a=[];for(let d=0;d<n._providers.length;++d)a[d]=r(n.getProviderAtIndex(d));return a}(this,a=>' "'+a.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}function $o(n,r=bt.Default){const a=yn();if(null===a)return ns(n,r);return Zs(q(),a,xe(n),r)}function Yc(){throw new Error("invalid")}function Mu(n,r){return n<<17|r<<2}function xo(n){return n>>17&32767}function Ed(n){return 2==(2&n)}function ig(n){return 2|n}function Ic(n){return(131068&n)>>2}function $f(n,r){return-131069&n|r<<2}function sg(n){return 1==(1&n)}function og(n){return 1|n}Ua.INJECTOR_KEY=Ba.get(ba);function Nh(n,r){const a=n.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const p=a[d],_=a[d+1];if(-1!==_){const w=n.data[_];ko(p),w.contentQueries(2,r[_],_)}}}function Kf(n,r,a,d,p,_,w,O,L,K,fe){const Ke=r.blueprint.slice();return Ke[0]=p,Ke[2]=76|d,(null!==fe||n&&1024&n[2])&&(Ke[2]|=1024),ni(Ke),Ke[3]=Ke[15]=n,Ke[8]=a,Ke[10]=w||n&&n[10],Ke[11]=O||n&&n[11],Ke[12]=L||n&&n[12]||null,Ke[9]=K||n&&n[9]||null,Ke[6]=_,Ke[20]=function Bl(){return oh++}(),Ke[21]=fe,Ke[16]=2==r.type?n[16]:Ke,Ke}function pl(n,r,a,d,p){let _=n.data[r];if(null===_)_=Yf(n,r,a,d,p),function Os(){return Er.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=a,_.value=d,_.attrs=p;const w=U();_.injectorIndex=null===w?-1:w.injectorIndex}return ae(_,!0),_}function Yf(n,r,a,d,p){const _=E(),w=Bt(),O=w?_:_&&_.parent,L=n.data[r]=function Dm(n,r,a,d,p,_){let w=r?r.injectorIndex:-1;return{type:a,index:d,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,O,a,r,d,p);return null===n.firstChild&&(n.firstChild=L),null!==_&&(w?null==_.child&&null!==L.parent&&(_.child=L):null===_.next&&(_.next=L)),L}function wd(n,r,a,d){if(0===a)return-1;const p=r.length;for(let _=0;_<a;_++)r.push(d),n.blueprint.push(d),n.data.push(null);return p}function kh(n,r,a){Wa(r);try{const d=n.viewQuery;null!==d&&gl(1,d,a);const p=n.template;null!==p&&Zf(n,r,p,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Nh(n,r),n.staticViewQueries&&gl(2,n.viewQuery,a);const _=n.components;null!==_&&function hg(n,r){for(let a=0;a<r.length;a++)Rm(n,r[a])}(r,_)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{r[2]&=-5,T()}}function qf(n,r,a,d){const p=r[2];if(128==(128&p))return;Wa(r);try{ni(r),Jt(n.bindingStartIndex),null!==a&&Zf(n,r,a,2,d);const w=3==(3&p);if(w){const K=n.preOrderCheckHooks;null!==K&&xi(r,K,null)}else{const K=n.preOrderHooks;null!==K&&Lo(r,K,0,null),mo(r,0)}if(function Eg(n){for(let r=uh(n);null!==r;r=dd(r)){if(!r[2])continue;const a=r[9];for(let d=0;d<a.length;d++){const p=a[d],_=p[3];0==(512&p[2])&&$i(_,1),p[2]|=512}}}(r),function v_(n){for(let r=uh(n);null!==r;r=dd(r))for(let a=10;a<r.length;a++){const d=r[a],p=d[1];Wr(d)&&qf(p,d,p.template,d[8])}}(r),null!==n.contentQueries&&Nh(n,r),w){const K=n.contentCheckHooks;null!==K&&xi(r,K)}else{const K=n.contentHooks;null!==K&&Lo(r,K,1),mo(r,1)}!function g_(n,r){const a=n.hostBindingOpCodes;if(null!==a)try{for(let d=0;d<a.length;d++){const p=a[d];if(p<0)Xt(~p);else{const _=p,w=a[++d],O=a[++d];bo(w,_),O(2,r[_])}}}finally{Xt(-1)}}(n,r);const O=n.components;null!==O&&function m_(n,r){for(let a=0;a<r.length;a++)sp(n,r[a])}(r,O);const L=n.viewQuery;if(null!==L&&gl(2,L,d),w){const K=n.viewCheckHooks;null!==K&&xi(r,K)}else{const K=n.viewHooks;null!==K&&Lo(r,K,2),mo(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,$i(r[3],-1))}finally{T()}}function Zf(n,r,a,d,p){const _=Tt(),w=2&d;try{Xt(-1),w&&r.length>22&&Kl(n,r,22,!1),Vi(w?2:0,p),a(d,p)}finally{Xt(_),Vi(w?3:1,p)}}function Im(n,r,a){if(we(r)){const d=r.directiveStart,p=r.directiveEnd;for(let _=d;_<p;_++){const w=n.data[_];w.contentQueries&&w.contentQueries(1,a[_],_)}}}function Lh(n,r,a){!Li()||(function mg(n,r,a,d){const p=a.directiveStart,_=a.directiveEnd;n.firstCreatePass||rr(a,r),Mo(d,r);const w=a.initialInputs;for(let O=p;O<_;O++){const L=n.data[O],K=jt(L);K&&Tm(r,a,L);const fe=hc(r,n,O,a);if(Mo(fe,r),null!==w&&ip(r,O-p,fe,L,a,w),K){Yn(a.index,r)[8]=fe}}}(n,r,a,Lt(a,r)),128==(128&a.flags)&&function y_(n,r,a){const d=a.directiveStart,p=a.directiveEnd,_=a.index,w=function Sa(){return Er.lFrame.currentDirectiveIndex}();try{Xt(_);for(let O=d;O<p;O++){const L=n.data[O],K=r[O];$s(O),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&np(L,K)}}finally{Xt(-1),$s(w)}}(n,r,a))}function fg(n,r,a=Lt){const d=r.localNames;if(null!==d){let p=r.index+1;for(let _=0;_<d.length;_+=2){const w=d[_+1],O=-1===w?a(r,n):n[w];n[p++]=O}}}function Xf(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Qf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Qf(n,r,a,d,p,_,w,O,L,K){const fe=22+d,Ke=fe+p,Dt=function Cm(n,r){const a=[];for(let d=0;d<r;d++)a.push(d<n?null:si);return a}(fe,Ke),Yt="function"==typeof K?K():K;return Dt[1]={type:n,blueprint:Dt,template:a,queries:null,viewQuery:O,declTNode:r,data:Dt.slice().fill(null,fe),bindingStartIndex:fe,expandoStartIndex:Ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:L,consts:Yt,incompleteFirstPass:!1}}function Jf(n,r,a,d){const p=Jl(r);null===a?p.push(d):(p.push(a),n.firstCreatePass&&ms(n).push(d,p.length-1))}function ep(n,r,a){for(let d in n)if(n.hasOwnProperty(d)){a=null===a?{}:a;const p=n[d];a.hasOwnProperty(d)?a[d].push(r,p):a[d]=[r,p]}return a}function Zc(n,r){const a=r.directiveStart,d=r.directiveEnd,p=n.data,_=r.attrs,w=[];let O=null,L=null;for(let K=a;K<d;K++){const fe=p[K],Ke=fe.inputs,Dt=null===_||zl(r)?null:Am(Ke,_);w.push(Dt),O=ep(Ke,K,O),L=ep(fe.outputs,K,L)}null!==O&&(O.hasOwnProperty("class")&&(r.flags|=16),O.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=w,r.inputs=O,r.outputs=L}function $a(n,r,a,d,p,_,w,O){const L=Lt(r,a);let fe,K=r.inputs;!O&&null!=K&&(fe=K[d])?(ml(n,a,fe,d,p),ut(r)&&Cc(a,r.index)):3&r.type?(d=function pg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),p=null!=w?w(p,r.value||"",d):p,_.setProperty(L,d,p)):r.type}function Cc(n,r){const a=Yn(r,n);16&a[2]||(a[2]|=32)}function gg(n,r,a,d){let p=!1;if(Li()){const _=function _g(n,r,a){const d=n.directiveRegistry;let p=null;if(d)for(let _=0;_<d.length;_++){const w=d[_];um(a,w.selectors,!1)&&(p||(p=[]),za(rr(a,r),n,w.type),jt(w)?(Bh(n,a),p.unshift(w)):p.push(w))}return p}(n,r,a),w=null===d?null:{"":-1};if(null!==_){p=!0,Dd(a,n.data.length,_.length);for(let fe=0;fe<_.length;fe++){const Ke=_[fe];Ke.providersResolver&&Ke.providersResolver(Ke)}let O=!1,L=!1,K=wd(n,r,_.length,null);for(let fe=0;fe<_.length;fe++){const Ke=_[fe];a.mergedAttrs=Jc(a.mergedAttrs,Ke.hostAttrs),rp(n,a,r,K,Ke),bm(K,Ke,w),null!==Ke.contentQueries&&(a.flags|=8),(null!==Ke.hostBindings||null!==Ke.hostAttrs||0!==Ke.hostVars)&&(a.flags|=128);const Dt=Ke.type.prototype;!O&&(Dt.ngOnChanges||Dt.ngOnInit||Dt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(a.index),O=!0),!L&&(Dt.ngOnChanges||Dt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(a.index),L=!0),K++}Zc(n,a)}w&&function yg(n,r,a){if(r){const d=n.localNames=[];for(let p=0;p<r.length;p+=2){const _=a[r[p+1]];if(null==_)throw new Ge(-301,!1);d.push(r[p],_)}}}(a,d,w)}return a.mergedAttrs=Jc(a.mergedAttrs,a.attrs),p}function tp(n,r,a,d,p,_){const w=_.hostBindings;if(w){let O=n.hostBindingOpCodes;null===O&&(O=n.hostBindingOpCodes=[]);const L=~r.index;(function __(n){let r=n.length;for(;r>0;){const a=n[--r];if("number"==typeof a&&a<0)return a}return 0})(O)!=L&&O.push(L),O.push(d,p,w)}}function np(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Bh(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function bm(n,r,a){if(a){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)a[r.exportAs[d]]=n;jt(r)&&(a[""]=n)}}function Dd(n,r,a){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+a,n.providerIndexes=r}function rp(n,r,a,d,p){n.data[d]=p;const _=p.factory||(p.factory=Ar(p.type)),w=new Ji(_,jt(p),$o);n.blueprint[d]=w,a[d]=w,tp(n,r,0,d,wd(n,a,p.hostVars,si),p)}function Tm(n,r,a){const d=Lt(r,n),p=Xf(a),_=n[10],w=Lu(n,Kf(n,p,null,a.onPush?32:16,d,r,_,_.createRenderer(d,a),null,null,null));n[r.index]=w}function oc(n,r,a,d,p,_){const w=Lt(n,r);Uh(r[11],w,_,n.value,a,d,p)}function Uh(n,r,a,d,p,_,w){if(null==_)n.removeAttribute(r,p,a);else{const O=null==w?Me(_):w(_,d||"",p);n.setAttribute(r,p,O,a)}}function ip(n,r,a,d,p,_){const w=_[r];if(null!==w){const O=d.setInput;for(let L=0;L<w.length;){const K=w[L++],fe=w[L++],Ke=w[L++];null!==O?d.setInput(a,Ke,K,fe):a[fe]=Ke}}}function Am(n,r){let a=null,d=0;for(;d<r.length;){const p=r[d];if(0!==p)if(5!==p){if("number"==typeof p)break;n.hasOwnProperty(p)&&(null===a&&(a=[]),a.push(p,n[p],r[d+1])),d+=2}else d+=2;else d+=4}return a}function vg(n,r,a,d){return new Array(n,!0,!1,r,null,0,d,a,null,null)}function sp(n,r){const a=Yn(r,n);if(Wr(a)){const d=a[1];48&a[2]?qf(d,a,d.template,a[8]):a[5]>0&&op(a)}}function op(n){for(let d=uh(n);null!==d;d=dd(d))for(let p=10;p<d.length;p++){const _=d[p];if(Wr(_))if(512&_[2]){const w=_[1];qf(w,_,w.template,_[8])}else _[5]>0&&op(_)}const a=n[1].components;if(null!==a)for(let d=0;d<a.length;d++){const p=Yn(a[d],n);Wr(p)&&p[5]>0&&op(p)}}function Rm(n,r){const a=Yn(r,n),d=a[1];(function Ig(n,r){for(let a=r.length;a<n.blueprint.length;a++)r.push(n.blueprint[a])})(d,a),kh(d,a,a[8])}function Lu(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Ri(n){for(;n;){n[2]|=32;const r=ud(n);if(en(n)&&!r)return n;n=r}return null}function Vh(n,r,a,d=!0){const p=r[10];p.begin&&p.begin();try{qf(n,r,n.template,a)}catch(w){throw d&&wc(r,w),w}finally{p.end&&p.end()}}function gl(n,r,a){ko(0),r(n,a)}function Jl(n){return n[7]||(n[7]=[])}function ms(n){return n.cleanup||(n.cleanup=[])}function eo(n,r,a){return(null===n||jt(n))&&(a=function Ze(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(a[r.index])),a[11]}function wc(n,r){const a=n[9],d=a?a.get(ih,null):null;d&&d.handleError(r)}function ml(n,r,a,d,p){for(let _=0;_<a.length;){const w=a[_++],O=a[_++],L=r[w],K=n.data[w];null!==K.setInput?K.setInput(L,p,d,O):L[O]=p}}function Dc(n,r,a){const d=ft(r,n);Cf(n[11],d,a)}function eu(n,r,a){let d=a?n.styles:null,p=a?n.classes:null,_=0;if(null!==r)for(let w=0;w<r.length;w++){const O=r[w];if("number"==typeof O)_=O;else if(1==_)p=$e(p,O);else if(2==_){d=$e(d,O+": "+r[++w]+";")}}a?n.styles=d:n.stylesWithoutHost=d,a?n.classes=p:n.classesWithoutHost=p}function Td(n,r,a,d,p=!1){for(;null!==a;){const _=r[a.index];if(null!==_&&d.push(fi(_)),$t(_))for(let O=10;O<_.length;O++){const L=_[O],K=L[1].firstChild;null!==K&&Td(L[1],L,K,d)}const w=a.type;if(8&w)Td(n,r,a.child,d);else if(32&w){const O=Ef(a,r);let L;for(;L=O();)d.push(L)}else if(16&w){const O=bu(r,a);if(Array.isArray(O))d.push(...O);else{const L=ud(r[16]);Td(L[1],L,O,d,!0)}}a=p?a.projectionNext:a.next}return d}class _l{constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,a=r[1];return Td(a,r,a.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if($t(r)){const a=r[8],d=a?a.indexOf(this):-1;d>-1&&(Bp(r,d),pc(a,d))}this._attachedToViewContainer=!1}hh(this._lView[1],this._lView)}onDestroy(r){Jf(this._lView[1],this._lView,null,r)}markForCheck(){Ri(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Vh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wc(n,r){gd(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=r}}class Cg extends _l{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Vh(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class bc extends ol{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=Y(r);return new $h(a,this.ngModule)}}function Ad(n){const r=[];for(let a in n)if(n.hasOwnProperty(a)){const d=n[a];r.push({propName:d,templateName:a})}return r}class Sd{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,d){const p=this.injector.get(r,Uo,d);return p!==Uo||a===Uo?p:this.parentInjector.get(r,a,d)}}class $h extends cd{constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function dm(n){return n.map(Wp).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Ad(this.componentDef.inputs)}get outputs(){return Ad(this.componentDef.outputs)}create(r,a,d,p){let _=(p=p||this.ngModule)instanceof _u?p:null==p?void 0:p.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new Sd(r,_):r,O=w.get(vu,null);if(null===O)throw new Ge(407,!1);const L=w.get(bp,null),K=O.createRenderer(null,this.componentDef),fe=this.componentDef.selectors[0][0]||"div",Ke=d?function wm(n,r,a){const d=a===bn.ShadowDom;return n.selectRootElement(r,d)}(K,d,this.componentDef.encapsulation):wf(O.createRenderer(null,this.componentDef),fe,function E_(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?fs:null}(fe)),Dt=this.componentDef.onPush?288:272,Yt=Qf(0,null,null,1,0,null,null,null,null,null),mn=Kf(null,Yt,null,Dt,null,null,O,K,L,w,null);let er,mr;Wa(mn);try{const kr=function wg(n,r,a,d,p,_){const w=a[1],O=22;a[O]=n;const L=pl(w,O,2,"#host",null),K=L.mergedAttrs=r.hostAttrs;null!==K&&(eu(L,K,!0),null!==n&&(ha(p,n,K),null!==L.classes&&Da(p,n,L.classes),null!==L.styles&&Gl(p,n,L.styles)));const fe=d.createRenderer(n,r),Ke=Kf(a,Xf(r),null,r.onPush?32:16,a[O],L,d,fe,_||null,null,null);return w.firstCreatePass&&(za(rr(L,a),w,r.type),Bh(w,L),Dd(L,a.length,1)),Lu(a,Ke),a[O]=Ke}(Ke,this.componentDef,mn,O,K);if(Ke)if(d)ha(K,Ke,["ng-version",Tp.full]);else{const{attrs:qr,classes:kn}=function l_(n){const r=[],a=[];let d=1,p=2;for(;d<n.length;){let _=n[d];if("string"==typeof _)2===p?""!==_&&r.push(_,n[++d]):8===p&&a.push(_);else{if(!Js(p))break;p=_}d++}return{attrs:r,classes:a}}(this.componentDef.selectors[0]);qr&&ha(K,Ke,qr),kn&&kn.length>0&&Da(K,Ke,kn.join(" "))}if(mr=Cn(Yt,22),void 0!==a){const qr=mr.projection=[];for(let kn=0;kn<this.ngContentSelectors.length;kn++){const oi=a[kn];qr.push(null!=oi?Array.from(oi):null)}}er=function Bu(n,r,a,d){const p=a[1],_=function ku(n,r,a){const d=q();n.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),rp(n,d,r,wd(n,r,1,null),a),Zc(n,d));const p=hc(r,n,d.directiveStart,d);Mo(p,r);const _=Lt(d,r);return _&&Mo(_,r),p}(p,a,r);if(n[8]=a[8]=_,null!==d)for(const O of d)O(_,r);if(r.contentQueries){const O=q();r.contentQueries(1,_,O.directiveStart)}const w=q();if(p.firstCreatePass&&(null!==r.hostBindings||null!==r.hostAttrs)){Xt(w.index);tp(a[1],w,0,w.directiveStart,w.directiveEnd,r),np(r,_)}return _}(kr,this.componentDef,mn,[u]),kh(Yt,mn,null)}finally{T()}return new I_(this.componentType,er,Fl(mr,mn),mn,mr)}}new bc;class I_ extends class Ec{}{constructor(r,a,d,p,_){super(),this.location=d,this._rootLView=p,this._tNode=_,this.instance=a,this.hostView=this.changeDetectorRef=new Cg(p),this.componentType=r}setInput(r,a){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[r])){const _=this._rootLView;ml(_[1],_,p,r,a),Cc(_,this._tNode.index)}}get injector(){return new Jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function u(){const n=q();Oi(yn()[1],n)}function i(n){return Object.getPrototypeOf(n.prototype).constructor}function l(n){let r=i(n.type),a=!0;const d=[n];for(;r;){let p;if(jt(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ge(903,!1);p=r.\u0275dir}if(p){if(a){d.push(p);const w=n;w.inputs=y(n.inputs),w.declaredInputs=y(n.declaredInputs),w.outputs=y(n.outputs);const O=p.hostBindings;O&&ne(n,O);const L=p.viewQuery,K=p.contentQueries;if(L&&A(n,L),K&&F(n,K),le(n.inputs,p.inputs),le(n.declaredInputs,p.declaredInputs),le(n.outputs,p.outputs),jt(p)&&p.data.animation){const fe=n.data;fe.animation=(fe.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let w=0;w<_.length;w++){const O=_[w];O&&O.ngInherit&&O(n),O===l&&(a=!1)}}r=Object.getPrototypeOf(r)}!function f(n){let r=0,a=null;for(let d=n.length-1;d>=0;d--){const p=n[d];p.hostVars=r+=p.hostVars,p.hostAttrs=Jc(p.hostAttrs,a=Jc(a,p.hostAttrs))}}(d)}function y(n){return n===pr?{}:n===zn?[]:n}function A(n,r){const a=n.viewQuery;n.viewQuery=a?(d,p)=>{r(d,p),a(d,p)}:r}function F(n,r){const a=n.contentQueries;n.contentQueries=a?(d,p,_)=>{r(d,p,_),a(d,p,_)}:r}function ne(n,r){const a=n.hostBindings;n.hostBindings=a?(d,p)=>{r(d,p),a(d,p)}:r}const he=["providersResolver"],We=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function wt(n){let a,r=i(n.type);a=jt(n)?r.\u0275cmp:r.\u0275dir;const d=n;for(const p of he)d[p]=a[p];if(jt(a))for(const p of We)d[p]=a[p]}let Pt=null;function Gt(){if(!Pt){const n=Bn.Symbol;if(n&&n.iterator)Pt=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<r.length;++a){const d=r[a];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Pt=d)}}}return Pt}function dr(n){return!!Ls(n)&&(Array.isArray(n)||!(n instanceof Map)&&Gt()in n)}function Ls(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function us(n,r,a){return n[r]=a}function Ks(n,r){return n[r]}function co(n,r,a){const d=n[r];return!Object.is(d,a)&&(n[r]=a,!0)}function Ta(n,r,a,d){const p=co(n,r,a);return co(n,r+1,d)||p}function Rd(n,r,a,d,p){const _=Ta(n,r,a,d);return co(n,r+2,p)||_}function Ko(n,r,a,d,p,_){const w=Ta(n,r,a,d);return Ta(n,r+2,p,_)||w}function ds(n,r,a,d){const p=yn();if(co(p,Hr(),r)){$r();oc(On(),p,n,r,a,d)}return ds}function Dg(n,r){let a=!1,d=ot();for(let _=1;_<r.length;_+=2)a=co(n,d++,r[_])||a;if(Jt(d),!a)return si;let p=r[0];for(let _=1;_<r.length;_+=2)p+=Me(r[_])+r[_+1];return p}function bg(n,r,a,d){return co(n,Hr(),a)?r+Me(a)+d:si}function Fs(n,r,a,d,p,_){const O=Ta(n,ot(),a,p);return pi(2),O?r+Me(a)+d+Me(p)+_:si}function jh(n,r,a,d,p,_,w,O){const K=Rd(n,ot(),a,p,w);return pi(3),K?r+Me(a)+d+Me(p)+_+Me(w)+O:si}function ap(n,r,a,d,p,_,w,O,L,K){const Ke=Ko(n,ot(),a,p,w,L);return pi(4),Ke?r+Me(a)+d+Me(p)+_+Me(w)+O+Me(L)+K:si}function cp(n,r,a,d,p,_,w,O,L,K,fe,Ke){const Dt=ot();let Yt=Ko(n,Dt,a,p,w,L);return Yt=co(n,Dt+4,fe)||Yt,pi(5),Yt?r+Me(a)+d+Me(p)+_+Me(w)+O+Me(L)+K+Me(fe)+Ke:si}function Wh(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt){const mn=ot();let er=Ko(n,mn,a,p,w,L);return er=Ta(n,mn+4,fe,Dt)||er,pi(6),er?r+Me(a)+d+Me(p)+_+Me(w)+O+Me(L)+K+Me(fe)+Ke+Me(Dt)+Yt:si}function lp(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er){const mr=ot();let kr=Ko(n,mr,a,p,w,L);return kr=Rd(n,mr+4,fe,Dt,mn)||kr,pi(7),kr?r+Me(a)+d+Me(p)+_+Me(w)+O+Me(L)+K+Me(fe)+Ke+Me(Dt)+Yt+Me(mn)+er:si}function up(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr,kr){const qr=ot();let kn=Ko(n,qr,a,p,w,L);return kn=Ko(n,qr+4,fe,Dt,mn,mr)||kn,pi(8),kn?r+Me(a)+d+Me(p)+_+Me(w)+O+Me(L)+K+Me(fe)+Ke+Me(Dt)+Yt+Me(mn)+er+Me(mr)+kr:si}function ry(n,r,a,d,p,_){const w=yn(),O=bg(w,r,a,d);if(O!==si){oc(On(),w,n,O,p,_)}return ry}function iy(n,r,a,d,p,_,w,O){const L=yn(),K=Fs(L,r,a,d,p,_);if(K!==si){oc(On(),L,n,K,w,O)}return iy}function ev(n,r,a,d,p,_,w,O,L,K){const fe=yn(),Ke=jh(fe,r,a,d,p,_,w,O);if(Ke!==si){oc(On(),fe,n,Ke,L,K)}return ev}function sy(n,r,a,d,p,_,w,O,L,K,fe,Ke){const Dt=yn(),Yt=ap(Dt,r,a,d,p,_,w,O,L,K);if(Yt!==si){oc(On(),Dt,n,Yt,fe,Ke)}return sy}function oy(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt){const mn=yn(),er=cp(mn,r,a,d,p,_,w,O,L,K,fe,Ke);if(er!==si){oc(On(),mn,n,er,Dt,Yt)}return oy}function C_(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er){const mr=yn(),kr=Wh(mr,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt);if(kr!==si){oc(On(),mr,n,kr,mn,er)}return C_}function yl(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr,kr){const qr=yn(),kn=lp(qr,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er);if(kn!==si){oc(On(),qr,n,kn,mr,kr)}return yl}function tu(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr,kr,qr,kn){const oi=yn(),ss=up(oi,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr,kr);if(ss!==si){oc(On(),oi,n,ss,qr,kn)}return tu}function tv(n,r,a,d){const p=yn(),_=Dg(p,r);if(_!==si){oc(On(),p,n,_,a,d)}return tv}function ay(n,r,a,d,p,_,w,O){const L=yn(),K=$r(),fe=n+22,Ke=K.firstCreatePass?function Mm(n,r,a,d,p,_,w,O,L){const K=r.consts,fe=pl(r,n,4,w||null,Vr(K,O));gg(r,a,fe,Vr(K,L)),Oi(r,fe);const Ke=fe.tViews=Qf(2,fe,d,p,_,r.directiveRegistry,r.pipeRegistry,null,r.schemas,K);return null!==r.queries&&(r.queries.template(r,fe),Ke.queries=r.queries.embeddedTView(fe)),fe}(fe,K,L,r,a,d,p,_,w):K.data[fe];ae(Ke,!1);const Dt=L[11].createComment("");ph(K,L,Dt,Ke),Mo(Dt,L),Lu(L,L[fe]=vg(Dt,L,Dt,Ke)),Mt(Ke)&&Lh(K,L,Ke),null!=w&&fg(L,Ke,O)}function w_(n){return Nn(function xr(){return Er.lFrame.contextLView}(),22+n)}function Pm(n,r,a){const d=yn();if(co(d,Hr(),r)){$a($r(),On(),d,n,r,d[11],a,!1)}return Pm}function dp(n,r,a,d,p){const w=p?"class":"style";ml(n,a,r.inputs[w],w,d)}function nu(n,r,a,d){const p=yn(),_=$r(),w=22+n,O=p[11],L=p[w]=wf(O,r,function Gr(){return Er.lFrame.currentNamespace}()),K=_.firstCreatePass?function rv(n,r,a,d,p,_,w){const O=r.consts,K=pl(r,n,2,p,Vr(O,_));return gg(r,a,K,Vr(O,w)),null!==K.attrs&&eu(K,K.attrs,!1),null!==K.mergedAttrs&&eu(K,K.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,K),K}(w,_,p,0,r,a,d):_.data[w];ae(K,!0);const fe=K.mergedAttrs;null!==fe&&ha(O,L,fe);const Ke=K.classes;null!==Ke&&Da(O,L,Ke);const Dt=K.styles;return null!==Dt&&Gl(O,L,Dt),64!=(64&K.flags)&&ph(_,p,L,K),0===function no(){return Er.lFrame.elementDepthCount}()&&Mo(L,p),function _s(){Er.lFrame.elementDepthCount++}(),Mt(K)&&(Lh(_,p,K),Im(_,K,p)),null!==d&&fg(p,K),nu}function zh(){let n=q();Bt()?gn():(n=n.parent,ae(n,!1));const r=n;!function ki(){Er.lFrame.elementDepthCount--}();const a=$r();return a.firstCreatePass&&(Oi(a,n),we(n)&&a.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ud(n){return 0!=(16&n.flags)}(r)&&dp(a,r,yn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Cl(n){return 0!=(32&n.flags)}(r)&&dp(a,r,yn(),r.stylesWithoutHost,!1),zh}function Kh(n,r,a,d){return nu(n,r,a,d),zh(),Kh}function hp(n,r,a){const d=yn(),p=$r(),_=n+22,w=p.firstCreatePass?function cy(n,r,a,d,p){const _=r.consts,w=Vr(_,d),O=pl(r,n,8,"ng-container",w);return null!==w&&eu(O,w,!0),gg(r,a,O,Vr(_,p)),null!==r.queries&&r.queries.elementStart(r,O),O}(_,p,d,r,a):p.data[_];ae(w,!0);const O=d[_]=d[11].createComment("");return ph(p,d,O,w),Mo(O,d),Mt(w)&&(Lh(p,d,w),Im(p,w,d)),null!=a&&fg(d,w),hp}function xm(){let n=q();const r=$r();return Bt()?gn():(n=n.parent,ae(n,!1)),r.firstCreatePass&&(Oi(r,n),we(n)&&r.queries.elementEnd(n)),xm}function D_(n,r,a){return hp(n,r,a),xm(),D_}function ly(){return yn()}function Tg(n){return!!n&&"function"==typeof n.then}function Nm(n){return!!n&&"function"==typeof n.subscribe}const b_=Nm;function Uu(n,r,a,d){const p=yn(),_=$r(),w=q();return km(_,p,p[11],w,n,r,!!a,d),Uu}function T_(n,r){const a=q(),d=yn(),p=$r();return km(p,d,eo(qo(p.data),a,d),a,n,r,!1),T_}function km(n,r,a,d,p,_,w,O){const L=Mt(d),fe=n.firstCreatePass&&ms(n),Ke=r[8],Dt=Jl(r);let Yt=!0;if(3&d.type||O){const mr=Lt(d,r),kr=O?O(mr):mr,qr=Dt.length,kn=O?ss=>O(fi(ss[d.index])):d.index;let oi=null;if(!O&&L&&(oi=function uy(n,r,a,d){const p=n.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const w=p[_];if(w===a&&p[_+1]===d){const O=r[7],L=p[_+2];return O.length>L?O[L]:null}"string"==typeof w&&(_+=2)}return null}(n,r,p,d.index)),null!==oi){(oi.__ngLastListenerFn__||oi).__ngNextListenerFn__=_,oi.__ngLastListenerFn__=_,Yt=!1}else{_=dy(d,r,Ke,_,!1);const ss=a.listen(kr,p,_);Dt.push(_,ss),fe&&fe.push(p,kn,qr,qr+1)}}else _=dy(d,r,Ke,_,!1);const mn=d.outputs;let er;if(Yt&&null!==mn&&(er=mn[p])){const mr=er.length;if(mr)for(let kr=0;kr<mr;kr+=2){const qr=er[kr],kn=er[kr+1],go=r[qr][kn].subscribe(_),kg=Dt.length;Dt.push(_,go),fe&&fe.push(p,d.index,kg,-(kg+1))}}}function Lm(n,r,a,d){try{return Vi(6,r,a),!1!==a(d)}catch(p){return wc(n,p),!1}finally{Vi(7,r,a)}}function dy(n,r,a,d,p){return function _(w){if(w===Function)return d;Ri(2&n.flags?Yn(n.index,r):r);let L=Lm(r,a,d,w),K=_.__ngNextListenerFn__;for(;K;)L=Lm(r,a,K,w)&&L,K=K.__ngNextListenerFn__;return p&&!1===L&&(w.preventDefault(),w.returnValue=!1),L}}function Ag(n=1){return re(n)}function Fm(n,r){let a=null;const d=function hl(n){const r=n.attrs;if(null!=r){const a=r.indexOf(5);if(0==(1&a))return r[a+1]}return null}(n);for(let p=0;p<r.length;p++){const _=r[p];if("*"!==_){if(null===d?um(n,_,!0):vh(d,_))return p}else a=p}return a}function A_(n){const r=yn()[16][6];if(!r.projection){const a=n?n.length:1,d=r.projection=vo(a,null),p=d.slice();let _=r.child;for(;null!==_;){const w=n?Fm(_,n):0;null!==w&&(p[w]?p[w].projectionNext=_:d[w]=_,p[w]=_),_=_.next}}}function fp(n,r=0,a){const d=yn(),p=$r(),_=pl(p,22+n,16,null,a||null);null===_.projection&&(_.projection=r),gn(),64!=(64&_.flags)&&function _h(n,r,a){Tu(r[11],0,r,a,am(n,a,r),Wl(a.parent||r[6],a,r))}(p,d,_)}function hy(n,r,a){return pp(n,"",r,"",a),hy}function pp(n,r,a,d,p){const _=yn(),w=bg(_,r,a,d);if(w!==si){$a($r(),On(),_,n,w,_[11],p,!1)}return pp}function S_(n,r,a,d,p,_,w){const O=yn(),L=Fs(O,r,a,d,p,_);if(L!==si){$a($r(),On(),O,n,L,O[11],w,!1)}return S_}function gp(n,r,a,d,p,_,w,O,L){const K=yn(),fe=jh(K,r,a,d,p,_,w,O);if(fe!==si){$a($r(),On(),K,n,fe,K[11],L,!1)}return gp}function Vu(n,r,a,d,p,_,w,O,L,K,fe){const Ke=yn(),Dt=ap(Ke,r,a,d,p,_,w,O,L,K);if(Dt!==si){$a($r(),On(),Ke,n,Dt,Ke[11],fe,!1)}return Vu}function fy(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt){const Yt=yn(),mn=cp(Yt,r,a,d,p,_,w,O,L,K,fe,Ke);if(mn!==si){$a($r(),On(),Yt,n,mn,Yt[11],Dt,!1)}return fy}function py(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn){const er=yn(),mr=Wh(er,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt);if(mr!==si){$a($r(),On(),er,n,mr,er[11],mn,!1)}return py}function gy(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr){const kr=yn(),qr=lp(kr,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er);if(qr!==si){$a($r(),On(),kr,n,qr,kr[11],mr,!1)}return gy}function my(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr,kr,qr){const kn=yn(),oi=up(kn,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr,kr);if(oi!==si){$a($r(),On(),kn,n,oi,kn[11],qr,!1)}return my}function R_(n,r,a){const d=yn(),p=Dg(d,r);if(p!==si){$a($r(),On(),d,n,p,d[11],a,!1)}return R_}function iv(n,r,a,d,p,_){let w=_?r.classBindings:r.styleBindings,O=xo(w),L=Ic(w);n[d]=a;let fe,K=!1;if(Array.isArray(a)){const Ke=a;fe=Ke[1],(null===fe||S(Ke,fe)>0)&&(K=!0)}else fe=a;if(p)if(0!==L){const Dt=xo(n[O+1]);n[d+1]=Mu(Dt,O),0!==Dt&&(n[Dt+1]=$f(n[Dt+1],d)),n[O+1]=function rg(n,r){return 131071&n|r<<17}(n[O+1],d)}else n[d+1]=Mu(O,0),0!==O&&(n[O+1]=$f(n[O+1],d)),O=d;else n[d+1]=Mu(L,0),0===O?O=d:n[L+1]=$f(n[L+1],d),L=d;K&&(n[d+1]=ig(n[d+1])),yy(n,fe,d,!0,_),yy(n,fe,d,!1,_),function _y(n,r,a,d,p){const _=p?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof r&&S(_,r)>=0&&(a[d+1]=og(a[d+1]))}(r,fe,n,d,_),w=Mu(O,L),_?r.classBindings=w:r.styleBindings=w}function yy(n,r,a,d,p){const _=n[a+1],w=null===r;let O=d?xo(_):Ic(_),L=!1;for(;0!==O&&(!1===L||w);){const K=n[O],fe=n[O+1];sv(K,r)&&(L=!0,n[O+1]=d?og(fe):ig(fe)),O=d?xo(fe):Ic(fe)}L&&(n[a+1]=d?ig(_):og(_))}function sv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&S(n,r)>=0}const No={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vy(n){return n.substring(No.key,No.keyEnd)}function ov(n){return n.substring(No.value,No.valueEnd)}function O_(n,r){const a=No.textEnd;return a===r?-1:(r=No.keyEnd=function av(n,r,a){for(;r<a&&n.charCodeAt(r)>32;)r++;return r}(n,No.key=r,a),$u(n,r,a))}function M_(n,r){const a=No.textEnd;let d=No.key=$u(n,r,a);return a===d?-1:(d=No.keyEnd=function Yh(n,r,a){let d;for(;r<a&&(45===(d=n.charCodeAt(r))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)r++;return r}(n,d,a),d=ru(n,d,a,58),d=No.value=$u(n,d,a),d=No.valueEnd=function Sg(n,r,a){let d=-1,p=-1,_=-1,w=r,O=w;for(;w<a;){const L=n.charCodeAt(w++);if(59===L)return O;34===L||39===L?O=w=Hu(n,L,w,a):r===w-4&&85===_&&82===p&&76===d&&40===L?O=w=Hu(n,41,w,a):L>32&&(O=w),_=p,p=d,d=-33&L}return O}(n,d,a),ru(n,d,a,59))}function Bm(n){No.key=0,No.keyEnd=0,No.value=0,No.valueEnd=0,No.textEnd=n.length}function $u(n,r,a){for(;r<a&&n.charCodeAt(r)<=32;)r++;return r}function ru(n,r,a,d){return(r=$u(n,r,a))<a&&r++,r}function Hu(n,r,a,d){let p=-1,_=a;for(;_<d;){const w=n.charCodeAt(_++);if(w==r&&92!==p)return _;p=92==w&&92===p?0:w}throw new Error}function P_(n,r,a){return vl(n,r,a,!1),P_}function x_(n,r){return vl(n,r,null,!0),x_}function ca(n){El(fv,cv,n,!1)}function cv(n,r){for(let a=function Iy(n){return Bm(n),M_(n,$u(n,0,No.textEnd))}(r);a>=0;a=M_(r,a))fv(n,vy(r),ov(r))}function lv(n){El(ji,iu,n,!0)}function iu(n,r){for(let a=function Ey(n){return Bm(n),O_(n,$u(n,0,No.textEnd))}(r);a>=0;a=O_(r,a))ji(n,vy(r),!0)}function vl(n,r,a,d){const p=yn(),_=$r(),w=pi(2);if(_.firstUpdatePass&&k_(_,n,w,d),r!==si&&co(p,w,r)){L_(_,_.data[Tt()],p,p[11],n,p[w+1]=function gv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ce(_a(n)))),n}(r,a),d,w)}}function El(n,r,a,d){const p=$r(),_=pi(2);p.firstUpdatePass&&k_(p,null,_,d);const w=yn();if(a!==si&&co(w,_,a)){const O=p.data[Tt()];if(wy(O,d)&&!N_(p,_)){let L=d?O.classesWithoutHost:O.stylesWithoutHost;null!==L&&(a=$e(L,a||"")),dp(p,O,w,a,d)}else!function pv(n,r,a,d,p,_,w,O){p===si&&(p=zn);let L=0,K=0,fe=0<p.length?p[0]:null,Ke=0<_.length?_[0]:null;for(;null!==fe||null!==Ke;){const Dt=L<p.length?p[L+1]:void 0,Yt=K<_.length?_[K+1]:void 0;let er,mn=null;fe===Ke?(L+=2,K+=2,Dt!==Yt&&(mn=Ke,er=Yt)):null===Ke||null!==fe&&fe<Ke?(L+=2,mn=fe):(K+=2,mn=Ke,er=Yt),null!==mn&&L_(n,r,a,d,mn,er,w,O),fe=L<p.length?p[L]:null,Ke=K<_.length?_[K]:null}}(p,O,w,w[11],w[_+1],w[_+1]=function hE(n,r,a){if(null==a||""===a)return zn;const d=[],p=_a(a);if(Array.isArray(p))for(let _=0;_<p.length;_++)n(d,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&n(d,_,p[_]);else"string"==typeof p&&r(d,p);return d}(n,r,a),d,_)}}function N_(n,r){return r>=n.expandoStartIndex}function k_(n,r,a,d){const p=n.data;if(null===p[a+1]){const _=p[Tt()],w=N_(n,a);wy(_,d)&&null===r&&!w&&(r=!1),r=function uv(n,r,a,d){const p=qo(n);let _=d?r.residualClasses:r.residualStyles;if(null===p)0===(d?r.classBindings:r.styleBindings)&&(a=qh(a=Od(null,n,r,a,d),r.attrs,d),_=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==p)if(a=Od(p,n,r,a,d),null===_){let L=function dv(n,r,a){const d=a?r.classBindings:r.styleBindings;if(0!==Ic(d))return n[xo(d)]}(n,r,d);void 0!==L&&Array.isArray(L)&&(L=Od(null,n,r,L[1],d),L=qh(L,r.attrs,d),function Cy(n,r,a,d){const p=a?r.classBindings:r.styleBindings;n[xo(p)]=d}(n,r,d,L))}else _=function hv(n,r,a){let d;const p=r.directiveEnd;for(let _=1+r.directiveStylingLast;_<p;_++){d=qh(d,n[_].hostAttrs,a)}return qh(d,r.attrs,a)}(n,r,d)}return void 0!==_&&(d?r.residualClasses=_:r.residualStyles=_),a}(p,_,r,d),iv(p,_,r,a,w,d)}}function Od(n,r,a,d,p){let _=null;const w=a.directiveEnd;let O=a.directiveStylingLast;for(-1===O?O=a.directiveStart:O++;O<w&&(_=r[O],d=qh(d,_.hostAttrs,p),_!==n);)O++;return null!==n&&(a.directiveStylingLast=O),d}function qh(n,r,a){const d=a?1:2;let p=-1;if(null!==r)for(let _=0;_<r.length;_++){const w=r[_];"number"==typeof w?p=w:p===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ji(n,w,!!a||r[++_]))}return void 0===n?null:n}function fv(n,r,a){ji(n,r,_a(a))}function L_(n,r,a,d,p,_,w,O){if(!(3&r.type))return;const L=n.data,K=L[O+1];if(!Um(sg(K)?ju(L,r,a,p,Ic(K),w):void 0)){Um(_)||Ed(K)&&(_=ju(L,null,a,p,O,w));!function Pf(n,r,a,d,p){if(r)p?n.addClass(a,d):n.removeClass(a,d);else{let _=-1===d.indexOf("-")?void 0:ul.DashCase;null==p?n.removeStyle(a,d,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=ul.Important),n.setStyle(a,d,p,_))}}(d,w,ft(Tt(),a),p,_)}}function ju(n,r,a,d,p,_){const w=null===r;let O;for(;p>0;){const L=n[p],K=Array.isArray(L),fe=K?L[1]:L,Ke=null===fe;let Dt=a[p+1];Dt===si&&(Dt=Ke?zn:void 0);let Yt=Ke?Wi(Dt,d):fe===d?Dt:void 0;if(K&&!Um(Yt)&&(Yt=Wi(L,d)),Um(Yt)&&(O=Yt,w))return O;const mn=n[p+1];p=w?xo(mn):Ic(mn)}if(null!==r){let L=_?r.residualClasses:r.residualStyles;null!=L&&(O=Wi(L,d))}return O}function Um(n){return void 0!==n}function wy(n,r){return 0!=(n.flags&(r?16:32))}function Dy(n,r=""){const a=yn(),d=$r(),p=n+22,_=d.firstCreatePass?pl(d,p,1,r,null):d.data[p],w=a[p]=La(a[11],r);ph(d,a,w,_),ae(_,!1)}function F_(n){return Vm("",n,""),F_}function Vm(n,r,a){const d=yn(),p=bg(d,n,r,a);return p!==si&&Dc(d,Tt(),p),Vm}function by(n,r,a,d,p){const _=yn(),w=Fs(_,n,r,a,d,p);return w!==si&&Dc(_,Tt(),w),by}function mv(n,r,a,d,p,_,w){const O=yn(),L=jh(O,n,r,a,d,p,_,w);return L!==si&&Dc(O,Tt(),L),mv}function _v(n,r,a,d,p,_,w,O,L){const K=yn(),fe=ap(K,n,r,a,d,p,_,w,O,L);return fe!==si&&Dc(K,Tt(),fe),_v}function B_(n,r,a,d,p,_,w,O,L,K,fe){const Ke=yn(),Dt=cp(Ke,n,r,a,d,p,_,w,O,L,K,fe);return Dt!==si&&Dc(Ke,Tt(),Dt),B_}function Ty(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt){const Yt=yn(),mn=Wh(Yt,n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt);return mn!==si&&Dc(Yt,Tt(),mn),Ty}function Ay(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn){const er=yn(),mr=lp(er,n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn);return mr!==si&&Dc(er,Tt(),mr),Ay}function $m(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr){const kr=yn(),qr=up(kr,n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr);return qr!==si&&Dc(kr,Tt(),qr),$m}function U_(n){const r=yn(),a=Dg(r,n);return a!==si&&Dc(r,Tt(),a),U_}function Sy(n,r,a){El(ji,iu,bg(yn(),n,r,a),!0)}function Rg(n,r,a,d,p){El(ji,iu,Fs(yn(),n,r,a,d,p),!0)}function V_(n,r,a,d,p,_,w){El(ji,iu,jh(yn(),n,r,a,d,p,_,w),!0)}function yv(n,r,a,d,p,_,w,O,L){El(ji,iu,ap(yn(),n,r,a,d,p,_,w,O,L),!0)}function vv(n,r,a,d,p,_,w,O,L,K,fe){El(ji,iu,cp(yn(),n,r,a,d,p,_,w,O,L,K,fe),!0)}function Ry(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt){El(ji,iu,Wh(yn(),n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt),!0)}function Hm(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn){El(ji,iu,lp(yn(),n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn),!0)}function Ev(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr){El(ji,iu,up(yn(),n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr),!0)}function Oy(n){El(ji,iu,Dg(yn(),n),!0)}function My(n,r,a){ca(bg(yn(),n,r,a))}function Md(n,r,a,d,p){ca(Fs(yn(),n,r,a,d,p))}function Xc(n,r,a,d,p,_,w){ca(jh(yn(),n,r,a,d,p,_,w))}function Ha(n,r,a,d,p,_,w,O,L){ca(ap(yn(),n,r,a,d,p,_,w,O,L))}function Py(n,r,a,d,p,_,w,O,L,K,fe){ca(cp(yn(),n,r,a,d,p,_,w,O,L,K,fe))}function xy(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt){ca(Wh(yn(),n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt))}function Og(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn){ca(lp(yn(),n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn))}function Mg(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr){ca(up(yn(),n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr))}function ja(n){ca(Dg(yn(),n))}function Ny(n,r,a,d,p){return vl(n,bg(yn(),r,a,d),p,!1),Ny}function jm(n,r,a,d,p,_,w){return vl(n,Fs(yn(),r,a,d,p,_),w,!1),jm}function Zh(n,r,a,d,p,_,w,O,L){return vl(n,jh(yn(),r,a,d,p,_,w,O),L,!1),Zh}function Pd(n,r,a,d,p,_,w,O,L,K,fe){return vl(n,ap(yn(),r,a,d,p,_,w,O,L,K),fe,!1),Pd}function Wm(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt){return vl(n,cp(yn(),r,a,d,p,_,w,O,L,K,fe,Ke),Dt,!1),Wm}function xd(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn){return vl(n,Wh(yn(),r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt),mn,!1),xd}function ky(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr){return vl(n,lp(yn(),r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er),mr,!1),ky}function Ly(n,r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr,kr,qr){return vl(n,up(yn(),r,a,d,p,_,w,O,L,K,fe,Ke,Dt,Yt,mn,er,mr,kr),qr,!1),Ly}function Fy(n,r,a){return vl(n,Dg(yn(),r),a,!1),Fy}function Wu(n,r,a){const d=yn();if(co(d,Hr(),r)){$a($r(),On(),d,n,r,d[11],a,!0)}return Wu}function By(n,r,a){const d=yn();if(co(d,Hr(),r)){const _=$r(),w=On();$a(_,w,d,n,r,eo(qo(_.data),w,d),a,!0)}return By}const Xh=void 0;var Uy=["en",[["a","p"],["AM","PM"],Xh],[["AM","PM"],Xh,Xh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xh,"{1} 'at' {0}",Xh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iv(n){const a=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let mp={};function _p(n){const r=function Hy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=Gm(r);if(a)return a;const d=r.split("-")[0];if(a=Gm(d),a)return a;if("en"===d)return Uy;throw new Ge(701,!1)}function $y(n){return _p(n)[Nd.PluralCase]}function Gm(n){return n in mp||(mp[n]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[n]),mp[n]}var Nd;!function(n){n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData"}(Nd||(Nd={}));const jy=["zero","one","two","few","many"];const Qh="en-US",zm={marker:"element"},Km={marker:"ICU"};var Aa;!function(n){n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT"}(Aa||(Aa={}));let Gu=Qh;function s(n){qe(n,"Expected localeId to be defined"),"string"==typeof n&&(Gu=n.toLowerCase().replace(/_/g,"-"))}function t(n,r,a){const d=r.insertBeforeIndex,p=Array.isArray(d)?d[0]:d;return null===p?pd(n,0,a):fi(a[p])}function o(n,r,a,d,p){const _=r.insertBeforeIndex;if(Array.isArray(_)){let w=d,O=null;if(3&r.type||(O=w,w=p),null!==w&&0==(2&r.flags))for(let L=1;L<_.length;L++){Fa(n,w,a[_[L]],O,!1)}}}function h(n,r){if(n.push(r),n.length>1)for(let a=n.length-2;a>=0;a--){const d=n[a];m(d)||I(d,r)&&null===P(d)&&G(d,r.index)}}function m(n){return!(64&n.type)}function I(n,r){return m(r)||n.index>r.index}function P(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function G(n,r){const a=n.insertBeforeIndex;Array.isArray(a)?a[0]=r:(fh(t,o),n.insertBeforeIndex=r)}function Q(n,r){const a=n.data[r];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Kt(n,r,a){const d=Yf(n,a,64,null,null);return h(r,d),d}function dn(n,r){const a=r[n.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Dn(n){return n>>>17}function fr(n){return(131070&n)>>>1}let Gi=0,Ni=0;function Yo(n,r,a,d){const p=a[11];let w,_=null;for(let O=0;O<r.length;O++){const L=r[O];if("string"==typeof L){const K=r[++O];null===a[K]&&(a[K]=La(p,L))}else if("number"==typeof L)switch(1&L){case 0:const K=Dn(L);let fe,Ke;if(null===_&&(_=K,w=Du(p,d)),K===_?(fe=d,Ke=w):(fe=null,Ke=fi(a[K])),null!==Ke){const er=fr(L);Fa(p,Ke,a[er],fe,!1);const kr=Q(n,er);if(null!==kr&&"object"==typeof kr){const qr=dn(kr,a);null!==qr&&Yo(n,kr.create[qr],a,a[kr.anchorIdx])}}break;case 1:const Dt=L>>>1,Yt=r[++O],mn=r[++O];Uh(p,ft(Dt,a),null,null,Yt,mn,null)}else switch(L){case Km:const K=r[++O],fe=r[++O];if(null===a[fe]){Mo(a[fe]=jl(p,K),a)}break;case zm:const Ke=r[++O],Dt=r[++O];if(null===a[Dt]){Mo(a[Dt]=wf(p,Ke,null),a)}}}}function vp(n,r,a,d,p){for(let _=0;_<a.length;_++){const w=a[_],O=a[++_];if(w&p){let L="";for(let K=_+1;K<=_+O;K++){const fe=a[K];if("string"==typeof fe)L+=fe;else if("number"==typeof fe)if(fe<0)L+=Me(r[d-fe]);else{const Ke=fe>>>2;switch(3&fe){case 1:const Dt=a[++K],Yt=a[++K],mn=n.data[Ke];"string"==typeof mn?Uh(r[11],r[Ke],null,mn,Dt,L,Yt):$a(n,mn,r,Dt,L,r[11],Yt,!1);break;case 0:const er=r[Ke];null!==er&&Cf(r[11],er,L);break;case 2:uI(n,Q(n,Ke),r,L);break;case 3:pE(n,Q(n,Ke),d,r)}}}}else{const L=a[_+1];if(L>0&&3==(3&L)){const fe=Q(n,L>>>2);r[fe.currentCaseLViewIndex]<0&&pE(n,fe,d,r)}}_+=O}}function pE(n,r,a,d){let p=d[r.currentCaseLViewIndex];if(null!==p){let _=Gi;p<0&&(p=d[r.currentCaseLViewIndex]=~p,_=-1),vp(n,d,r.update[p],a,_)}}function uI(n,r,a,d){const p=function dI(n,r){let a=n.cases.indexOf(r);if(-1===a)switch(n.type){case 1:{const d=function wv(n,r){const a=$y(r)(parseInt(n,10)),d=jy[a];return void 0!==d?d:"other"}(r,function e(){return Gu}());a=n.cases.indexOf(d),-1===a&&"other"!==d&&(a=n.cases.indexOf("other"));break}case 0:a=n.cases.indexOf("other")}return-1===a?null:a}(r,d);if(dn(r,a)!==p&&(gE(n,r,a),a[r.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const w=a[r.anchorIdx];w&&Yo(n,r.create[p],a,w)}}function gE(n,r,a){let d=dn(r,a);if(null!==d){const p=r.remove[d];for(let _=0;_<p.length;_++){const w=p[_];if(w>0){const O=ft(w,a);null!==O&&mh(a[11],O)}else gE(n,Q(n,~w),a)}}}function hI(){const n=[];let a,d,r=-1;function _(O,L){r=0;const K=dn(O,L);d=null!==K?O.remove[K]:zn}function w(){if(r<d.length){const O=d[r++];if(O>0)return a[O];{n.push(r,d);const L=~O;return _(a[1].data[L],a),w()}}return 0===n.length?null:(d=n.pop(),r=n.pop(),w())}return function p(O,L){for(a=L;n.length;)n.pop();return _(O.value,L),w}}const Gy=/\ufffd(\d+):?\d*\ufffd/gi,fI=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,pI=/\ufffd(\d+)\ufffd/,_E=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,gI=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,mI=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,_I=/\uE500/g;function vI(n,r,a,d,p,_){const w=U(),O=[],L=[],K=[[]];p=function DI(n,r){if(function wI(n){return-1===n}(r))return EE(n);{const a=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,d=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return EE(n.substring(a,d))}}(p,_);const fe=function yI(n){return n.replace(_I," ")}(p).split(mI);for(let Ke=0;Ke<fe.length;Ke++){let Dt=fe[Ke];if(0==(1&Ke)){const Yt=Dv(Dt);for(let mn=0;mn<Yt.length;mn++){let er=Yt[mn];if(0==(1&mn)){const mr=er;""!==mr&&EI(n,w,K[0],O,L,a,mr)}else{const mr=er;if("object"!=typeof mr)throw new Error(`Unable to parse ICU expression in "${p}" message.`);IE(n,a,L,r,mr,yE(n,w,K[0],a,O,"",!0).index)}}}else{const Yt=47===Dt.charCodeAt(0),er=(Dt.charCodeAt(Yt?1:0),22+Number.parseInt(Dt.substring(Yt?2:1)));if(Yt)K.shift(),ae(U(),!1);else{const mr=Kt(n,K[0],er);K.unshift([]),ae(mr,!0)}}}n.data[d]={create:O,update:L}}function yE(n,r,a,d,p,_,w){const O=wd(n,d,1,null);let L=O<<Aa.SHIFT,K=U();r===K&&(K=null),null===K&&(L|=Aa.APPEND_EAGERLY),w&&(L|=Aa.COMMENT,function nc(n){void 0===ch&&(ch=n())}(hI)),p.push(L,null===_?"":_);const fe=Yf(n,O,w?32:1,null===_?"":_,null);h(a,fe);const Ke=fe.index;return ae(fe,!1),null!==K&&r!==K&&function ht(n,r){let a=n.insertBeforeIndex;null===a?(fh(t,o),a=n.insertBeforeIndex=[null,r]):(st(Array.isArray(a),!0,"Expecting array here"),a.push(r))}(K,Ke),fe}function EI(n,r,a,d,p,_,w){const O=w.match(Gy),L=yE(n,r,a,_,d,O?null:w,!1);O&&H_(p,w,L.index,null,0,null)}function H_(n,r,a,d,p,_){const w=n.length,O=w+1;n.push(null,null);const L=w+2,K=r.split(Gy);let fe=0;for(let Ke=0;Ke<K.length;Ke++){const Dt=K[Ke];if(1&Ke){const Yt=p+parseInt(Dt,10);n.push(-1-Yt),fe|=vE(Yt)}else""!==Dt&&n.push(Dt)}return n.push(a<<2|(d?1:0)),d&&n.push(d,_),n[w]=fe,n[O]=n.length-L,fe}function CI(n){let r=0;for(let a=0;a<n.length;a++){const d=n[a];"number"==typeof d&&d<0&&r++}return r}function vE(n){return 1<<Math.min(n,31)}function EE(n){let r,_,a="",d=0,p=!1;for(;null!==(r=gI.exec(n));)p?r[0]===`\ufffd/*${_}\ufffd`&&(d=r.index,p=!1):(a+=n.substring(d,r.index+r[0].length),_=r[1],p=!0);return a+=n.slice(d),a}function IE(n,r,a,d,p,_){let w=0;const O={type:p.type,currentCaseLViewIndex:wd(n,r,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function SI(n,r,a){n.push(vE(r.mainBinding),2,-1-r.mainBinding,a<<2|2)})(a,p,_),function Oe(n,r,a){const d=n.data[r];null===d?n.data[r]=a:d.value=a}(n,_,O);const L=p.values;for(let K=0;K<L.length;K++){const fe=L[K],Ke=[];for(let Dt=0;Dt<fe.length;Dt++){const Yt=fe[Dt];if("string"!=typeof Yt){const mn=Ke.push(Yt)-1;fe[Dt]=`\x3c!--\ufffd${mn}\ufffd--\x3e`}}w=TI(n,O,r,a,d,p.cases[K],fe.join(""),Ke)|w}w&&function RI(n,r,a){n.push(r,1,a<<2|3)}(a,w,_)}function bI(n){const r=[],a=[];let d=1,p=0;const _=Dv(n=n.replace(_E,function(w,O,L){return d="select"===L?0:1,p=parseInt(O.slice(1),10),""}));for(let w=0;w<_.length;){let O=_[w++].trim();1===d&&(O=O.replace(/\s*(?:=)?(\w+)\s*/,"$1")),O.length&&r.push(O);const L=Dv(_[w++]);r.length>a.length&&a.push(L)}return{type:d,mainBinding:p,cases:r,values:a}}function Dv(n){if(!n)return[];let r=0;const a=[],d=[],p=/[{}]/g;let _;for(p.lastIndex=0;_=p.exec(n);){const O=_.index;if("}"==_[0]){if(a.pop(),0==a.length){const L=n.substring(r,O);_E.test(L)?d.push(bI(L)):d.push(L),r=O+1}}else{if(0==a.length){const L=n.substring(r,O);d.push(L),r=O+1}a.push("{")}}const w=n.substring(r);return d.push(w),d}function TI(n,r,a,d,p,_,w,O){const L=[],K=[],fe=[];r.cases.push(_),r.create.push(L),r.remove.push(K),r.update.push(fe);const Dt=Pl(Ws()).getInertBodyElement(w),Yt=ia(Dt)||Dt;return Yt?CE(n,r,a,d,L,K,fe,Yt,p,O,0):0}function CE(n,r,a,d,p,_,w,O,L,K,fe){let Ke=0,Dt=O.firstChild;for(;Dt;){const Yt=wd(n,a,1,null);switch(Dt.nodeType){case Node.ELEMENT_NODE:const mn=Dt,er=mn.tagName.toLowerCase();if(Bi.hasOwnProperty(er)){bv(p,zm,er,L,Yt),n.data[Yt]=er;const kn=mn.attributes;for(let oi=0;oi<kn.length;oi++){const ss=kn.item(oi),go=ss.name.toLowerCase();ss.value.match(Gy)?Fc.hasOwnProperty(go)&&(ra[go]?H_(w,ss.value,Yt,ss.name,0,C):H_(w,ss.value,Yt,ss.name,0,null)):OI(p,Yt,ss)}Ke=CE(n,r,a,d,p,_,w,Dt,Yt,K,fe+1)|Ke,wE(_,Yt,fe)}break;case Node.TEXT_NODE:const mr=Dt.textContent||"",kr=mr.match(Gy);bv(p,null,kr?"":mr,L,Yt),wE(_,Yt,fe),kr&&(Ke=H_(w,mr,Yt,null,0,null)|Ke);break;case Node.COMMENT_NODE:const qr=pI.exec(Dt.textContent||"");if(qr){const oi=K[parseInt(qr[1],10)];bv(p,Km,"",L,Yt),IE(n,a,d,L,oi,Yt),AI(_,Yt,fe)}}Dt=Dt.nextSibling}return Ke}function wE(n,r,a){0===a&&n.push(r)}function AI(n,r,a){0===a&&(n.push(~r),n.push(r))}function bv(n,r,a,d,p){null!==r&&n.push(r),n.push(a,p,function rs(n,r,a){return n|r<<17|a<<1}(0,d,p))}function OI(n,r,a){n.push(r<<1|1,a.name,a.value)}const MI=/\[(\ufffd.+?\ufffd?)\]/,PI=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,xI=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,NI=/{([A-Z0-9_]+)}/g,kI=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,LI=/\/\*/,FI=/\d+\:(\d+)/;function bE(n,r,a=-1){const d=$r(),p=yn(),_=22+n,w=Vr(d.consts,r),O=U();d.firstCreatePass&&vI(d,null===O?0:O.index,p,_,w,a);const L=d.data[_],fe=Af(d,O===p[6]?null:O,p),Ke=O&&8&O.type?p[O.index]:null;(function is(n,r,a,d){const p=n[11];for(let _=0;_<r.length;_++){const w=r[_++],O=r[_],L=(w&Aa.COMMENT)===Aa.COMMENT,K=(w&Aa.APPEND_EAGERLY)===Aa.APPEND_EAGERLY,fe=w>>>Aa.SHIFT;let Ke=n[fe];null===Ke&&(Ke=n[fe]=L?p.createComment(O):La(p,O)),K&&null!==a&&Fa(p,a,Ke,d,!1)}})(p,L.create,fe,Ke),ys(!0)}function TE(){ys(!1)}function UI(n,r,a){bE(n,r,a),TE()}function VI(n,r){const a=$r();!function II(n,r,a){const p=q().index,_=[];if(n.firstCreatePass&&null===n.data[r]){for(let w=0;w<a.length;w+=2){const O=a[w],L=a[w+1];if(""!==L){if(fI.test(L))throw new Error(`ICU expressions are not supported in attributes. Message: "${L}".`);H_(_,L,p,O,CI(_),null)}}n.data[r]=_}}(a,n+22,Vr(a.consts,r))}function AE(n){return function to(n){n&&(Gi|=1<<Math.min(Ni,31)),Ni++}(co(yn(),Hr(),n)),AE}function $I(n){!function Cs(n,r,a){if(Ni>0){const d=n.data[a];vp(n,r,Array.isArray(d)?d:d.update,ot()-Ni-1,Gi)}Gi=0,Ni=0}($r(),yn(),n+22)}function HI(n,r={}){return function BI(n,r={}){let a=n;if(MI.test(n)){const d={},p=[0];a=a.replace(PI,(_,w,O)=>{const L=w||O,K=d[L]||[];if(K.length||(L.split("|").forEach(er=>{const mr=er.match(FI),kr=mr?parseInt(mr[1],10):0,qr=LI.test(er);K.push([kr,qr,er])}),d[L]=K),!K.length)throw new Error(`i18n postprocess: unmatched placeholder - ${L}`);const fe=p[p.length-1];let Ke=0;for(let er=0;er<K.length;er++)if(K[er][0]===fe){Ke=er;break}const[Dt,Yt,mn]=K[Ke];return Yt?p.pop():fe!==Dt&&p.push(Dt),K.splice(Ke,1),mn})}return Object.keys(r).length&&(a=a.replace(xI,(d,p,_,w,O,L)=>r.hasOwnProperty(_)?`${p}${r[_]}${L}`:d),a=a.replace(NI,(d,p)=>r.hasOwnProperty(p)?r[p]:d),a=a.replace(kI,(d,p)=>{if(r.hasOwnProperty(p)){const _=r[p];if(!_.length)throw new Error(`i18n postprocess: unmatched ICU - ${d} with key: ${p}`);return _.shift()}return d})),a}(n,r)}function Tv(n,r,a,d,p){if(n=xe(n),Array.isArray(n))for(let _=0;_<n.length;_++)Tv(n[_],r,a,d,p);else{const _=$r(),w=yn();let O=Vc(n)?n:xe(n.provide),L=oa(n);const K=q(),fe=1048575&K.providerIndexes,Ke=K.directiveStart,Dt=K.providerIndexes>>20;if(Vc(n)||!n.multi){const Yt=new Ji(L,p,$o),mn=Sv(O,r,p?fe:fe+Dt,Ke);-1===mn?(za(rr(K,w),_,O),Av(_,n,r.length),r.push(O),K.directiveStart++,K.directiveEnd++,p&&(K.providerIndexes+=1048576),a.push(Yt),w.push(Yt)):(a[mn]=Yt,w[mn]=Yt)}else{const Yt=Sv(O,r,fe+Dt,Ke),mn=Sv(O,r,fe,fe+Dt),er=Yt>=0&&a[Yt],mr=mn>=0&&a[mn];if(p&&!mr||!p&&!er){za(rr(K,w),_,O);const kr=function zI(n,r,a,d,p){const _=new Ji(n,a,$o);return _.multi=[],_.index=r,_.componentProviders=0,SE(_,p,d&&!a),_}(p?GI:WI,a.length,p,d,L);!p&&mr&&(a[mn].providerFactory=kr),Av(_,n,r.length,0),r.push(O),K.directiveStart++,K.directiveEnd++,p&&(K.providerIndexes+=1048576),a.push(kr),w.push(kr)}else{Av(_,n,Yt>-1?Yt:mn,SE(a[p?mn:Yt],L,!p&&d))}!p&&d&&mr&&a[mn].componentProviders++}}}function Av(n,r,a,d){const p=Vc(r),_=function Xd(n){return!!n.useClass}(r);if(p||_){const L=(_?xe(r.useClass):r).prototype.ngOnDestroy;if(L){const K=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const fe=K.indexOf(a);-1===fe?K.push(a,[d,L]):K[fe+1].push(d,L)}else K.push(a,L)}}}function SE(n,r,a){return a&&n.componentProviders++,n.multi.push(r)-1}function Sv(n,r,a,d){for(let p=a;p<d;p++)if(r[p]===n)return p;return-1}function WI(n,r,a,d){return Rv(this.multi,[])}function GI(n,r,a,d){const p=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,O=hc(a,a[1],this.providerFactory.index,d);_=O.slice(0,w),Rv(p,_);for(let L=w;L<O.length;L++)_.push(O[L])}else _=[],Rv(p,_);return _}function Rv(n,r){for(let a=0;a<n.length;a++){const d=n[a];r.push(d())}return r}function RE(n,r=[]){return a=>{a.providersResolver=(d,p)=>function jI(n,r,a){const d=$r();if(d.firstCreatePass){const p=jt(n);Tv(a,d.data,d.blueprint,p,!0),Tv(r,d.data,d.blueprint,p,!1)}}(d,p?p(n):n,r)}}class Ym{}class OE{}function KI(n,r){return new ME(n,null!=r?r:null)}class ME extends Ym{constructor(r,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bc(this);const d=pn(r);this._bootstrapComponents=Ca(d.bootstrap),this._r3Injector=Xp(r,a,[{provide:Ym,useValue:this},{provide:ol,useValue:this.componentFactoryResolver}],Ce(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Ov extends OE{constructor(r){super(),this.moduleType=r}create(r){return new ME(this.moduleType,r)}}class YI extends Ym{constructor(r,a,d){super(),this.componentFactoryResolver=new bc(this),this.instance=null;const p=new zs([...r,{provide:Ym,useValue:this},{provide:ol,useValue:this.componentFactoryResolver}],a||Qd(),d,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Mv(n,r,a=null){return new YI(n,r,a).injector}class zy{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r.id)){const a=qd(0,r.type),d=a.length>0?Mv([a],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r.id,d)}return this.cachedInjectors.get(r.id)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}function PE(n){n.getStandaloneInjector=r=>r.get(zy).getOrCreateStandaloneInjector(n)}function UE(n,r,a,d){return hr(()=>{const p=n;null!==r&&(p.hasOwnProperty("decorators")&&void 0!==p.decorators?p.decorators.push(...r):p.decorators=r),null!==a&&(p.ctorParameters=a),null!==d&&(p.hasOwnProperty("propDecorators")&&void 0!==p.propDecorators?p.propDecorators=Object.assign(Object.assign({},p.propDecorators),d):p.propDecorators=d)})}function VE(n,r,a){const d=H()+n,p=yn();return p[d]===si?us(p,d,a?r.call(a):r()):Ks(p,d)}function $E(n,r,a,d){return HE(yn(),H(),n,r,a,d)}function nC(n,r,a,d,p){return jE(yn(),H(),n,r,a,d,p)}function rC(n,r,a,d,p,_){return WE(yn(),H(),n,r,a,d,p,_)}function iC(n,r,a,d,p,_,w){return GE(yn(),H(),n,r,a,d,p,_,w)}function sC(n,r,a,d,p,_,w,O){const L=H()+n,K=yn(),fe=Ko(K,L,a,d,p,_);return co(K,L+4,w)||fe?us(K,L+5,O?r.call(O,a,d,p,_,w):r(a,d,p,_,w)):Ks(K,L+5)}function oC(n,r,a,d,p,_,w,O,L){const K=H()+n,fe=yn(),Ke=Ko(fe,K,a,d,p,_);return Ta(fe,K+4,w,O)||Ke?us(fe,K+6,L?r.call(L,a,d,p,_,w,O):r(a,d,p,_,w,O)):Ks(fe,K+6)}function aC(n,r,a,d,p,_,w,O,L,K){const fe=H()+n,Ke=yn();let Dt=Ko(Ke,fe,a,d,p,_);return Rd(Ke,fe+4,w,O,L)||Dt?us(Ke,fe+7,K?r.call(K,a,d,p,_,w,O,L):r(a,d,p,_,w,O,L)):Ks(Ke,fe+7)}function cC(n,r,a,d,p,_,w,O,L,K,fe){const Ke=H()+n,Dt=yn(),Yt=Ko(Dt,Ke,a,d,p,_);return Ko(Dt,Ke+4,w,O,L,K)||Yt?us(Dt,Ke+8,fe?r.call(fe,a,d,p,_,w,O,L,K):r(a,d,p,_,w,O,L,K)):Ks(Dt,Ke+8)}function lC(n,r,a,d){return zE(yn(),H(),n,r,a,d)}function j_(n,r){const a=n[r];return a===si?void 0:a}function HE(n,r,a,d,p,_){const w=r+a;return co(n,w,p)?us(n,w+1,_?d.call(_,p):d(p)):j_(n,w+1)}function jE(n,r,a,d,p,_,w){const O=r+a;return Ta(n,O,p,_)?us(n,O+2,w?d.call(w,p,_):d(p,_)):j_(n,O+2)}function WE(n,r,a,d,p,_,w,O){const L=r+a;return Rd(n,L,p,_,w)?us(n,L+3,O?d.call(O,p,_,w):d(p,_,w)):j_(n,L+3)}function GE(n,r,a,d,p,_,w,O,L){const K=r+a;return Ko(n,K,p,_,w,O)?us(n,K+4,L?d.call(L,p,_,w,O):d(p,_,w,O)):j_(n,K+4)}function zE(n,r,a,d,p,_){let w=r+a,O=!1;for(let L=0;L<p.length;L++)co(n,w++,p[L])&&(O=!0);return O?us(n,w,d.apply(_,p)):j_(n,w)}function KE(n,r){const a=$r();let d;const p=n+22;a.firstCreatePass?(d=function uC(n,r){if(r)for(let a=r.length-1;a>=0;a--){const d=r[a];if(n===d.name)return d}}(r,a.pipeRegistry),a.data[p]=d,d.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(p,d.onDestroy)):d=a.data[p];const _=d.factory||(d.factory=Ar(d.type)),w=cn($o);try{const O=Pn(!1),L=_();return Pn(O),function nv(n,r,a,d){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),r[a]=d}(a,yn(),p,L),L}finally{cn(w)}}function dC(n,r,a){const d=n+22,p=yn(),_=Nn(p,d);return W_(p,d)?HE(p,H(),r,_.transform,a,_):_.transform(a)}function YE(n,r,a,d){const p=n+22,_=yn(),w=Nn(_,p);return W_(_,p)?jE(_,H(),r,w.transform,a,d,w):w.transform(a,d)}function hC(n,r,a,d,p){const _=n+22,w=yn(),O=Nn(w,_);return W_(w,_)?WE(w,H(),r,O.transform,a,d,p,O):O.transform(a,d,p)}function fC(n,r,a,d,p,_){const w=n+22,O=yn(),L=Nn(O,w);return W_(O,w)?GE(O,H(),r,L.transform,a,d,p,_,L):L.transform(a,d,p,_)}function pC(n,r,a){const d=n+22,p=yn(),_=Nn(p,d);return W_(p,d)?zE(p,H(),r,_.transform,a,_):_.transform.apply(_,a)}function W_(n,r){return n[1].data[r].pure}zy.\u0275prov=St({token:zy,providedIn:"environment",factory:()=>new zy(ns(_u))});class gC extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,d){var p,_,w;let O=r,L=a||(()=>null),K=d;if(r&&"object"==typeof r){const Ke=r;O=null===(p=Ke.next)||void 0===p?void 0:p.bind(Ke),L=null===(_=Ke.error)||void 0===_?void 0:_.bind(Ke),K=null===(w=Ke.complete)||void 0===w?void 0:w.bind(Ke)}this.__isAsync&&(L=xv(L),O&&(O=xv(O)),K&&(K=xv(K)));const fe=super.subscribe({next:O,error:L,complete:K});return r instanceof B.w0&&r.add(fe),fe}}function xv(n){return r=>{setTimeout(n,void 0,r)}}const kd=gC;function mC(){return this._results[Gt()]()}class Nv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Gt(),d=Nv.prototype;d[a]||(d[a]=mC)}get changes(){return this._changes||(this._changes=new kd)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const d=this;d.dirty=!1;const p=xs(r);(this._changesDetected=!function Tl(n,r,a){if(n.length!==r.length)return!1;for(let d=0;d<n.length;d++){let p=n[d],_=r[d];if(a&&(p=a(p),_=a(_)),_!==p)return!1}return!0}(d._results,p,a))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class qm{}qm.__NG_ELEMENT_ID__=function vC(){return Ky(q(),yn())};const _C=qm,yC=class extends _C{constructor(r,a,d){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=d}createEmbeddedView(r,a){const d=this._declarationTContainer.tViews,p=Kf(this._declarationLView,d,r,16,null,d.declTNode,null,null,null,null,a||null),_=this._declarationLView[this._declarationTContainer.index];p[17]=_;const w=this._declarationLView[19];return null!==w&&(p[19]=w.createEmbeddedView(d)),kh(d,p,r),new _l(p)}};function Ky(n,r){return 4&n.type?new yC(r,n,Fl(n,r)):null}class G_{}G_.__NG_ELEMENT_ID__=function EC(){return XE(q(),yn())};const IC=G_,qE=class extends IC{constructor(r,a,d){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=d}get element(){return Fl(this._hostTNode,this._hostLView)}get injector(){return new Jo(this._hostTNode,this._hostLView)}get parentInjector(){const r=vs(this._hostTNode,this._hostLView);if(bs(r)){const a=_o(r,this._hostLView),d=Hs(r),p=a[1].data[d+8];return new Jo(p,a)}return new Jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=ZE(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,a,d){let p,_;"number"==typeof d?p=d:null!=d&&(p=d.index,_=d.injector);const w=r.createEmbeddedView(a||{},_);return this.insert(w,p),w}createComponent(r,a,d,p,_){const w=r&&!ta(r);let O;if(w)O=a;else{const Ke=a||{};O=Ke.index,d=Ke.injector,p=Ke.projectableNodes,_=Ke.environmentInjector||Ke.ngModuleRef}const L=w?r:new $h(Y(r)),K=d||this.parentInjector;if(!_&&null==L.ngModule){const Dt=(w?K:this.parentInjector).get(_u,null);Dt&&(_=Dt)}const fe=L.create(K,p,void 0,_);return this.insert(fe.hostView,O),fe}insert(r,a){const d=r._lView,p=d[1];if(function Qr(n){return $t(n[3])}(d)){const fe=this.indexOf(r);if(-1!==fe)this.detach(fe);else{const Ke=d[3],Dt=new qE(Ke,Ke[6],Ke[3]);Dt.detach(Dt.indexOf(r))}}const _=this._adjustIndex(a),w=this._lContainer;Fp(p,d,w,_);const O=gh(_,w),L=d[11],K=Du(L,w[7]);return null!==K&&function dh(n,r,a,d,p,_){d[0]=p,d[6]=r,gd(n,d,a,1,p,_)}(p,w[6],L,d,K,O),r.attachToViewContainerRef(),Mc(kv(w),_,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=ZE(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),d=Bp(this._lContainer,a);d&&(pc(kv(this._lContainer),a),hh(d[1],d))}detach(r){const a=this._adjustIndex(r,-1),d=Bp(this._lContainer,a);return d&&null!=pc(kv(this._lContainer),a)?new _l(d):null}_adjustIndex(r,a=0){return null==r?this.length+a:r}};function ZE(n){return n[8]}function kv(n){return n[8]||(n[8]=[])}function XE(n,r){let a;const d=r[n.index];if($t(d))a=d;else{let p;if(8&n.type)p=fi(d);else{const _=r[11];p=_.createComment("");const w=Lt(n,r);Fa(_,Du(_,w),p,function Of(n,r){return n.nextSibling(r)}(_,w),!1)}r[n.index]=a=vg(d,r,p,n),Lu(r,a)}return new qE(a,n,r)}class Lv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Lv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const d=null!==r.contentQueries?r.contentQueries[0]:a.length,p=[];for(let _=0;_<d;_++){const w=a.getByIndex(_),O=this.queries[w.indexInDeclarationView];p.push(O.clone())}return new Fv(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==o0(r,a).matches&&this.queries[a].setDirty()}}class QE{constructor(r,a,d=null){this.predicate=r,this.flags=a,this.read=d}}class Bv{constructor(r=[]){this.queries=r}elementStart(r,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let d=0;d<this.length;d++){const p=null!==a?a.length:0,_=this.getByIndex(d).embeddedTView(r,p);_&&(_.indexInDeclarationView=d,null!==a?a.push(_):a=[_])}return null!==a?new Bv(a):null}template(r,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Uv{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new Uv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const _=d[p];this.matchTNodeWithReadOption(r,a,DC(a,_)),this.matchTNodeWithReadOption(r,a,fa(a,r,_,!1,!1))}else d===qm?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,fa(a,r,d,!1,!1))}matchTNodeWithReadOption(r,a,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===ec||p===G_||p===qm&&4&a.type)this.addMatch(a.index,-2);else{const _=fa(a,r,p,!1,!1);null!==_&&this.addMatch(a.index,_)}else this.addMatch(a.index,d)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function DC(n,r){const a=n.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===r)return a[d+1];return null}function TC(n,r,a,d){return-1===a?function bC(n,r){return 11&n.type?Fl(n,r):4&n.type?Ky(n,r):null}(r,n):-2===a?function AC(n,r,a){if(a===ec)return Fl(r,n);if(a===qm)return Ky(r,n);if(a===G_)return XE(r,n)}(n,r,d):hc(n,n[1],a,r)}function JE(n,r,a,d){const p=r[19].queries[d];if(null===p.matches){const _=n.data,w=a.matches,O=[];for(let L=0;L<w.length;L+=2){const K=w[L];if(K<0)O.push(null);else{const fe=_[K];O.push(TC(r,fe,w[L+1],a.metadata.read))}}p.matches=O}return p.matches}function Vv(n,r,a,d){const p=n.queries.getByIndex(a),_=p.matches;if(null!==_){const w=JE(n,r,p,a);for(let O=0;O<_.length;O+=2){const L=_[O];if(L>0)d.push(w[O/2]);else{const K=_[O+1],fe=r[-L];for(let Ke=10;Ke<fe.length;Ke++){const Dt=fe[Ke];Dt[17]===Dt[3]&&Vv(Dt[1],Dt,K,d)}if(null!==fe[9]){const Ke=fe[9];for(let Dt=0;Dt<Ke.length;Dt++){const Yt=Ke[Dt];Vv(Yt[1],Yt,K,d)}}}}}return d}function e0(n){const r=yn(),a=$r(),d=ac();ko(d+1);const p=o0(a,d);if(n.dirty&&function Cr(n){return 4==(4&n[2])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const _=p.crossesNgTemplate?Vv(a,r,d,[]):JE(a,r,p,d);n.reset(_,jg),n.notifyOnChanges()}return!0}return!1}function t0(n,r,a){const d=$r();d.firstCreatePass&&(s0(d,new QE(n,r,a),-1),2==(2&r)&&(d.staticViewQueries=!0)),i0(d,yn(),r)}function n0(n,r,a,d){const p=$r();if(p.firstCreatePass){const _=q();s0(p,new QE(r,a,d),_.index),function RC(n,r){const a=n.contentQueries||(n.contentQueries=[]),d=a.length?a[a.length-1]:-1;r!==d&&a.push(n.queries.length-1,r)}(p,n),2==(2&a)&&(p.staticContentQueries=!0)}i0(p,yn(),a)}function r0(){return function SC(n,r){return n[19].queries[r].queryList}(yn(),ac())}function i0(n,r,a){const d=new Nv(4==(4&a));Jf(n,r,d,d.destroy),null===r[19]&&(r[19]=new Fv),r[19].queries.push(new Lv(d))}function s0(n,r,a){null===n.queries&&(n.queries=new Bv),n.queries.track(new Uv(r,a))}function o0(n,r){return n.queries.getByIndex(r)}function OC(n,r){return Ky(n,r)}const Tc={\u0275\u0275attribute:ds,\u0275\u0275attributeInterpolate1:ry,\u0275\u0275attributeInterpolate2:iy,\u0275\u0275attributeInterpolate3:ev,\u0275\u0275attributeInterpolate4:sy,\u0275\u0275attributeInterpolate5:oy,\u0275\u0275attributeInterpolate6:C_,\u0275\u0275attributeInterpolate7:yl,\u0275\u0275attributeInterpolate8:tu,\u0275\u0275attributeInterpolateV:tv,\u0275\u0275defineComponent:Wt,\u0275\u0275defineDirective:tt,\u0275\u0275defineInjectable:St,\u0275\u0275defineInjector:qt,\u0275\u0275defineNgModule:lr,\u0275\u0275definePipe:Ue,\u0275\u0275directiveInject:$o,\u0275\u0275getInheritedFactory:Kr,\u0275\u0275inject:ns,\u0275\u0275injectAttribute:yo,\u0275\u0275invalidFactory:Yc,\u0275\u0275invalidFactoryDep:Al,\u0275\u0275templateRefExtractor:OC,\u0275\u0275resetView:Qi,\u0275\u0275NgOnChangesFeature:Sr,\u0275\u0275ProvidersFeature:RE,\u0275\u0275CopyDefinitionFeature:wt,\u0275\u0275InheritDefinitionFeature:l,\u0275\u0275StandaloneFeature:PE,\u0275\u0275nextContext:Ag,\u0275\u0275namespaceHTML:_i,\u0275\u0275namespaceMathML:di,\u0275\u0275namespaceSVG:wr,\u0275\u0275enableBindings:es,\u0275\u0275disableBindings:wo,\u0275\u0275elementStart:nu,\u0275\u0275elementEnd:zh,\u0275\u0275element:Kh,\u0275\u0275elementContainerStart:hp,\u0275\u0275elementContainerEnd:xm,\u0275\u0275elementContainer:D_,\u0275\u0275pureFunction0:VE,\u0275\u0275pureFunction1:$E,\u0275\u0275pureFunction2:nC,\u0275\u0275pureFunction3:rC,\u0275\u0275pureFunction4:iC,\u0275\u0275pureFunction5:sC,\u0275\u0275pureFunction6:oC,\u0275\u0275pureFunction7:aC,\u0275\u0275pureFunction8:cC,\u0275\u0275pureFunctionV:lC,\u0275\u0275getCurrentView:ly,\u0275\u0275restoreView:Do,\u0275\u0275listener:Uu,\u0275\u0275projection:fp,\u0275\u0275syntheticHostProperty:By,\u0275\u0275syntheticHostListener:T_,\u0275\u0275pipeBind1:dC,\u0275\u0275pipeBind2:YE,\u0275\u0275pipeBind3:hC,\u0275\u0275pipeBind4:fC,\u0275\u0275pipeBindV:pC,\u0275\u0275projectionDef:A_,\u0275\u0275hostProperty:Wu,\u0275\u0275property:Pm,\u0275\u0275propertyInterpolate:hy,\u0275\u0275propertyInterpolate1:pp,\u0275\u0275propertyInterpolate2:S_,\u0275\u0275propertyInterpolate3:gp,\u0275\u0275propertyInterpolate4:Vu,\u0275\u0275propertyInterpolate5:fy,\u0275\u0275propertyInterpolate6:py,\u0275\u0275propertyInterpolate7:gy,\u0275\u0275propertyInterpolate8:my,\u0275\u0275propertyInterpolateV:R_,\u0275\u0275pipe:KE,\u0275\u0275queryRefresh:e0,\u0275\u0275viewQuery:t0,\u0275\u0275loadQuery:r0,\u0275\u0275contentQuery:n0,\u0275\u0275reference:w_,\u0275\u0275classMap:lv,\u0275\u0275classMapInterpolate1:Sy,\u0275\u0275classMapInterpolate2:Rg,\u0275\u0275classMapInterpolate3:V_,\u0275\u0275classMapInterpolate4:yv,\u0275\u0275classMapInterpolate5:vv,\u0275\u0275classMapInterpolate6:Ry,\u0275\u0275classMapInterpolate7:Hm,\u0275\u0275classMapInterpolate8:Ev,\u0275\u0275classMapInterpolateV:Oy,\u0275\u0275styleMap:ca,\u0275\u0275styleMapInterpolate1:My,\u0275\u0275styleMapInterpolate2:Md,\u0275\u0275styleMapInterpolate3:Xc,\u0275\u0275styleMapInterpolate4:Ha,\u0275\u0275styleMapInterpolate5:Py,\u0275\u0275styleMapInterpolate6:xy,\u0275\u0275styleMapInterpolate7:Og,\u0275\u0275styleMapInterpolate8:Mg,\u0275\u0275styleMapInterpolateV:ja,\u0275\u0275styleProp:P_,\u0275\u0275stylePropInterpolate1:Ny,\u0275\u0275stylePropInterpolate2:jm,\u0275\u0275stylePropInterpolate3:Zh,\u0275\u0275stylePropInterpolate4:Pd,\u0275\u0275stylePropInterpolate5:Wm,\u0275\u0275stylePropInterpolate6:xd,\u0275\u0275stylePropInterpolate7:ky,\u0275\u0275stylePropInterpolate8:Ly,\u0275\u0275stylePropInterpolateV:Fy,\u0275\u0275classProp:x_,\u0275\u0275advance:Gp,\u0275\u0275template:ay,\u0275\u0275text:Dy,\u0275\u0275textInterpolate:F_,\u0275\u0275textInterpolate1:Vm,\u0275\u0275textInterpolate2:by,\u0275\u0275textInterpolate3:mv,\u0275\u0275textInterpolate4:_v,\u0275\u0275textInterpolate5:B_,\u0275\u0275textInterpolate6:Ty,\u0275\u0275textInterpolate7:Ay,\u0275\u0275textInterpolate8:$m,\u0275\u0275textInterpolateV:U_,\u0275\u0275i18n:UI,\u0275\u0275i18nAttributes:VI,\u0275\u0275i18nExp:AE,\u0275\u0275i18nStart:bE,\u0275\u0275i18nEnd:TE,\u0275\u0275i18nApply:$I,\u0275\u0275i18nPostprocess:HI,\u0275\u0275resolveWindow:nm,\u0275\u0275resolveDocument:rm,\u0275\u0275resolveBody:Hl,\u0275\u0275setComponentScope:Tn,\u0275\u0275setNgModuleScope:Xe,\u0275\u0275registerNgModuleType:Wd,\u0275\u0275sanitizeHtml:Gs,\u0275\u0275sanitizeStyle:Ui,\u0275\u0275sanitizeResourceUrl:Kd,\u0275\u0275sanitizeScript:Nl,\u0275\u0275sanitizeUrl:cf,\u0275\u0275sanitizeUrlOrResourceUrl:sd,\u0275\u0275trustConstantHtml:Cp,\u0275\u0275trustConstantResourceUrl:va,forwardRef:_e,resolveForwardRef:xe};let Zm=null;function a0(n){return void 0!==n.ngModule}function c0(n){return!!pn(n)}const z_=[];let $v=!1;function l0(n){return Array.isArray(n)?n.every(l0):!!xe(n)}function kC(n,r={}){(function LC(n,r,a=!1){const d=xs(r.declarations||zn);let p=null;Object.defineProperty(n,gr,{configurable:!0,get:()=>(null===p&&(p=Hi().compileNgModule(Tc,`ng:///${n.name}/\u0275mod.js`,{type:n,bootstrap:xs(r.bootstrap||zn).map(xe),declarations:d.map(xe),imports:xs(r.imports||zn).map(xe).map(p0),exports:xs(r.exports||zn).map(xe).map(p0),schemas:r.schemas?xs(r.schemas):null,id:r.id||null}),p.schemas||(p.schemas=[])),p)});let _=null;Object.defineProperty(n,vr,{get:()=>{if(null===_){const O=Hi();_=O.compileFactory(Tc,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,deps:kc(n),target:O.FactoryTarget.NgModule,typeArgumentCount:0})}return _},configurable:!1});let w=null;Object.defineProperty(n,Rt,{get:()=>{if(null===w){const O={name:n.name,type:n,providers:r.providers||zn,imports:[(r.imports||zn).map(xe),(r.exports||zn).map(xe)]};w=Hi().compileInjector(Tc,`ng:///${n.name}/\u0275inj.js`,O)}return w},configurable:!1})})(n,r),void 0!==r.id&&Wd(n,r.id),function xC(n,r){z_.push({moduleType:n,ngModule:r})}(n,r)}function BC(n,r){const a=xs(r.declarations||zn),d=Xm(n);a.forEach(p=>{if((p=xe(p)).hasOwnProperty(Mr)){f0(Y(p),d)}else!p.hasOwnProperty(sr)&&!p.hasOwnProperty(Zr)&&(p.ngSelectorScope=n)})}function f0(n,r){n.directiveDefs=()=>Array.from(r.compilation.directives).map(a=>a.hasOwnProperty(Mr)?Y(a):je(a)).filter(a=>!!a),n.pipeDefs=()=>Array.from(r.compilation.pipes).map(a=>Nt(a)),n.schemas=r.schemas,n.tView=null}function Xm(n){if(c0(n))return function UC(n){const r=pn(n,!0);if(null!==r.transitiveCompileScopes)return r.transitiveCompileScopes;const a={schemas:r.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Ca(r.imports).forEach(d=>{const p=Xm(d);p.exported.directives.forEach(_=>a.compilation.directives.add(_)),p.exported.pipes.forEach(_=>a.compilation.pipes.add(_))}),Ca(r.declarations).forEach(d=>{Nt(d)?a.compilation.pipes.add(d):a.compilation.directives.add(d)}),Ca(r.exports).forEach(d=>{const p=d;if(c0(p)){const _=Xm(p);_.exported.directives.forEach(w=>{a.compilation.directives.add(w),a.exported.directives.add(w)}),_.exported.pipes.forEach(w=>{a.compilation.pipes.add(w),a.exported.pipes.add(w)})}else Nt(p)?a.exported.pipes.add(p):a.exported.directives.add(p)}),r.transitiveCompileScopes=a,a}(n);if(on(n)){if(null!==(Y(n)||je(n)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([n]),pipes:new Set}};if(null!==Nt(n))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([n])}}}throw new Error(`${n.name} does not have a module def (\u0275mod property)`)}function p0(n){return a0(n)?n.ngModule:n}let Wv=0;function VC(n,r){let a=null;(function js(n,r){Lc(r)&&(Zi.set(n,r),ri.add(n))})(n,r),_0(n,r),Object.defineProperty(n,Mr,{get:()=>{if(null===a){const d=Hi();if(Lc(r)){const K=[`Component '${n.name}' is not resolved:`];throw r.templateUrl&&K.push(` - templateUrl: ${r.templateUrl}`),r.styleUrls&&r.styleUrls.length&&K.push(` - styleUrls: ${JSON.stringify(r.styleUrls)}`),K.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(K.join("\n"))}const p=function PC(){return Zm}();let _=r.preserveWhitespaces;void 0===_&&(_=null!==p&&void 0!==p.preserveWhitespaces&&p.preserveWhitespaces);let w=r.encapsulation;void 0===w&&(w=null!==p&&void 0!==p.defaultEncapsulation?p.defaultEncapsulation:bn.Emulated);const O=r.templateUrl||`ng:///${n.name}/template.html`,L=Object.assign(Object.assign({},y0(n,r)),{typeSourceSpan:d.createParseSourceSpan("Component",n.name,O),template:r.template||"",preserveWhitespaces:_,styles:r.styles||zn,animations:r.animations,declarations:[],changeDetection:r.changeDetection,encapsulation:w,interpolation:r.interpolation,viewProviders:r.viewProviders||null,isStandalone:!!r.standalone});Wv++;try{if(L.usesInheritance&&v0(n),a=d.compileComponent(Tc,O,L),r.standalone){const K=xs(r.imports||zn),{directiveDefs:fe,pipeDefs:Ke}=function HC(n,r){let a=null,d=null;return{directiveDefs:()=>{if(null===a){a=[Y(n)];const w=new Set;for(const O of r){const L=xe(O);if(!w.has(L))if(w.add(L),pn(L)){const K=Xm(L);for(const fe of K.exported.directives){const Ke=Y(fe)||je(fe);Ke&&!w.has(fe)&&(w.add(fe),a.push(Ke))}}else{const K=Y(L)||je(L);K&&a.push(K)}}}return a},pipeDefs:()=>{if(null===d){d=[];const w=new Set;for(const O of r){const L=xe(O);if(!w.has(L))if(w.add(L),pn(L)){const K=Xm(L);for(const fe of K.exported.pipes){const Ke=Nt(fe);Ke&&!w.has(fe)&&(w.add(fe),d.push(Ke))}}else{const K=Nt(L);K&&d.push(K)}}}return d}}}(n,K);a.directiveDefs=fe,a.pipeDefs=Ke,a.dependencies=()=>K.map(xe)}}finally{Wv--}if(0===Wv&&function NC(){if(!$v){$v=!0;try{for(let n=z_.length-1;n>=0;n--){const{moduleType:r,ngModule:a}=z_[n];a.declarations&&a.declarations.every(l0)&&(z_.splice(n,1),BC(r,a))}}finally{$v=!1}}}(),function jC(n){return void 0!==n.ngSelectorScope}(n)){const K=Xm(n.ngSelectorScope);f0(a,K)}if(r.schemas){if(!r.standalone)throw new Error(`The 'schemas' was specified for the ${be(n)} but is only valid on a component that is standalone.`);a.schemas=r.schemas}else r.standalone&&(a.schemas=[])}return a},configurable:!1})}function g0(n,r){let a=null;_0(n,r||{}),Object.defineProperty(n,sr,{get:()=>{if(null===a){const d=m0(n,r||{});a=Hi().compileDirective(Tc,d.sourceMapUrl,d.metadata)}return a},configurable:!1})}function m0(n,r){const a=n&&n.name,d=`ng:///${a}/\u0275dir.js`,p=Hi(),_=y0(n,r);return _.typeSourceSpan=p.createParseSourceSpan("Directive",a,d),_.usesInheritance&&v0(n),{metadata:_,sourceMapUrl:d}}function _0(n,r){let a=null;Object.defineProperty(n,vr,{get:()=>{if(null===a){const d=m0(n,r),p=Hi();a=p.compileFactory(Tc,`ng:///${n.name}/\u0275fac.js`,{name:d.metadata.name,type:d.metadata.type,typeArgumentCount:0,deps:kc(n),target:p.FactoryTarget.Directive})}return a},configurable:!1})}function WC(n){return Object.getPrototypeOf(n.prototype)===Object.prototype}function y0(n,r){const a=Fi(),d=a.ownPropMetadata(n);return{name:n.name,type:n,selector:void 0!==r.selector?r.selector:null,host:r.host||pr,propMetadata:d,inputs:r.inputs||zn,outputs:r.outputs||zn,queries:E0(n,d,I0),lifecycle:{usesOnChanges:a.hasLifecycleHook(n,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!WC(n),exportAs:KC(r.exportAs),providers:r.providers||null,viewQueries:E0(n,d,C0),isStandalone:!!r.standalone}}function v0(n){const r=Object.prototype;let a=Object.getPrototypeOf(n.prototype).constructor;for(;a&&a!==r;)!je(a)&&!Y(a)&&qC(a)&&g0(a,null),a=Object.getPrototypeOf(a)}function GC(n){return"string"==typeof n?D0(n):xe(n)}function zC(n,r){return{propertyName:n,predicate:GC(r.selector),descendants:r.descendants,first:r.first,read:r.read?r.read:null,static:!!r.static,emitDistinctChangesOnly:!!r.emitDistinctChangesOnly}}function E0(n,r,a){const d=[];for(const p in r)if(r.hasOwnProperty(p)){const _=r[p];_.forEach(w=>{if(a(w)){if(!w.selector)throw new Error(`Can't construct a query for the property "${p}" of "${be(n)}" since the query selector wasn't defined.`);if(_.some(w0))throw new Error("Cannot combine @Input decorators with query decorators");d.push(zC(p,w))}})}return d}function KC(n){return void 0===n?null:D0(n)}function I0(n){const r=n.ngMetadataName;return"ContentChild"===r||"ContentChildren"===r}function C0(n){const r=n.ngMetadataName;return"ViewChild"===r||"ViewChildren"===r}function w0(n){return"Input"===n.ngMetadataName}function D0(n){return n.split(",").map(r=>r.trim())}const YC=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function qC(n){const r=Fi();if(YC.some(d=>r.hasLifecycleHook(n,d)))return!0;const a=r.propMetadata(n);for(const d in a){const p=a[d];for(let _=0;_<p.length;_++){const w=p[_],O=w.ngMetadataName;if(w0(w)||I0(w)||C0(w)||"Output"===O||"HostBinding"===O||"HostListener"===O)return!0}}return!1}function b0(n,r){return{type:n,name:n.name,pipeName:r.name,pure:void 0===r.pure||r.pure,isStandalone:!!r.standalone}}const T0=Fo("Directive",(n={})=>n,void 0,void 0,(n,r)=>g0(n,r)),XC=Fo("Component",(n={})=>Object.assign({changeDetection:Wn.Default},n),T0,void 0,(n,r)=>VC(n,r)),QC=Fo("Pipe",n=>Object.assign({pure:!0},n),void 0,void 0,(n,r)=>function ZC(n,r){let a=null,d=null;Object.defineProperty(n,vr,{get:()=>{if(null===d){const p=b0(n,r),_=Hi(p.type);d=_.compileFactory(Tc,`ng:///${p.name}/\u0275fac.js`,{name:p.name,type:p.type,typeArgumentCount:0,deps:kc(n),target:_.FactoryTarget.Pipe})}return d},configurable:!1}),Object.defineProperty(n,Zr,{get:()=>{if(null===a){const p=b0(n,r);a=Hi(p.type).compilePipe(Tc,`ng:///${p.name}/\u0275pipe.js`,p)}return a},configurable:!1})}(n,r)),JC=io("Input",n=>({bindingPropertyName:n})),ew=io("Output",n=>({bindingPropertyName:n})),tw=io("HostBinding",n=>({hostPropertyName:n})),nw=io("HostListener",(n,r)=>({eventName:n,args:r})),rw=Fo("NgModule",n=>n,void 0,void 0,(n,r)=>kC(n,r));function qy(...n){}const A0=new Di("Application Initializer");class Jh{constructor(r){this.appInits=r,this.resolve=qy,this.reject=qy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const r=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Tg(p))r.push(p);else if(b_(p)){const _=new Promise((w,O)=>{p.subscribe({complete:w,error:O})});r.push(_)}}Promise.all(r).then(()=>{a()}).catch(d=>{this.reject(d)}),0===r.length&&a(),this.initialized=!0}}Jh.\u0275fac=function(r){return new(r||Jh)(ns(A0,8))},Jh.\u0275prov=St({token:Jh,factory:Jh.\u0275fac,providedIn:"root"});const S0=new Di("AppId",{providedIn:"root",factory:R0});function R0(){return`${Gv()}${Gv()}${Gv()}`}function Gv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const O0=new Di("Platform Initializer"),iw=new Di("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),M0=new Di("appBootstrapListener");new Di("Application Packages Root URL"),new Di("AnimationModuleType");class Qm{log(r){console.log(r)}warn(r){console.warn(r)}}Qm.\u0275fac=function(r){return new(r||Qm)},Qm.\u0275prov=St({token:Qm,factory:Qm.\u0275fac,providedIn:"platform"});const Zy=new Di("LocaleId",{providedIn:"root",factory:()=>Nc(Zy,bt.Optional|bt.SkipSelf)||function sw(){return"undefined"!=typeof $localize&&$localize.locale||Qh}()}),ow=new Di("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});new Di("Translations"),new Di("TranslationsFormat");var P0;!function(n){n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Ignore=2]="Ignore"}(P0||(P0={}));class aw{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}class Jm{compileModuleSync(r){return new Ov(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const a=this.compileModuleSync(r),p=Ca(pn(r).declarations).reduce((_,w)=>{const O=Y(w);return O&&_.push(new $h(O)),_},[]);return new aw(a,p)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}Jm.\u0275fac=function(r){return new(r||Jm)},Jm.\u0275prov=St({token:Jm,factory:Jm.\u0275fac,providedIn:"root"});new Di("compilerOptions");const uw=Promise.resolve(0);function zv(n){"undefined"==typeof Zone?uw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class su{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kd(!1),this.onMicrotaskEmpty=new kd(!1),this.onStable=new kd(!1),this.onError=new kd(!1),"undefined"==typeof Zone)throw new Ge(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&a,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function dw(){let n=Bn.requestAnimationFrame,r=Bn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function pw(n){const r=()=>{!function fw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Bn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Yv(n),n.isCheckStableRunning=!0,Kv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Yv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,p,_,w,O)=>{try{return k0(n),a.invokeTask(p,_,w,O)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&r(),L0(n)}},onInvoke:(a,d,p,_,w,O,L)=>{try{return k0(n),a.invoke(p,_,w,O,L)}finally{n.shouldCoalesceRunChangeDetection&&r(),L0(n)}},onHasTask:(a,d,p,_)=>{a.hasTask(p,_),d===p&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,Yv(n),Kv(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(a,d,p,_)=>(a.handleError(p,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!su.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(su.isInAngularZone())throw new Ge(909,!1)}run(r,a,d){return this._inner.run(r,a,d)}runTask(r,a,d,p){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+p,r,hw,qy,qy);try{return _.runTask(w,a,d)}finally{_.cancelTask(w)}}runGuarded(r,a,d){return this._inner.runGuarded(r,a,d)}runOutsideAngular(r){return this._outer.run(r)}}const hw={};function Kv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Yv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function k0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function L0(n){n._nesting--,Kv(n)}class gw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kd,this.onMicrotaskEmpty=new kd,this.onStable=new kd,this.onError=new kd}run(r,a,d){return r.apply(a,d)}runGuarded(r,a,d){return r.apply(a,d)}runOutsideAngular(r){return r()}runTask(r,a,d,p){return r.apply(a,d)}}const F0=new Di(""),B0=new Di("");class e_{constructor(r,a,d){this._ngZone=r,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,K_||(function mw(n){K_=n}(d),d.addToWindow(a)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{su.assertNotInAngularZone(),zv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zv(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(r)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,a,d){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),r(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:r,timeoutId:p,updateCb:d})}whenStable(r,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,a,d){return[]}}e_.\u0275fac=function(r){return new(r||e_)(ns(su),ns(Pg),ns(B0))},e_.\u0275prov=St({token:e_,factory:e_.\u0275fac});class Pg{constructor(){this._applications=new Map}registerApplication(r,a){this._applications.set(r,a)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,a=!0){var d;return null!==(d=null==K_?void 0:K_.findTestabilityInTree(this,r,a))&&void 0!==d?d:null}}let K_;Pg.\u0275fac=function(r){return new(r||Pg)},Pg.\u0275prov=St({token:Pg,factory:Pg.\u0275fac,providedIn:"platform"});let Ld=null;const U0=new Di("AllowMultipleToken"),qv=new Di("PlatformDestroyListeners"),ef=!1;class vw{constructor(r,a){this.name=r,this.token=a}}function V0(n){const r=n.get(O0,null);r&&r.forEach(a=>a())}function $0(n,r,a=[]){const d=`Platform: ${r}`,p=new Di(d);return(_=[])=>{let w=Zv();if(!w||w.injector.get(U0,!1)){const O=[...a,..._,{provide:p,useValue:!0}];n?n(O):function Ew(n){if(Ld&&!Ld.get(U0,!1))throw new Ge(400,!1);Ld=n;const r=n.get(xg);return V0(n),r}(H0(O,d))}return function Cw(n){const r=Zv();if(!r)throw new Ge(401,!1);return r}()}}function H0(n=[],r){return ba.create({name:r,providers:[{provide:mu,useValue:"platform"},{provide:qv,useValue:new Set([()=>Ld=null])},...n]})}function Zv(){var n;return null!==(n=null==Ld?void 0:Ld.get(xg))&&void 0!==n?n:null}class xg{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,a){const d=W0(null==a?void 0:a.ngZone,j0(a)),p=[{provide:su,useValue:d}];return d.run(()=>{const _=ba.create({providers:p,parent:this.injector,name:r.moduleType.name}),w=r.create(_),O=w.injector.get(ih,null);if(!O)throw new Ge(402,!1);return d.runOutsideAngular(()=>{const L=d.onError.subscribe({next:K=>{O.handleError(K)}});w.onDestroy(()=>{Xy(this._modules,w),L.unsubscribe()})}),G0(O,d,()=>{const L=w.injector.get(Jh);return L.runInitializers(),L.donePromise.then(()=>(s(w.injector.get(Zy,Qh)||Qh),this._moduleDoBootstrap(w),w))})})}bootstrapModule(r,a=[]){const d=z0({},a);return function _w(n,r,a){const d=new Ov(a);return Promise.resolve(d)}(this.injector,0,r).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(r){const a=r.injector.get(tf);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!r.instance.ngDoBootstrap)throw new Ge(403,!1);r.instance.ngDoBootstrap(a)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const r=this._injector.get(qv,null);r&&(r.forEach(a=>a()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}function j0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}function W0(n,r){let a;return a="noop"===n?new gw:("zone.js"===n?void 0:n)||new su(r),a}function G0(n,r,a){try{const d=a();return Tg(d)?d.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):d}catch(d){throw r.runOutsideAngular(()=>n.handleError(d)),d}}function z0(n,r){return n=Array.isArray(r)?r.reduce(z0,n):Object.assign(Object.assign({},n),r)}xg.\u0275fac=function(r){return new(r||xg)(ns(ba))},xg.\u0275prov=St({token:xg,factory:xg.\u0275fac,providedIn:"platform"});class tf{constructor(r,a,d){this._zone=r,this._injector=a,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new $.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),_=new $.y(w=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{su.assertNotInAngularZone(),zv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{su.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{O.unsubscribe(),L.unsubscribe()}});this.isStable=(0,Le.T)(p,_.pipe((0,Fe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,a){const d=r instanceof cd;if(!this._injector.get(Jh).done){!d&&on(r);throw new Ge(405,ef)}let _;_=d?r:this._injector.get(ol).resolveComponentFactory(r),this.componentTypes.push(_.componentType);const w=function yw(n){return n.isBoundToModule}(_)?void 0:this._injector.get(Ym),O=a||_.selector,L=_.create(ba.NULL,[],O,w),K=L.location.nativeElement,fe=L.injector.get(F0,null);return null==fe||fe.registerApplication(K),L.onDestroy(()=>{this.detachView(L.hostView),Xy(this.components,L),null==fe||fe.unregisterApplication(K)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const a=r;this._views.push(a),a.attachToAppRef(this)}detachView(r){const a=r;Xy(this._views,a),a.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(M0,[]).concat(this._bootstrapListeners).forEach(d=>d(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Xy(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Ge(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}function Xy(n,r){const a=n.indexOf(r);a>-1&&n.splice(a,1)}tf.\u0275fac=function(r){return new(r||tf)(ns(su),ns(_u),ns(ih))},tf.\u0275prov=St({token:tf,factory:tf.\u0275fac,providedIn:"root"});let Y0=!0,q0=!1;function Dw(){return q0=!0,Y0}function bw(){if(q0)throw new Error("Cannot enable prod mode after platform setup.");Y0=!1}class X0{}X0.__NG_ELEMENT_ID__=function Tw(n){return function Aw(n,r,a){if(ut(n)&&!a){const d=Yn(n.index,r);return new _l(d,d)}if(47&n.type){const d=r[16];return new _l(d,r)}return null}(q(),yn(),16==(16&n))};class eI{constructor(){}supports(r){return dr(r)}create(r){return new xw(r)}}const Pw=(n,r)=>r;class xw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Pw}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,d=this._removalsHead,p=0,_=null;for(;a||d;){const w=!d||a&&a.currentIndex<nI(d,p,_)?a:d,O=nI(w,p,_),L=w.currentIndex;if(w===d)p--,d=d._nextRemoved;else if(a=a._next,null==w.previousIndex)p++;else{_||(_=[]);const K=O-p,fe=L-p;if(K!=fe){for(let Dt=0;Dt<K;Dt++){const Yt=Dt<_.length?_[Dt]:_[Dt]=0,mn=Yt+Dt;fe<=mn&&mn<K&&(_[Dt]=Yt+1)}_[w.previousIndex]=fe-K}}O!==L&&r(w,O,L)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!dr(r))throw new Ge(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,_,w,a=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let O=0;O<this.length;O++)_=r[O],w=this._trackByFn(O,_),null!==a&&Object.is(a.trackById,w)?(d&&(a=this._verifyReinsertion(a,_,w,O)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,w,O),d=!0),a=a._next}else p=0,function Ei(n,r){if(Array.isArray(n))for(let a=0;a<n.length;a++)r(n[a]);else{const a=n[Gt()]();let d;for(;!(d=a.next()).done;)r(d.value)}}(r,O=>{w=this._trackByFn(p,O),null!==a&&Object.is(a.trackById,w)?(d&&(a=this._verifyReinsertion(a,O,w,p)),Object.is(a.item,O)||this._addIdentityChange(a,O)):(a=this._mismatch(a,O,w,p),d=!0),a=a._next,p++}),this.length=p;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,d,p){let _;return null===r?_=this._itTail:(_=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,_,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,_,p)):r=this._addAfter(new Nw(a,d),_,p),r}_verifyReinsertion(r,a,d,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?r=this._reinsertAfter(_,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,_=r._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(r,a,d),this._addToMoves(r,d),r}_moveAfter(r,a,d){return this._unlink(r),this._insertAfter(r,a,d),this._addToMoves(r,d),r}_addAfter(r,a,d){return this._insertAfter(r,a,d),null===this._additionsTail?this._additionsTail=this._additionsHead=r:this._additionsTail=this._additionsTail._nextAdded=r,r}_insertAfter(r,a,d){const p=null===a?this._itHead:a._next;return r._next=p,r._prev=a,null===p?this._itTail=r:p._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new tI),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,d=r._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(null===this._movesTail?this._movesTail=this._movesHead=r:this._movesTail=this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tI),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=r:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=r,r}}class Nw{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const a=r._prevDup,d=r._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class tI{constructor(){this.map=new Map}put(r){const a=r.trackById;let d=this.map.get(a);d||(d=new kw,this.map.set(a,d)),d.add(r)}get(r,a){const d=r,p=this.map.get(d);return p?p.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nI(n,r,a){const d=n.previousIndex;if(null===d)return d;let p=0;return a&&d<a.length&&(p=a[d]),d+r+p}class rI{constructor(){}supports(r){return r instanceof Map||Ls(r)}create(){return new Lw}}class Lw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||Ls(r)))throw new Ge(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,p)=>{if(a&&a.key===p)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const _=this._getOrCreateRecordForKey(p,d);a=this._insertBeforeOrAppend(a,_)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const d=r._prev;return a._next=r,a._prev=d,r._prev=a,d&&(d._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,a);const _=p._prev,w=p._next;return _&&(_._next=w),w&&(w._prev=_),p._next=null,p._prev=null,p}const d=new Fw(r);return this._records.set(r,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(d=>a(r[d],d))}}class Fw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iI(){return new Fd([new eI])}class Fd{constructor(r){this.factories=r}static create(r,a){if(null!=a){const d=a.factories.slice();r=r.concat(d)}return new Fd(r)}static extend(r){return{provide:Fd,useFactory:a=>Fd.create(r,a||iI()),deps:[[Fd,new vi,new Oa]]}}find(r){const a=this.factories.find(d=>d.supports(r));if(null!=a)return a;throw new Ge(901,!1)}}function sI(){return new Bd([new rI])}Fd.\u0275prov=St({token:Fd,providedIn:"root",factory:iI});class Bd{constructor(r){this.factories=r}static create(r,a){if(a){const d=a.factories.slice();r=r.concat(d)}return new Bd(r)}static extend(r){return{provide:Bd,useFactory:a=>Bd.create(r,a||sI()),deps:[[Bd,new vi,new Oa]]}}find(r){const a=this.factories.find(d=>d.supports(r));if(a)return a;throw new Ge(901,!1)}}Bd.\u0275prov=St({token:Bd,providedIn:"root",factory:sI});const Bw=[new rI],Uw=[new eI],Vw=(new Fd(Uw),new Bd(Bw),$0(null,"core",[]));class t_{constructor(r){}}function $w(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}t_.\u0275fac=function(r){return new(r||t_)(ns(tf))},t_.\u0275mod=lr({type:t_}),t_.\u0275inj=qt({})},1915:(ln,at,R)=>{"use strict";R.d(at,{NI:()=>ut,u5:()=>Do,JU:()=>Ge,a5:()=>Et,JJ:()=>Wn,JL:()=>En,F:()=>_t,On:()=>As,UX:()=>Qi,kI:()=>ie,_Y:()=>Ti});var c=R(3184),B=R(6362),$=R(3609),Le=R(833),Fe=R(5756),Ie=R(4987),le=R(420),Ce=R(3945),$e=R(8385),ue=R(1054);var xe=R(635);class de{constructor(D,H){this._renderer=D,this._elementRef=H,this.onChange=ot=>{},this.onTouched=()=>{}}setProperty(D,H){this._renderer.setProperty(this._elementRef.nativeElement,D,H)}registerOnTouched(D){this.onTouched=D}registerOnChange(D){this.onChange=D}setDisabledState(D){this.setProperty("disabled",D)}}de.\u0275fac=function(D){return new(D||de)(c.Y36(c.Qsj),c.Y36(c.SBq))},de.\u0275dir=c.lG2({type:de});class Be extends de{}Be.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(Be)))(H||Be)}}(),Be.\u0275dir=c.lG2({type:Be,features:[c.qOj]});const Ge=new c.OlP("NgValueAccessor"),dt={provide:Ge,useExisting:(0,c.Gpc)(()=>Me),multi:!0};class Me extends Be{writeValue(D){this.setProperty("checked",D)}}Me.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(Me)))(H||Me)}}(),Me.\u0275dir=c.lG2({type:Me,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(D,H){1&D&&c.NdJ("change",function(Jt){return H.onChange(Jt.target.checked)})("blur",function(){return H.onTouched()})},features:[c._Bn([dt]),c.qOj]});const be={provide:Ge,useExisting:(0,c.Gpc)(()=>mt),multi:!0};const xt=new c.OlP("CompositionEventMode");class mt extends de{constructor(D,H,ot){super(D,H),this._compositionMode=ot,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ee(){const te=(0,B.q)()?(0,B.q)().getUserAgent():"";return/android (\d+)/.test(te.toLowerCase())}())}writeValue(D){const H=null==D?"":D;this.setProperty("value",H)}_handleInput(D){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(D)}_compositionStart(){this._composing=!0}_compositionEnd(D){this._composing=!1,this._compositionMode&&this.onChange(D)}}mt.\u0275fac=function(D){return new(D||mt)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(xt,8))},mt.\u0275dir=c.lG2({type:mt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(D,H){1&D&&c.NdJ("input",function(Jt){return H._handleInput(Jt.target.value)})("blur",function(){return H.onTouched()})("compositionstart",function(){return H._compositionStart()})("compositionend",function(Jt){return H._compositionEnd(Jt.target.value)})},features:[c._Bn([be]),c.qOj]});function et(te){return null==te||("string"==typeof te||Array.isArray(te))&&0===te.length}function nt(te){return null!=te&&"number"==typeof te.length}const me=new c.OlP("NgValidators"),De=new c.OlP("NgAsyncValidators"),st=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ie{static min(D){return ee(D)}static max(D){return oe(D)}static required(D){return J(D)}static requiredTrue(D){return ge(D)}static email(D){return Ne(D)}static minLength(D){return Ae(D)}static maxLength(D){return Ve(D)}static pattern(D){return qe(D)}static nullValidator(D){return null}static compose(D){return an(D)}static composeAsync(D){return ir(D)}}function ee(te){return D=>{if(et(D.value)||et(te))return null;const H=parseFloat(D.value);return!isNaN(H)&&H<te?{min:{min:te,actual:D.value}}:null}}function oe(te){return D=>{if(et(D.value)||et(te))return null;const H=parseFloat(D.value);return!isNaN(H)&&H>te?{max:{max:te,actual:D.value}}:null}}function J(te){return et(te.value)?{required:!0}:null}function ge(te){return!0===te.value?null:{required:!0}}function Ne(te){return et(te.value)||st.test(te.value)?null:{email:!0}}function Ae(te){return D=>et(D.value)||!nt(D.value)?null:D.value.length<te?{minlength:{requiredLength:te,actualLength:D.value.length}}:null}function Ve(te){return D=>nt(D.value)&&D.value.length>te?{maxlength:{requiredLength:te,actualLength:D.value.length}}:null}function qe(te){if(!te)return Se;let D,H;return"string"==typeof te?(H="","^"!==te.charAt(0)&&(H+="^"),H+=te,"$"!==te.charAt(te.length-1)&&(H+="$"),D=new RegExp(H)):(H=te.toString(),D=te),ot=>{if(et(ot.value))return null;const Jt=ot.value;return D.test(Jt)?null:{pattern:{requiredPattern:H,actualValue:Jt}}}}function Se(te){return null}function Ye(te){return null!=te}function it(te){const D=(0,c.QGY)(te)?(0,$.D)(te):te;return D}function lt(te){let D={};return te.forEach(H=>{D=null!=H?Object.assign(Object.assign({},D),H):D}),0===Object.keys(D).length?null:D}function St(te,D){return D.map(H=>H(te))}function qt(te){return te.map(D=>function Ht(te){return!te.validate}(D)?D:H=>D.validate(H))}function an(te){if(!te)return null;const D=te.filter(Ye);return 0==D.length?null:function(H){return lt(St(H,D))}}function Fn(te){return null!=te?an(qt(te)):null}function ir(te){if(!te)return null;const D=te.filter(Ye);return 0==D.length?null:function(H){return function _e(...te){const D=(0,le.jO)(te),{args:H,keys:ot}=(0,Fe.D)(te),Jt=new Le.y(Hr=>{const{length:pi}=H;if(!pi)return void Hr.complete();const Os=new Array(pi);let ys=pi,bo=pi;for(let Sa=0;Sa<pi;Sa++){let $s=!1;(0,Ie.Xf)(H[Sa]).subscribe((0,Ce.x)(Hr,qo=>{$s||($s=!0,bo--),Os[Sa]=qo},()=>ys--,void 0,()=>{(!ys||!$s)&&(bo||Hr.next(ot?(0,ue.n)(ot,Os):Os),Hr.complete())}))}});return D?Jt.pipe((0,$e.Z)(D)):Jt}(St(H,D).map(it)).pipe((0,xe.U)(lt))}}function tr(te){return null!=te?ir(qt(te)):null}function jn(te,D){return null===te?[D]:Array.isArray(te)?[...te,D]:[te,D]}function Mn(te){return te._rawValidators}function z(te){return te._rawAsyncValidators}function Rt(te){return te?Array.isArray(te)?te:[te]:[]}function Vt(te,D){return Array.isArray(te)?te.includes(D):te===D}function hn(te,D){const H=Rt(D);return Rt(te).forEach(Jt=>{Vt(H,Jt)||H.push(Jt)}),H}function bt(te,D){return Rt(D).filter(H=>!Vt(te,H))}class rn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(D){this._rawValidators=D||[],this._composedValidatorFn=Fn(this._rawValidators)}_setAsyncValidators(D){this._rawAsyncValidators=D||[],this._composedAsyncValidatorFn=tr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(D){this._onDestroyCallbacks.push(D)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(D=>D()),this._onDestroyCallbacks=[]}reset(D){this.control&&this.control.reset(D)}hasError(D,H){return!!this.control&&this.control.hasError(D,H)}getError(D,H){return this.control?this.control.getError(D,H):null}}class Et extends rn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cn extends rn{get formDirective(){return null}get path(){return null}}class nr{constructor(D){this._cd=D}get isTouched(){var D,H;return!(null===(H=null===(D=this._cd)||void 0===D?void 0:D.control)||void 0===H||!H.touched)}get isUntouched(){var D,H;return!(null===(H=null===(D=this._cd)||void 0===D?void 0:D.control)||void 0===H||!H.untouched)}get isPristine(){var D,H;return!(null===(H=null===(D=this._cd)||void 0===D?void 0:D.control)||void 0===H||!H.pristine)}get isDirty(){var D,H;return!(null===(H=null===(D=this._cd)||void 0===D?void 0:D.control)||void 0===H||!H.dirty)}get isValid(){var D,H;return!(null===(H=null===(D=this._cd)||void 0===D?void 0:D.control)||void 0===H||!H.valid)}get isInvalid(){var D,H;return!(null===(H=null===(D=this._cd)||void 0===D?void 0:D.control)||void 0===H||!H.invalid)}get isPending(){var D,H;return!(null===(H=null===(D=this._cd)||void 0===D?void 0:D.control)||void 0===H||!H.pending)}get isSubmitted(){var D;return!(null===(D=this._cd)||void 0===D||!D.submitted)}}Object.assign(Object.assign({},{"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"}),{"[class.ng-submitted]":"isSubmitted"});class Wn extends nr{constructor(D){super(D)}}Wn.\u0275fac=function(D){return new(D||Wn)(c.Y36(Et,2))},Wn.\u0275dir=c.lG2({type:Wn,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(D,H){2&D&&c.ekj("ng-untouched",H.isUntouched)("ng-touched",H.isTouched)("ng-pristine",H.isPristine)("ng-dirty",H.isDirty)("ng-valid",H.isValid)("ng-invalid",H.isInvalid)("ng-pending",H.isPending)},features:[c.qOj]});class En extends nr{constructor(D){super(D)}}En.\u0275fac=function(D){return new(D||En)(c.Y36(cn,10))},En.\u0275dir=c.lG2({type:En,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(D,H){2&D&&c.ekj("ng-untouched",H.isUntouched)("ng-touched",H.isTouched)("ng-pristine",H.isPristine)("ng-dirty",H.isDirty)("ng-valid",H.isValid)("ng-invalid",H.isInvalid)("ng-pending",H.isPending)("ng-submitted",H.isSubmitted)},features:[c.qOj]});const lr="VALID",Xe="INVALID",Te="PENDING",tt="DISABLED";function Ue(te){return(on(te)?te.validators:te)||null}function Y(te){return Array.isArray(te)?Fn(te):te||null}function je(te,D){return(on(D)?D.asyncValidators:te)||null}function Nt(te){return Array.isArray(te)?tr(te):te||null}function on(te){return null!=te&&!Array.isArray(te)&&"object"==typeof te}function pn(te,D,H){const ot=te.controls;if(!(D?Object.keys(ot):ot).length)throw new c.vHH(1e3,"");if(!ot[H])throw new c.vHH(1001,"")}function Hn(te,D,H){te._forEachChild((ot,Jt)=>{if(void 0===H[Jt])throw new c.vHH(1002,"")})}class Ot{constructor(D,H){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=D,this._rawAsyncValidators=H,this._composedValidatorFn=Y(this._rawValidators),this._composedAsyncValidatorFn=Nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(D){this._rawValidators=this._composedValidatorFn=D}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(D){this._rawAsyncValidators=this._composedAsyncValidatorFn=D}get parent(){return this._parent}get valid(){return this.status===lr}get invalid(){return this.status===Xe}get pending(){return this.status==Te}get disabled(){return this.status===tt}get enabled(){return this.status!==tt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(D){this._rawValidators=D,this._composedValidatorFn=Y(D)}setAsyncValidators(D){this._rawAsyncValidators=D,this._composedAsyncValidatorFn=Nt(D)}addValidators(D){this.setValidators(hn(D,this._rawValidators))}addAsyncValidators(D){this.setAsyncValidators(hn(D,this._rawAsyncValidators))}removeValidators(D){this.setValidators(bt(D,this._rawValidators))}removeAsyncValidators(D){this.setAsyncValidators(bt(D,this._rawAsyncValidators))}hasValidator(D){return Vt(this._rawValidators,D)}hasAsyncValidator(D){return Vt(this._rawAsyncValidators,D)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(D={}){this.touched=!0,this._parent&&!D.onlySelf&&this._parent.markAsTouched(D)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(D=>D.markAllAsTouched())}markAsUntouched(D={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(H=>{H.markAsUntouched({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}markAsDirty(D={}){this.pristine=!1,this._parent&&!D.onlySelf&&this._parent.markAsDirty(D)}markAsPristine(D={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(H=>{H.markAsPristine({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}markAsPending(D={}){this.status=Te,!1!==D.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!D.onlySelf&&this._parent.markAsPending(D)}disable(D={}){const H=this._parentMarkedDirty(D.onlySelf);this.status=tt,this.errors=null,this._forEachChild(ot=>{ot.disable(Object.assign(Object.assign({},D),{onlySelf:!0}))}),this._updateValue(),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},D),{skipPristineCheck:H})),this._onDisabledChange.forEach(ot=>ot(!0))}enable(D={}){const H=this._parentMarkedDirty(D.onlySelf);this.status=lr,this._forEachChild(ot=>{ot.enable(Object.assign(Object.assign({},D),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},D),{skipPristineCheck:H})),this._onDisabledChange.forEach(ot=>ot(!1))}_updateAncestors(D){this._parent&&!D.onlySelf&&(this._parent.updateValueAndValidity(D),D.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(D){this._parent=D}getRawValue(){return this.value}updateValueAndValidity(D={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lr||this.status===Te)&&this._runAsyncValidator(D.emitEvent)),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!D.onlySelf&&this._parent.updateValueAndValidity(D)}_updateTreeValidity(D={emitEvent:!0}){this._forEachChild(H=>H._updateTreeValidity(D)),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tt:lr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(D){if(this.asyncValidator){this.status=Te,this._hasOwnPendingAsyncValidator=!0;const H=it(this.asyncValidator(this));this._asyncValidationSubscription=H.subscribe(ot=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ot,{emitEvent:D})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(D,H={}){this.errors=D,this._updateControlsErrors(!1!==H.emitEvent)}get(D){let H=D;return null==H||(Array.isArray(H)||(H=H.split(".")),0===H.length)?null:H.reduce((ot,Jt)=>ot&&ot._find(Jt),this)}getError(D,H){const ot=H?this.get(H):this;return ot&&ot.errors?ot.errors[D]:null}hasError(D,H){return!!this.getError(D,H)}get root(){let D=this;for(;D._parent;)D=D._parent;return D}_updateControlsErrors(D){this.status=this._calculateStatus(),D&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(D)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?tt:this.errors?Xe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Te)?Te:this._anyControlsHaveStatus(Xe)?Xe:lr}_anyControlsHaveStatus(D){return this._anyControls(H=>H.status===D)}_anyControlsDirty(){return this._anyControls(D=>D.dirty)}_anyControlsTouched(){return this._anyControls(D=>D.touched)}_updatePristine(D={}){this.pristine=!this._anyControlsDirty(),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}_updateTouched(D={}){this.touched=this._anyControlsTouched(),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}_registerOnCollectionChange(D){this._onCollectionChange=D}_setUpdateStrategy(D){on(D)&&null!=D.updateOn&&(this._updateOn=D.updateOn)}_parentMarkedDirty(D){const H=this._parent&&this._parent.dirty;return!D&&!!H&&!this._parent._anyControlsDirty()}_find(D){return null}}class X extends Ot{constructor(D,H,ot){super(Ue(H),je(ot,H)),this.controls=D,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(D,H){return this.controls[D]?this.controls[D]:(this.controls[D]=H,H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange),H)}addControl(D,H,ot={}){this.registerControl(D,H),this.updateValueAndValidity({emitEvent:ot.emitEvent}),this._onCollectionChange()}removeControl(D,H={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}setControl(D,H,ot={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],H&&this.registerControl(D,H),this.updateValueAndValidity({emitEvent:ot.emitEvent}),this._onCollectionChange()}contains(D){return this.controls.hasOwnProperty(D)&&this.controls[D].enabled}setValue(D,H={}){Hn(this,0,D),Object.keys(D).forEach(ot=>{pn(this,!0,ot),this.controls[ot].setValue(D[ot],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(D,H={}){null!=D&&(Object.keys(D).forEach(ot=>{const Jt=this.controls[ot];Jt&&Jt.patchValue(D[ot],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(D={},H={}){this._forEachChild((ot,Jt)=>{ot.reset(D[Jt],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H),this._updateTouched(H),this.updateValueAndValidity(H)}getRawValue(){return this._reduceChildren({},(D,H,ot)=>(D[ot]=H.getRawValue(),D))}_syncPendingControls(){let D=this._reduceChildren(!1,(H,ot)=>!!ot._syncPendingControls()||H);return D&&this.updateValueAndValidity({onlySelf:!0}),D}_forEachChild(D){Object.keys(this.controls).forEach(H=>{const ot=this.controls[H];ot&&D(ot,H)})}_setUpControls(){this._forEachChild(D=>{D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(D){for(const[H,ot]of Object.entries(this.controls))if(this.contains(H)&&D(ot))return!0;return!1}_reduceValue(){return this._reduceChildren({},(H,ot,Jt)=>((ot.enabled||this.disabled)&&(H[Jt]=ot.value),H))}_reduceChildren(D,H){let ot=D;return this._forEachChild((Jt,Hr)=>{ot=H(ot,Jt,Hr)}),ot}_allControlsDisabled(){for(const D of Object.keys(this.controls))if(this.controls[D].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(D){return this.controls.hasOwnProperty(D)?this.controls[D]:null}}class Ut extends X{}function Qe(te,D){return[...D.path,te]}function Je(te,D){var H,ot;ct(te,D),D.valueAccessor.writeValue(te.value),te.disabled&&(null===(ot=(H=D.valueAccessor).setDisabledState)||void 0===ot||ot.call(H,!0)),function x(te,D){D.valueAccessor.registerOnChange(H=>{te._pendingValue=H,te._pendingChange=!0,te._pendingDirty=!0,"change"===te.updateOn&&ye(te,D)})}(te,D),function Ct(te,D){const H=(ot,Jt)=>{D.valueAccessor.writeValue(ot),Jt&&D.viewToModelUpdate(ot)};te.registerOnChange(H),D._registerOnDestroy(()=>{te._unregisterOnChange(H)})}(te,D),function j(te,D){D.valueAccessor.registerOnTouched(()=>{te._pendingTouched=!0,"blur"===te.updateOn&&te._pendingChange&&ye(te,D),"submit"!==te.updateOn&&te.markAsTouched()})}(te,D),function xn(te,D){if(D.valueAccessor.setDisabledState){const H=ot=>{D.valueAccessor.setDisabledState(ot)};te.registerOnDisabledChange(H),D._registerOnDestroy(()=>{te._unregisterOnDisabledChange(H)})}}(te,D)}function zt(te,D,H=!0){const ot=()=>{};D.valueAccessor&&(D.valueAccessor.registerOnChange(ot),D.valueAccessor.registerOnTouched(ot)),Z(te,D),te&&(D._invokeOnDestroyCallbacks(),te._registerOnCollectionChange(()=>{}))}function un(te,D){te.forEach(H=>{H.registerOnValidatorChange&&H.registerOnValidatorChange(D)})}function ct(te,D){const H=Mn(te);null!==D.validator?te.setValidators(jn(H,D.validator)):"function"==typeof H&&te.setValidators([H]);const ot=z(te);null!==D.asyncValidator?te.setAsyncValidators(jn(ot,D.asyncValidator)):"function"==typeof ot&&te.setAsyncValidators([ot]);const Jt=()=>te.updateValueAndValidity();un(D._rawValidators,Jt),un(D._rawAsyncValidators,Jt)}function Z(te,D){let H=!1;if(null!==te){if(null!==D.validator){const Jt=Mn(te);if(Array.isArray(Jt)&&Jt.length>0){const Hr=Jt.filter(pi=>pi!==D.validator);Hr.length!==Jt.length&&(H=!0,te.setValidators(Hr))}}if(null!==D.asyncValidator){const Jt=z(te);if(Array.isArray(Jt)&&Jt.length>0){const Hr=Jt.filter(pi=>pi!==D.asyncValidator);Hr.length!==Jt.length&&(H=!0,te.setAsyncValidators(Hr))}}}const ot=()=>{};return un(D._rawValidators,ot),un(D._rawAsyncValidators,ot),H}function ye(te,D){te._pendingDirty&&te.markAsDirty(),te.setValue(te._pendingValue,{emitModelToViewChange:!1}),D.viewToModelUpdate(te._pendingValue),te._pendingChange=!1}function It(te,D){ct(te,D)}function Lr(te,D){if(!te.hasOwnProperty("model"))return!1;const H=te.model;return!!H.isFirstChange()||!Object.is(D,H.currentValue)}function Ii(te,D){te._syncPendingControls(),D.forEach(H=>{const ot=H.control;"submit"===ot.updateOn&&ot._pendingChange&&(H.viewToModelUpdate(ot._pendingValue),ot._pendingChange=!1)})}function li(te,D){if(!D)return null;let H,ot,Jt;return Array.isArray(D),D.forEach(Hr=>{Hr.constructor===mt?H=Hr:function jr(te){return Object.getPrototypeOf(te.constructor)===Be}(Hr)?ot=Hr:Jt=Hr}),Jt||ot||H||null}const Re={provide:cn,useExisting:(0,c.Gpc)(()=>_t)},pt=Promise.resolve();class _t extends cn{constructor(D,H){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new X({},Fn(D),tr(H))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(D){pt.then(()=>{const H=this._findContainer(D.path);D.control=H.registerControl(D.name,D.control),Je(D.control,D),D.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(D)})}getControl(D){return this.form.get(D.path)}removeControl(D){pt.then(()=>{const H=this._findContainer(D.path);H&&H.removeControl(D.name),this._directives.delete(D)})}addFormGroup(D){pt.then(()=>{const H=this._findContainer(D.path),ot=new X({});It(ot,D),H.registerControl(D.name,ot),ot.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(D){pt.then(()=>{const H=this._findContainer(D.path);H&&H.removeControl(D.name)})}getFormGroup(D){return this.form.get(D.path)}updateModel(D,H){pt.then(()=>{this.form.get(D.path).setValue(H)})}setValue(D){this.control.setValue(D)}onSubmit(D){var H;return this.submitted=!0,Ii(this.form,this._directives),this.ngSubmit.emit(D),"dialog"===(null===(H=null==D?void 0:D.target)||void 0===H?void 0:H.method)}onReset(){this.resetForm()}resetForm(D){this.form.reset(D),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(D){return D.pop(),D.length?this.form.get(D):this.form}}function $t(te,D){const H=te.indexOf(D);H>-1&&te.splice(H,1)}function we(te){return"object"==typeof te&&null!==te&&2===Object.keys(te).length&&"value"in te&&"disabled"in te}_t.\u0275fac=function(D){return new(D||_t)(c.Y36(me,10),c.Y36(De,10))},_t.\u0275dir=c.lG2({type:_t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(D,H){1&D&&c.NdJ("submit",function(Jt){return H.onSubmit(Jt)})("reset",function(){return H.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Re]),c.qOj]});const ut=class extends Ot{constructor(D=null,H,ot){super(Ue(H),je(ot,H)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(D),this._setUpdateStrategy(H),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),on(H)&&(H.nonNullable||H.initialValueIsDefault)&&(we(D)?this.defaultValue=D.value:this.defaultValue=D)}setValue(D,H={}){this.value=this._pendingValue=D,this._onChange.length&&!1!==H.emitModelToViewChange&&this._onChange.forEach(ot=>ot(this.value,!1!==H.emitViewToModelChange)),this.updateValueAndValidity(H)}patchValue(D,H={}){this.setValue(D,H)}reset(D=this.defaultValue,H={}){this._applyFormState(D),this.markAsPristine(H),this.markAsUntouched(H),this.setValue(this.value,H),this._pendingChange=!1}_updateValue(){}_anyControls(D){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(D){this._onChange.push(D)}_unregisterOnChange(D){$t(this._onChange,D)}registerOnDisabledChange(D){this._onDisabledChange.push(D)}_unregisterOnDisabledChange(D){$t(this._onDisabledChange,D)}_forEachChild(D){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(D){we(D)?(this.value=this._pendingValue=D.value,D.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=D}};class en extends cn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Qe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}en.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(en)))(H||en)}}(),en.\u0275dir=c.lG2({type:en,features:[c.qOj]});const Fr={provide:cn,useExisting:(0,c.Gpc)(()=>ui)};class ui extends en{constructor(D,H,ot){super(),this._parent=D,this._setValidators(H),this._setAsyncValidators(ot)}_checkParentType(){!(this._parent instanceof ui)&&this._parent}}ui.\u0275fac=function(D){return new(D||ui)(c.Y36(cn,5),c.Y36(me,10),c.Y36(De,10))},ui.\u0275dir=c.lG2({type:ui,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[c._Bn([Fr]),c.qOj]});const bi={provide:Et,useExisting:(0,c.Gpc)(()=>As)},Ys=Promise.resolve();class As extends Et{constructor(D,H,ot,Jt,Hr){super(),this._changeDetectorRef=Hr,this.control=new ut,this._registered=!1,this.update=new c.vpe,this._parent=D,this._setValidators(H),this._setAsyncValidators(ot),this.valueAccessor=li(0,Jt)}ngOnChanges(D){if(this._checkForErrors(),!this._registered||"name"in D){if(this._registered&&(this._checkName(),this.formDirective)){const H=D.name.previousValue;this.formDirective.removeControl({name:H,path:this._getPath(H)})}this._setUpControl()}"isDisabled"in D&&this._updateDisabled(D),Lr(D,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Je(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(D){Ys.then(()=>{var H;this.control.setValue(D,{emitViewToModelChange:!1}),null===(H=this._changeDetectorRef)||void 0===H||H.markForCheck()})}_updateDisabled(D){const H=D.isDisabled.currentValue,ot=0!==H&&(0,c.D6c)(H);Ys.then(()=>{var Jt;ot&&!this.control.disabled?this.control.disable():!ot&&this.control.disabled&&this.control.enable(),null===(Jt=this._changeDetectorRef)||void 0===Jt||Jt.markForCheck()})}_getPath(D){return this._parent?Qe(D,this._parent):[D]}}As.\u0275fac=function(D){return new(D||As)(c.Y36(cn,9),c.Y36(me,10),c.Y36(De,10),c.Y36(Ge,10),c.Y36(c.sBO,8))},As.\u0275dir=c.lG2({type:As,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([bi]),c.qOj,c.TTD]});class Ti{}Ti.\u0275fac=function(D){return new(D||Ti)},Ti.\u0275dir=c.lG2({type:Ti,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});const Pi={provide:Ge,useExisting:(0,c.Gpc)(()=>qs),multi:!0};class qs extends Be{writeValue(D){const H=null==D?"":D;this.setProperty("value",H)}registerOnChange(D){this.onChange=H=>{D(""==H?null:parseFloat(H))}}}qs.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(qs)))(H||qs)}}(),qs.\u0275dir=c.lG2({type:qs,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(D,H){1&D&&c.NdJ("input",function(Jt){return H.onChange(Jt.target.value)})("blur",function(){return H.onTouched()})},features:[c._Bn([Pi]),c.qOj]});const Ss={provide:Ge,useExisting:(0,c.Gpc)(()=>vt),multi:!0};class Us{}Us.\u0275fac=function(D){return new(D||Us)},Us.\u0275mod=c.oAB({type:Us}),Us.\u0275inj=c.cJS({});class Ki{constructor(){this._accessors=[]}add(D,H){this._accessors.push([D,H])}remove(D){for(let H=this._accessors.length-1;H>=0;--H)if(this._accessors[H][1]===D)return void this._accessors.splice(H,1)}select(D){this._accessors.forEach(H=>{this._isSameGroup(H,D)&&H[1]!==D&&H[1].fireUncheck(D.value)})}_isSameGroup(D,H){return!!D[0].control&&(D[0]._parent===H._control._parent&&D[1].name===H.name)}}Ki.\u0275fac=function(D){return new(D||Ki)},Ki.\u0275prov=c.Yz7({token:Ki,factory:Ki.\u0275fac,providedIn:Us});class vt extends Be{constructor(D,H,ot,Jt){super(D,H),this._registry=ot,this._injector=Jt,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Et),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(D){this._state=D===this.value,this.setProperty("checked",this._state)}registerOnChange(D){this._fn=D,this.onChange=()=>{D(this.value),this._registry.select(this)}}fireUncheck(D){this.writeValue(D)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}}vt.\u0275fac=function(D){return new(D||vt)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Ki),c.Y36(c.zs3))},vt.\u0275dir=c.lG2({type:vt,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(D,H){1&D&&c.NdJ("change",function(){return H.onChange()})("blur",function(){return H.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c._Bn([Ss]),c.qOj]});const gt={provide:Ge,useExisting:(0,c.Gpc)(()=>kt),multi:!0};class kt extends Be{writeValue(D){this.setProperty("value",parseFloat(D))}registerOnChange(D){this.onChange=H=>{D(""==H?null:parseFloat(H))}}}kt.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(kt)))(H||kt)}}(),kt.\u0275dir=c.lG2({type:kt,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(D,H){1&D&&c.NdJ("change",function(Jt){return H.onChange(Jt.target.value)})("input",function(Jt){return H.onChange(Jt.target.value)})("blur",function(){return H.onTouched()})},features:[c._Bn([gt]),c.qOj]});const Qt=new c.OlP("NgModelWithFormControlWarning"),vn={provide:Et,useExisting:(0,c.Gpc)(()=>Vn)};class Vn extends Et{constructor(D,H,ot,Jt){super(),this._ngModelWarningConfig=Jt,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(D),this._setAsyncValidators(H),this.valueAccessor=li(0,ot)}set isDisabled(D){}ngOnChanges(D){if(this._isControlChanged(D)){const H=D.form.previousValue;H&&zt(H,this,!1),Je(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Lr(D,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&zt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}_isControlChanged(D){return D.hasOwnProperty("form")}}Vn._ngModelWarningSentOnce=!1,Vn.\u0275fac=function(D){return new(D||Vn)(c.Y36(me,10),c.Y36(De,10),c.Y36(Ge,10),c.Y36(Qt,8))},Vn.\u0275dir=c.lG2({type:Vn,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([vn]),c.qOj,c.TTD]});const Ar={provide:cn,useExisting:(0,c.Gpc)(()=>ei)};class ei extends cn{constructor(D,H){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(D),this._setAsyncValidators(H)}ngOnChanges(D){this._checkFormPresent(),D.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Z(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(D){const H=this.form.get(D.path);return Je(H,D),H.updateValueAndValidity({emitEvent:!1}),this.directives.push(D),H}getControl(D){return this.form.get(D.path)}removeControl(D){zt(D.control||null,D,!1),function zi(te,D){const H=te.indexOf(D);H>-1&&te.splice(H,1)}(this.directives,D)}addFormGroup(D){this._setUpFormContainer(D)}removeFormGroup(D){this._cleanUpFormContainer(D)}getFormGroup(D){return this.form.get(D.path)}addFormArray(D){this._setUpFormContainer(D)}removeFormArray(D){this._cleanUpFormContainer(D)}getFormArray(D){return this.form.get(D.path)}updateModel(D,H){this.form.get(D.path).setValue(H)}onSubmit(D){var H;return this.submitted=!0,Ii(this.form,this.directives),this.ngSubmit.emit(D),"dialog"===(null===(H=null==D?void 0:D.target)||void 0===H?void 0:H.method)}onReset(){this.resetForm()}resetForm(D){this.form.reset(D),this.submitted=!1}_updateDomValue(){this.directives.forEach(D=>{const H=D.control,ot=this.form.get(D.path);H!==ot&&(zt(H||null,D),ot instanceof ut&&(Je(ot,D),D.control=ot))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(D){const H=this.form.get(D.path);It(H,D),H.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(D){if(this.form){const H=this.form.get(D.path);H&&function _n(te,D){return Z(te,D)}(H,D)&&H.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ct(this.form,this),this._oldForm&&Z(this._oldForm,this)}_checkFormPresent(){this.form}}ei.\u0275fac=function(D){return new(D||ei)(c.Y36(me,10),c.Y36(De,10))},ei.\u0275dir=c.lG2({type:ei,selectors:[["","formGroup",""]],hostBindings:function(D,H){1&D&&c.NdJ("submit",function(Jt){return H.onSubmit(Jt)})("reset",function(){return H.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Ar]),c.qOj,c.TTD]});const Sr={provide:cn,useExisting:(0,c.Gpc)(()=>Xr)};class Xr extends en{constructor(D,H,ot){super(),this._parent=D,this._setValidators(H),this._setAsyncValidators(ot)}_checkParentType(){Yi(this._parent)}}Xr.\u0275fac=function(D){return new(D||Xr)(c.Y36(cn,13),c.Y36(me,10),c.Y36(De,10))},Xr.\u0275dir=c.lG2({type:Xr,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c._Bn([Sr]),c.qOj]});const Xi={provide:cn,useExisting:(0,c.Gpc)(()=>Pr)};class Pr extends cn{constructor(D,H,ot){super(),this._parent=D,this._setValidators(H),this._setAsyncValidators(ot)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Qe(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Yi(this._parent)}}function Yi(te){return!(te instanceof Xr||te instanceof ei||te instanceof Pr)}Pr.\u0275fac=function(D){return new(D||Pr)(c.Y36(cn,13),c.Y36(me,10),c.Y36(De,10))},Pr.\u0275dir=c.lG2({type:Pr,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c._Bn([Xi]),c.qOj]});const Ai={provide:Et,useExisting:(0,c.Gpc)(()=>ii)};class ii extends Et{constructor(D,H,ot,Jt,Hr){super(),this._ngModelWarningConfig=Hr,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=D,this._setValidators(H),this._setAsyncValidators(ot),this.valueAccessor=li(0,Jt)}set isDisabled(D){}ngOnChanges(D){this._added||this._setUpControl(),Lr(D,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}get path(){return Qe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}ii._ngModelWarningSentOnce=!1,ii.\u0275fac=function(D){return new(D||ii)(c.Y36(cn,13),c.Y36(me,10),c.Y36(De,10),c.Y36(Ge,10),c.Y36(Qt,8))},ii.\u0275dir=c.lG2({type:ii,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Ai]),c.qOj,c.TTD]});const hs={provide:Ge,useExisting:(0,c.Gpc)(()=>ti),multi:!0};function Rs(te,D){return null==te?`${D}`:(D&&"object"==typeof D&&(D="Object"),`${te}: ${D}`.slice(0,50))}class ti extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(D){this._compareWith=D}writeValue(D){this.value=D;const ot=Rs(this._getOptionId(D),D);this.setProperty("value",ot)}registerOnChange(D){this.onChange=H=>{this.value=this._getOptionValue(H),D(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(D){for(const H of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(H),D))return H;return null}_getOptionValue(D){const H=function Vi(te){return te.split(":")[0]}(D);return this._optionMap.has(H)?this._optionMap.get(H):D}}ti.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(ti)))(H||ti)}}(),ti.\u0275dir=c.lG2({type:ti,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(D,H){1&D&&c.NdJ("change",function(Jt){return H.onChange(Jt.target.value)})("blur",function(){return H.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([hs]),c.qOj]});class ws{constructor(D,H,ot){this._element=D,this._renderer=H,this._select=ot,this._select&&(this.id=this._select._registerOption())}set ngValue(D){null!=this._select&&(this._select._optionMap.set(this.id,D),this._setElementValue(Rs(this.id,D)),this._select.writeValue(this._select.value))}set value(D){this._setElementValue(D),this._select&&this._select.writeValue(this._select.value)}_setElementValue(D){this._renderer.setProperty(this._element.nativeElement,"value",D)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}ws.\u0275fac=function(D){return new(D||ws)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(ti,9))},ws.\u0275dir=c.lG2({type:ws,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});const fs={provide:Ge,useExisting:(0,c.Gpc)(()=>Ze),multi:!0};function ps(te,D){return null==te?`${D}`:("string"==typeof D&&(D=`'${D}'`),D&&"object"==typeof D&&(D="Object"),`${te}: ${D}`.slice(0,50))}class Ze extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(D){this._compareWith=D}writeValue(D){let H;if(this.value=D,Array.isArray(D)){const ot=D.map(Jt=>this._getOptionId(Jt));H=(Jt,Hr)=>{Jt._setSelected(ot.indexOf(Hr.toString())>-1)}}else H=(ot,Jt)=>{ot._setSelected(!1)};this._optionMap.forEach(H)}registerOnChange(D){this.onChange=H=>{const ot=[],Jt=H.selectedOptions;if(void 0!==Jt){const Hr=Jt;for(let pi=0;pi<Hr.length;pi++){const Os=Hr[pi],ys=this._getOptionValue(Os.value);ot.push(ys)}}else{const Hr=H.options;for(let pi=0;pi<Hr.length;pi++){const Os=Hr[pi];if(Os.selected){const ys=this._getOptionValue(Os.value);ot.push(ys)}}}this.value=ot,D(ot)}}_registerOption(D){const H=(this._idCounter++).toString();return this._optionMap.set(H,D),H}_getOptionId(D){for(const H of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(H)._value,D))return H;return null}_getOptionValue(D){const H=function Vs(te){return te.split(":")[0]}(D);return this._optionMap.has(H)?this._optionMap.get(H)._value:D}}Ze.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(Ze)))(H||Ze)}}(),Ze.\u0275dir=c.lG2({type:Ze,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(D,H){1&D&&c.NdJ("change",function(Jt){return H.onChange(Jt.target)})("blur",function(){return H.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([fs]),c.qOj]});class ke{constructor(D,H,ot){this._element=D,this._renderer=H,this._select=ot,this._select&&(this.id=this._select._registerOption(this))}set ngValue(D){null!=this._select&&(this._value=D,this._setElementValue(ps(this.id,D)),this._select.writeValue(this._select.value))}set value(D){this._select?(this._value=D,this._setElementValue(ps(this.id,D)),this._select.writeValue(this._select.value)):this._setElementValue(D)}_setElementValue(D){this._renderer.setProperty(this._element.nativeElement,"value",D)}_setSelected(D){this._renderer.setProperty(this._element.nativeElement,"selected",D)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function ft(te){return"number"==typeof te?te:parseInt(te,10)}function Lt(te){return"number"==typeof te?te:parseFloat(te)}ke.\u0275fac=function(D){return new(D||ke)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Ze,9))},ke.\u0275dir=c.lG2({type:ke,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});class Zt{constructor(){this._validator=Se}ngOnChanges(D){if(this.inputName in D){const H=this.normalizeInput(D[this.inputName].currentValue);this._enabled=this.enabled(H),this._validator=this._enabled?this.createValidator(H):Se,this._onChange&&this._onChange()}}validate(D){return this._validator(D)}registerOnValidatorChange(D){this._onChange=D}enabled(D){return null!=D}}Zt.\u0275fac=function(D){return new(D||Zt)},Zt.\u0275dir=c.lG2({type:Zt,features:[c.TTD]});const Cn={provide:me,useExisting:(0,c.Gpc)(()=>Nn),multi:!0};class Nn extends Zt{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=D=>Lt(D),this.createValidator=D=>oe(D)}}Nn.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(Nn)))(H||Nn)}}(),Nn.\u0275dir=c.lG2({type:Nn,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(D,H){2&D&&c.uIk("max",H._enabled?H.max:null)},inputs:{max:"max"},features:[c._Bn([Cn]),c.qOj]});const Yn={provide:me,useExisting:(0,c.Gpc)(()=>Cr),multi:!0};class Cr extends Zt{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=D=>Lt(D),this.createValidator=D=>ee(D)}}Cr.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(Cr)))(H||Cr)}}(),Cr.\u0275dir=c.lG2({type:Cr,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(D,H){2&D&&c.uIk("min",H._enabled?H.min:null)},inputs:{min:"min"},features:[c._Bn([Yn]),c.qOj]});const Wr={provide:me,useExisting:(0,c.Gpc)(()=>Vr),multi:!0},Qr={provide:me,useExisting:(0,c.Gpc)(()=>ni),multi:!0};class Vr extends Zt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=D=>J}enabled(D){return D}}Vr.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(Vr)))(H||Vr)}}(),Vr.\u0275dir=c.lG2({type:Vr,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(D,H){2&D&&c.uIk("required",H._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Wr]),c.qOj]});class ni extends Vr{constructor(){super(...arguments),this.createValidator=D=>ge}}ni.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(ni)))(H||ni)}}(),ni.\u0275dir=c.lG2({type:ni,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(D,H){2&D&&c.uIk("required",H._enabled?"":null)},features:[c._Bn([Qr]),c.qOj]});const $i={provide:me,useExisting:(0,c.Gpc)(()=>Er),multi:!0};class Er extends Zt{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=c.D6c,this.createValidator=D=>Ne}enabled(D){return D}}Er.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(Er)))(H||Er)}}(),Er.\u0275dir=c.lG2({type:Er,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([$i]),c.qOj]});const Ds={provide:me,useExisting:(0,c.Gpc)(()=>Si),multi:!0};class Si extends Zt{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=D=>ft(D),this.createValidator=D=>Ae(D)}}Si.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(Si)))(H||Si)}}(),Si.\u0275dir=c.lG2({type:Si,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(D,H){2&D&&c.uIk("minlength",H._enabled?H.minlength:null)},inputs:{minlength:"minlength"},features:[c._Bn([Ds]),c.qOj]});const no={provide:me,useExisting:(0,c.Gpc)(()=>_s),multi:!0};class _s extends Zt{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=D=>ft(D),this.createValidator=D=>Ve(D)}}_s.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(_s)))(H||_s)}}(),_s.\u0275dir=c.lG2({type:_s,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(D,H){2&D&&c.uIk("maxlength",H._enabled?H.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c._Bn([no]),c.qOj]});const ki={provide:me,useExisting:(0,c.Gpc)(()=>Li),multi:!0};class Li extends Zt{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=D=>D,this.createValidator=D=>qe(D)}}Li.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(Li)))(H||Li)}}(),Li.\u0275dir=c.lG2({type:Li,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(D,H){2&D&&c.uIk("pattern",H._enabled?H.pattern:null)},inputs:{pattern:"pattern"},features:[c._Bn([ki]),c.qOj]});class $r{}$r.\u0275fac=function(D){return new(D||$r)},$r.\u0275mod=c.oAB({type:$r}),$r.\u0275inj=c.cJS({imports:[Us]});class Do{}Do.\u0275fac=function(D){return new(D||Do)},Do.\u0275mod=c.oAB({type:Do}),Do.\u0275inj=c.cJS({imports:[$r]});class Qi{static withConfig(D){return{ngModule:Qi,providers:[{provide:Qt,useValue:D.warnOnNgModelWithFormControl}]}}}Qi.\u0275fac=function(D){return new(D||Qi)},Qi.\u0275mod=c.oAB({type:Qi}),Qi.\u0275inj=c.cJS({imports:[$r]});class q extends Ot{constructor(D,H,ot){super(Ue(H),je(ot,H)),this.controls=D,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(D){return this.controls[this._adjustIndex(D)]}push(D,H={}){this.controls.push(D),this._registerControl(D),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}insert(D,H,ot={}){this.controls.splice(D,0,H),this._registerControl(H),this.updateValueAndValidity({emitEvent:ot.emitEvent})}removeAt(D,H={}){let ot=this._adjustIndex(D);ot<0&&(ot=0),this.controls[ot]&&this.controls[ot]._registerOnCollectionChange(()=>{}),this.controls.splice(ot,1),this.updateValueAndValidity({emitEvent:H.emitEvent})}setControl(D,H,ot={}){let Jt=this._adjustIndex(D);Jt<0&&(Jt=0),this.controls[Jt]&&this.controls[Jt]._registerOnCollectionChange(()=>{}),this.controls.splice(Jt,1),H&&(this.controls.splice(Jt,0,H),this._registerControl(H)),this.updateValueAndValidity({emitEvent:ot.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(D,H={}){Hn(this,0,D),D.forEach((ot,Jt)=>{pn(this,!1,Jt),this.at(Jt).setValue(ot,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(D,H={}){null!=D&&(D.forEach((ot,Jt)=>{this.at(Jt)&&this.at(Jt).patchValue(ot,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(D=[],H={}){this._forEachChild((ot,Jt)=>{ot.reset(D[Jt],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H),this._updateTouched(H),this.updateValueAndValidity(H)}getRawValue(){return this.controls.map(D=>D.getRawValue())}clear(D={}){this.controls.length<1||(this._forEachChild(H=>H._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:D.emitEvent}))}_adjustIndex(D){return D<0?D+this.length:D}_syncPendingControls(){let D=this.controls.reduce((H,ot)=>!!ot._syncPendingControls()||H,!1);return D&&this.updateValueAndValidity({onlySelf:!0}),D}_forEachChild(D){this.controls.forEach((H,ot)=>{D(H,ot)})}_updateValue(){this.value=this.controls.filter(D=>D.enabled||this.disabled).map(D=>D.value)}_anyControls(D){return this.controls.some(H=>H.enabled&&D(H))}_setUpControls(){this._forEachChild(D=>this._registerControl(D))}_allControlsDisabled(){for(const D of this.controls)if(D.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(D){D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange)}_find(D){var H;return null!==(H=this.at(D))&&void 0!==H?H:null}}function ae(te){return!!te&&(void 0!==te.asyncValidators||void 0!==te.validators||void 0!==te.updateOn)}class Bt{constructor(){this.useNonNullable=!1}get nonNullable(){const D=new Bt;return D.useNonNullable=!0,D}group(D,H=null){const ot=this._reduceControls(D);let Jt={};return ae(H)?Jt=H:null!==H&&(Jt.validators=H.validator,Jt.asyncValidators=H.asyncValidator),new X(ot,Jt)}record(D,H=null){const ot=this._reduceControls(D);return new Ut(ot,H)}control(D,H,ot){let Jt={};return this.useNonNullable?(ae(H)?Jt=H:(Jt.validators=H,Jt.asyncValidators=ot),new ut(D,Object.assign(Object.assign({},Jt),{nonNullable:!0}))):new ut(D,H,ot)}array(D,H,ot){const Jt=D.map(Hr=>this._createControl(Hr));return new q(Jt,H,ot)}_reduceControls(D){const H={};return Object.keys(D).forEach(ot=>{H[ot]=this._createControl(D[ot])}),H}_createControl(D){if(D instanceof ut)return D;if(D instanceof Ot)return D;if(Array.isArray(D)){const H=D[0],ot=D.length>1?D[1]:null,Jt=D.length>2?D[2]:null;return this.control(H,ot,Jt)}return this.control(D)}}Bt.\u0275fac=function(D){return new(D||Bt)},Bt.\u0275prov=c.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:Qi});class gn{}gn.\u0275fac=function(D){return new(D||gn)},gn.\u0275prov=c.Yz7({token:gn,factory:function(){return(0,c.f3M)(Bt).nonNullable},providedIn:Qi});class ur extends Bt{group(D,H=null){return super.group(D,H)}control(D,H,ot){return super.control(D,H,ot)}array(D,H,ot){return super.array(D,H,ot)}}ur.\u0275fac=function(){let te;return function(H){return(te||(te=c.n5z(ur)))(H||ur)}}(),ur.\u0275prov=c.Yz7({token:ur,factory:ur.\u0275fac,providedIn:Qi});new c.GfV("14.2.6")},318:(ln,at,R)=>{"use strict";R.d(at,{Cb:()=>In,Dx:()=>Wn,b2:()=>Et,ki:()=>Wt,q6:()=>Vt});var c=R(6362),B=R(3184);class $ extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Le extends ${static makeCurrent(){(0,c.HT)(new Le)}onAndCancel(X,He,At){return X.addEventListener(He,At,!1),()=>{X.removeEventListener(He,At,!1)}}dispatchEvent(X,He){X.dispatchEvent(He)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,He){return(He=He||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,He){return"window"===He?window:"document"===He?X:"body"===He?X.body:null}getBaseHref(X){const He=function Ie(){return Fe=Fe||document.querySelector("base"),Fe?Fe.getAttribute("href"):null}();return null==He?null:function Ce(Ot){le=le||document.createElement("a"),le.setAttribute("href",Ot);const X=le.pathname;return"/"===X.charAt(0)?X:`/${X}`}(He)}resetBaseElement(){Fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,c.Mx)(document.cookie,X)}}let le,Fe=null;const $e=new B.OlP("TRANSITION_ID");const _e=[{provide:B.ip1,useFactory:function ue(Ot,X,He){return()=>{He.get(B.CZH).donePromise.then(()=>{const At=(0,c.q)(),Ut=X.querySelectorAll(`style[ng-transition="${Ot}"]`);for(let Sn=0;Sn<Ut.length;Sn++)At.remove(Ut[Sn])})}},deps:[$e,c.K0,B.zs3],multi:!0}];class de{build(){return new XMLHttpRequest}}de.\u0275fac=function(X){return new(X||de)},de.\u0275prov=B.Yz7({token:de,factory:de.\u0275fac});const Be=new B.OlP("EventManagerPlugins");class Ge{constructor(X,He){this._zone=He,this._eventNameToPlugin=new Map,X.forEach(At=>At.manager=this),this._plugins=X.slice().reverse()}addEventListener(X,He,At){return this._findPluginFor(He).addEventListener(X,He,At)}addGlobalEventListener(X,He,At){return this._findPluginFor(He).addGlobalEventListener(X,He,At)}getZone(){return this._zone}_findPluginFor(X){const He=this._eventNameToPlugin.get(X);if(He)return He;const At=this._plugins;for(let Ut=0;Ut<At.length;Ut++){const Sn=At[Ut];if(Sn.supports(X))return this._eventNameToPlugin.set(X,Sn),Sn}throw new Error(`No event manager plugin found for event ${X}`)}}Ge.\u0275fac=function(X){return new(X||Ge)(B.LFG(Be),B.LFG(B.R0b))},Ge.\u0275prov=B.Yz7({token:Ge,factory:Ge.\u0275fac});class dt{constructor(X){this._doc=X}addGlobalEventListener(X,He,At){const Ut=(0,c.q)().getGlobalEventTarget(this._doc,X);if(!Ut)throw new Error(`Unsupported event target ${Ut} for event ${He}`);return this.addEventListener(Ut,He,At)}}class Me{constructor(){this._stylesSet=new Set}addStyles(X){const He=new Set;X.forEach(At=>{this._stylesSet.has(At)||(this._stylesSet.add(At),He.add(At))}),this.onStylesAdded(He)}onStylesAdded(X){}getAllStyles(){return Array.from(this._stylesSet)}}Me.\u0275fac=function(X){return new(X||Me)},Me.\u0275prov=B.Yz7({token:Me,factory:Me.\u0275fac});class be extends Me{constructor(X){super(),this._doc=X,this._hostNodes=new Map,this._hostNodes.set(X.head,[])}_addStylesToHost(X,He,At){X.forEach(Ut=>{const Sn=this._doc.createElement("style");Sn.textContent=Ut,At.push(He.appendChild(Sn))})}addHost(X){const He=[];this._addStylesToHost(this._stylesSet,X,He),this._hostNodes.set(X,He)}removeHost(X){const He=this._hostNodes.get(X);He&&He.forEach(Ee),this._hostNodes.delete(X)}onStylesAdded(X){this._hostNodes.forEach((He,At)=>{this._addStylesToHost(X,At,He)})}ngOnDestroy(){this._hostNodes.forEach(X=>X.forEach(Ee))}}function Ee(Ot){(0,c.q)().remove(Ot)}be.\u0275fac=function(X){return new(X||be)(B.LFG(c.K0))},be.\u0275prov=B.Yz7({token:be,factory:be.\u0275fac});const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mt=/%COMP%/g,nt="_nghost-%COMP%",me="_ngcontent-%COMP%";function ie(Ot,X,He){for(let At=0;At<X.length;At++){let Ut=X[At];Array.isArray(Ut)?ie(Ot,Ut,He):(Ut=Ut.replace(mt,Ot),He.push(Ut))}return He}function ee(Ot){return X=>{if("__ngUnwrap__"===X)return Ot;!1===Ot(X)&&(X.preventDefault(),X.returnValue=!1)}}class J{constructor(X,He,At){this.eventManager=X,this.sharedStylesHost=He,this.appId=At,this.rendererByCompId=new Map,this.defaultRenderer=new ge(X)}createRenderer(X,He){if(!X||!He)return this.defaultRenderer;switch(He.encapsulation){case B.ifc.Emulated:{let At=this.rendererByCompId.get(He.id);return At||(At=new qe(this.eventManager,this.sharedStylesHost,He,this.appId),this.rendererByCompId.set(He.id,At)),At.applyToHost(X),At}case 1:case B.ifc.ShadowDom:return new Se(this.eventManager,this.sharedStylesHost,X,He);default:if(!this.rendererByCompId.has(He.id)){const At=ie(He.id,He.styles,[]);this.sharedStylesHost.addStyles(At),this.rendererByCompId.set(He.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}J.\u0275fac=function(X){return new(X||J)(B.LFG(Ge),B.LFG(be),B.LFG(B.AFp))},J.\u0275prov=B.Yz7({token:J,factory:J.\u0275fac});class ge{constructor(X){this.eventManager=X,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,He){return He?document.createElementNS(xt[He]||He,X):document.createElement(X)}createComment(X){return document.createComment(X)}createText(X){return document.createTextNode(X)}appendChild(X,He){(Ve(X)?X.content:X).appendChild(He)}insertBefore(X,He,At){X&&(Ve(X)?X.content:X).insertBefore(He,At)}removeChild(X,He){X&&X.removeChild(He)}selectRootElement(X,He){let At="string"==typeof X?document.querySelector(X):X;if(!At)throw new Error(`The selector "${X}" did not match any elements`);return He||(At.textContent=""),At}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,He,At,Ut){if(Ut){He=Ut+":"+He;const Sn=xt[Ut];Sn?X.setAttributeNS(Sn,He,At):X.setAttribute(He,At)}else X.setAttribute(He,At)}removeAttribute(X,He,At){if(At){const Ut=xt[At];Ut?X.removeAttributeNS(Ut,He):X.removeAttribute(`${At}:${He}`)}else X.removeAttribute(He)}addClass(X,He){X.classList.add(He)}removeClass(X,He){X.classList.remove(He)}setStyle(X,He,At,Ut){Ut&(B.JOm.DashCase|B.JOm.Important)?X.style.setProperty(He,At,Ut&B.JOm.Important?"important":""):X.style[He]=At}removeStyle(X,He,At){At&B.JOm.DashCase?X.style.removeProperty(He):X.style[He]=""}setProperty(X,He,At){X[He]=At}setValue(X,He){X.nodeValue=He}listen(X,He,At){return"string"==typeof X?this.eventManager.addGlobalEventListener(X,He,ee(At)):this.eventManager.addEventListener(X,He,ee(At))}}"@".charCodeAt(0);function Ve(Ot){return"TEMPLATE"===Ot.tagName&&void 0!==Ot.content}class qe extends ge{constructor(X,He,At,Ut){super(X),this.component=At;const Sn=ie(Ut+"-"+At.id,At.styles,[]);He.addStyles(Sn),this.contentAttr=function De(Ot){return me.replace(mt,Ot)}(Ut+"-"+At.id),this.hostAttr=function st(Ot){return nt.replace(mt,Ot)}(Ut+"-"+At.id)}applyToHost(X){super.setAttribute(X,this.hostAttr,"")}createElement(X,He){const At=super.createElement(X,He);return super.setAttribute(At,this.contentAttr,""),At}}class Se extends ge{constructor(X,He,At,Ut){super(X),this.sharedStylesHost=He,this.hostEl=At,this.shadowRoot=At.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Sn=ie(Ut.id,Ut.styles,[]);for(let Qe=0;Qe<Sn.length;Qe++){const Je=document.createElement("style");Je.textContent=Sn[Qe],this.shadowRoot.appendChild(Je)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(X,He){return super.appendChild(this.nodeOrShadowRoot(X),He)}insertBefore(X,He,At){return super.insertBefore(this.nodeOrShadowRoot(X),He,At)}removeChild(X,He){return super.removeChild(this.nodeOrShadowRoot(X),He)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}}class Ye extends dt{constructor(X){super(X)}supports(X){return!0}addEventListener(X,He,At){return X.addEventListener(He,At,!1),()=>this.removeEventListener(X,He,At)}removeEventListener(X,He,At){return X.removeEventListener(He,At)}}Ye.\u0275fac=function(X){return new(X||Ye)(B.LFG(c.K0))},Ye.\u0275prov=B.Yz7({token:Ye,factory:Ye.\u0275fac});const it=["alt","control","meta","shift"],lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},St={alt:Ot=>Ot.altKey,control:Ot=>Ot.ctrlKey,meta:Ot=>Ot.metaKey,shift:Ot=>Ot.shiftKey};class Ht extends dt{constructor(X){super(X)}supports(X){return null!=Ht.parseEventName(X)}addEventListener(X,He,At){const Ut=Ht.parseEventName(He),Sn=Ht.eventCallback(Ut.fullKey,At,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(X,Ut.domEventName,Sn))}static parseEventName(X){const He=X.toLowerCase().split("."),At=He.shift();if(0===He.length||"keydown"!==At&&"keyup"!==At)return null;const Ut=Ht._normalizeKey(He.pop());let Sn="",Qe=He.indexOf("code");if(Qe>-1&&(He.splice(Qe,1),Sn="code."),it.forEach(zt=>{const un=He.indexOf(zt);un>-1&&(He.splice(un,1),Sn+=zt+".")}),Sn+=Ut,0!=He.length||0===Ut.length)return null;const Je={};return Je.domEventName=At,Je.fullKey=Sn,Je}static matchEventFullKeyCode(X,He){let At=lt[X.key]||X.key,Ut="";return He.indexOf("code.")>-1&&(At=X.code,Ut="code."),!(null==At||!At)&&(At=At.toLowerCase()," "===At?At="space":"."===At&&(At="dot"),it.forEach(Sn=>{if(Sn!==At){(0,St[Sn])(X)&&(Ut+=Sn+".")}}),Ut+=At,Ut===He)}static eventCallback(X,He,At){return Ut=>{Ht.matchEventFullKeyCode(Ut,X)&&At.runGuarded(()=>He(Ut))}}static _normalizeKey(X){return"esc"===X?"escape":X}}Ht.\u0275fac=function(X){return new(X||Ht)(B.LFG(c.K0))},Ht.\u0275prov=B.Yz7({token:Ht,factory:Ht.\u0275fac});const Rt=[{provide:B.Lbi,useValue:c.bD},{provide:B.g9A,useValue:function jn(){Le.makeCurrent()},multi:!0},{provide:c.K0,useFactory:function z(){return(0,B.RDi)(document),document},deps:[]}],Vt=(0,B.eFA)(B._c5,"browser",Rt),hn=new B.OlP(""),bt=[{provide:B.rWj,useClass:class xe{addToWindow(X){B.dqk.getAngularTestability=(At,Ut=!0)=>{const Sn=X.findTestabilityInTree(At,Ut);if(null==Sn)throw new Error("Could not find testability for element.");return Sn},B.dqk.getAllAngularTestabilities=()=>X.getAllTestabilities(),B.dqk.getAllAngularRootElements=()=>X.getAllRootElements();B.dqk.frameworkStabilizers||(B.dqk.frameworkStabilizers=[]),B.dqk.frameworkStabilizers.push(At=>{const Ut=B.dqk.getAllAngularTestabilities();let Sn=Ut.length,Qe=!1;const Je=function(zt){Qe=Qe||zt,Sn--,0==Sn&&At(Qe)};Ut.forEach(function(zt){zt.whenStable(Je)})})}findTestabilityInTree(X,He,At){if(null==He)return null;const Ut=X.getTestability(He);return null!=Ut?Ut:At?(0,c.q)().isShadowRoot(He)?this.findTestabilityInTree(X,He.host,!0):this.findTestabilityInTree(X,He.parentElement,!0):null}},deps:[]},{provide:B.lri,useClass:B.dDg,deps:[B.R0b,B.eoX,B.rWj]},{provide:B.dDg,useClass:B.dDg,deps:[B.R0b,B.eoX,B.rWj]}],rn=[{provide:B.zSh,useValue:"root"},{provide:B.qLn,useFactory:function Mn(){return new B.qLn},deps:[]},{provide:Be,useClass:Ye,multi:!0,deps:[c.K0,B.R0b,B.Lbi]},{provide:Be,useClass:Ht,multi:!0,deps:[c.K0]},{provide:J,useClass:J,deps:[Ge,be,B.AFp]},{provide:B.FYo,useExisting:J},{provide:Me,useExisting:be},{provide:be,useClass:be,deps:[c.K0]},{provide:Ge,useClass:Ge,deps:[Be,B.R0b]},{provide:c.JF,useClass:de,deps:[]},[]];class Et{constructor(X){false}static withServerTransition(X){return{ngModule:Et,providers:[{provide:B.AFp,useValue:X.appId},{provide:$e,useExisting:B.AFp},_e]}}}Et.\u0275fac=function(X){return new(X||Et)(B.LFG(hn,12))},Et.\u0275mod=B.oAB({type:Et}),Et.\u0275inj=B.cJS({providers:[...rn,...bt],imports:[c.ez,B.hGG]});class nr{constructor(X){this._doc=X,this._dom=(0,c.q)()}addTag(X,He=!1){return X?this._getOrCreateElement(X,He):null}addTags(X,He=!1){return X?X.reduce((At,Ut)=>(Ut&&At.push(this._getOrCreateElement(Ut,He)),At),[]):[]}getTag(X){return X&&this._doc.querySelector(`meta[${X}]`)||null}getTags(X){if(!X)return[];const He=this._doc.querySelectorAll(`meta[${X}]`);return He?[].slice.call(He):[]}updateTag(X,He){if(!X)return null;He=He||this._parseSelector(X);const At=this.getTag(He);return At?this._setMetaElementAttributes(X,At):this._getOrCreateElement(X,!0)}removeTag(X){this.removeTagElement(this.getTag(X))}removeTagElement(X){X&&this._dom.remove(X)}_getOrCreateElement(X,He=!1){if(!He){const Sn=this._parseSelector(X),Qe=this.getTags(Sn).filter(Je=>this._containsAttributes(X,Je))[0];if(void 0!==Qe)return Qe}const At=this._dom.createElement("meta");return this._setMetaElementAttributes(X,At),this._doc.getElementsByTagName("head")[0].appendChild(At),At}_setMetaElementAttributes(X,He){return Object.keys(X).forEach(At=>He.setAttribute(this._getMetaKeyMap(At),X[At])),He}_parseSelector(X){const He=X.name?"name":"property";return`${He}="${X[He]}"`}_containsAttributes(X,He){return Object.keys(X).every(At=>He.getAttribute(this._getMetaKeyMap(At))===X[At])}_getMetaKeyMap(X){return Gn[X]||X}}nr.\u0275fac=function(X){return new(X||nr)(B.LFG(c.K0))},nr.\u0275prov=B.Yz7({token:nr,factory:function(X){let He=null;return He=X?new X:function cn(){return new nr((0,B.LFG)(c.K0))}(),He},providedIn:"root"});const Gn={httpEquiv:"http-equiv"};class Wn{constructor(X){this._doc=X}getTitle(){return this._doc.title}setTitle(X){this._doc.title=X||""}}Wn.\u0275fac=function(X){return new(X||Wn)(B.LFG(c.K0))},Wn.\u0275prov=B.Yz7({token:Wn,factory:function(X){let He=null;return He=X?new X:function hr(){return new Wn((0,B.LFG)(c.K0))}(),He},providedIn:"root"});"undefined"!=typeof window&&window;function In(Ot){return Ot}class Wt{constructor(){this.store={},this.onSerializeCallbacks={}}get(X,He){return void 0!==this.store[X]?this.store[X]:He}set(X,He){this.store[X]=He}remove(X){delete this.store[X]}hasKey(X){return this.store.hasOwnProperty(X)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(X,He){this.onSerializeCallbacks[X]=He}toJson(){for(const X in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(X))try{this.store[X]=this.onSerializeCallbacks[X]()}catch(He){console.warn("Exception in onSerialize callback: ",He)}return JSON.stringify(this.store)}}Wt.\u0275fac=function(X){return new(X||Wt)},Wt.\u0275prov=B.Yz7({token:Wt,factory:function(){return(()=>{const Ot=(0,B.f3M)(c.K0),X=(0,B.f3M)(B.AFp),He=new Wt;return He.store=function Tn(Ot,X){const He=Ot.getElementById(X+"-state");let At={};if(He&&He.textContent)try{At=JSON.parse(function Un(Ot){const X={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return Ot.replace(/&[^;]+;/g,He=>X[He])}(He.textContent))}catch(Ut){console.warn("Exception while restoring TransferState for app "+X,Ut)}return At}(Ot,X),He})()},providedIn:"root"});class Rn{}Rn.\u0275fac=function(X){return new(X||Rn)},Rn.\u0275mod=B.oAB({type:Rn}),Rn.\u0275inj=B.cJS({});const Xe={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Te=new B.OlP("HammerGestureConfig"),tt=new B.OlP("HammerLoader");class Ue{constructor(){this.events=[],this.overrides={}}buildHammer(X){const He=new Hammer(X,this.options);He.get("pinch").set({enable:!0}),He.get("rotate").set({enable:!0});for(const At in this.overrides)He.get(At).set(this.overrides[At]);return He}}Ue.\u0275fac=function(X){return new(X||Ue)},Ue.\u0275prov=B.Yz7({token:Ue,factory:Ue.\u0275fac});class Y extends dt{constructor(X,He,At,Ut){super(X),this._config=He,this.console=At,this.loader=Ut,this._loaderPromise=null}supports(X){return!(!Xe.hasOwnProperty(X.toLowerCase())&&!this.isCustomEvent(X)||!window.Hammer&&!this.loader)}addEventListener(X,He,At){const Ut=this.manager.getZone();if(He=He.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||Ut.runOutsideAngular(()=>this.loader());let Sn=!1,Qe=()=>{Sn=!0};return Ut.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?Sn||(Qe=this.addEventListener(X,He,At)):Qe=()=>{}}).catch(()=>{Qe=()=>{}})),()=>{Qe()}}return Ut.runOutsideAngular(()=>{const Sn=this._config.buildHammer(X),Qe=function(Je){Ut.runGuarded(function(){At(Je)})};return Sn.on(He,Qe),()=>{Sn.off(He,Qe),"function"==typeof Sn.destroy&&Sn.destroy()}})}isCustomEvent(X){return this._config.events.indexOf(X)>-1}}Y.\u0275fac=function(X){return new(X||Y)(B.LFG(c.K0),B.LFG(Te),B.LFG(B.c2e),B.LFG(tt,8))},Y.\u0275prov=B.Yz7({token:Y,factory:Y.\u0275fac});class je{}je.\u0275fac=function(X){return new(X||je)},je.\u0275mod=B.oAB({type:je}),je.\u0275inj=B.cJS({providers:[{provide:Be,useClass:Y,multi:!0,deps:[c.K0,Te,B.c2e,[new B.FiY,tt]]},{provide:Te,useClass:Ue,deps:[]}]});class Nt{}Nt.\u0275fac=function(X){return new(X||Nt)},Nt.\u0275prov=B.Yz7({token:Nt,factory:function(X){let He=null;return He=X?new(X||Nt):B.LFG(pn),He},providedIn:"root"});class pn extends Nt{constructor(X){super(),this._doc=X}sanitize(X,He){if(null==He)return null;switch(X){case B.q3G.NONE:return He;case B.q3G.HTML:return(0,B.qzn)(He,"HTML")?(0,B.z3N)(He):(0,B.EiD)(this._doc,String(He)).toString();case B.q3G.STYLE:return(0,B.qzn)(He,"Style")?(0,B.z3N)(He):He;case B.q3G.SCRIPT:if((0,B.qzn)(He,"Script"))return(0,B.z3N)(He);throw new Error("unsafe value used in a script context");case B.q3G.URL:return(0,B.qzn)(He,"URL")?(0,B.z3N)(He):(0,B.mCW)(String(He));case B.q3G.RESOURCE_URL:if((0,B.qzn)(He,"ResourceURL"))return(0,B.z3N)(He);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${X} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(X){return(0,B.JVY)(X)}bypassSecurityTrustStyle(X){return(0,B.L6k)(X)}bypassSecurityTrustScript(X){return(0,B.eBb)(X)}bypassSecurityTrustUrl(X){return(0,B.LAX)(X)}bypassSecurityTrustResourceUrl(X){return(0,B.pB0)(X)}}pn.\u0275fac=function(X){return new(X||pn)(B.LFG(c.K0))},pn.\u0275prov=B.Yz7({token:pn,factory:function(X){let He=null;return He=X?new X:function on(Ot){return new pn(Ot.get(c.K0))}(B.LFG(B.zs3)),He},providedIn:"root"});new B.GfV("14.2.6")},993:(ln,at,R)=>{"use strict";R.d(at,{gz:()=>Sr,y6:()=>Lt,OD:()=>en,eC:()=>z,wm:()=>Fo,wN:()=>tn,F0:()=>Kr,rH:()=>Jr,yS:()=>yo,Bz:()=>vo,Hx:()=>Kn});var c=R(3184),B=R(3609),$=R(745),Le=R(6317),Fe=R(4423),Ie=R(833),le=R(5756),Ce=R(9173),$e=R(8385),ue=R(420),_e=R(1054),xe=R(3945),de=R(1817);function Be(...S){const v=(0,ue.yG)(S),b=(0,ue.jO)(S),{args:k,keys:W}=(0,le.D)(S);if(0===k.length)return(0,B.D)([],v);const ce=new Ie.y(function Ge(S,v,b=Ce.y){return k=>{dt(v,()=>{const{length:W}=S,ce=new Array(W);let ve=W,rt=W;for(let sn=0;sn<W;sn++)dt(v,()=>{const qn=(0,B.D)(S[sn],v);let Ln=!1;qn.subscribe((0,xe.x)(k,Or=>{ce[sn]=Or,Ln||(Ln=!0,rt--),rt||k.next(b(ce.slice()))},()=>{--ve||k.complete()}))},k)},k)}}(k,v,W?ve=>(0,_e.n)(W,ve):Ce.y));return b?ce.pipe((0,$e.Z)(b)):ce}function dt(S,v,b){S?(0,de.f)(b,S,v):v()}var Me=R(9319),be=R(4987);function Ee(S){return new Ie.y(v=>{(0,be.Xf)(S()).subscribe(v)})}var xt=R(629),mt=R(2971);function yt(S,v){const b=(0,mt.m)(S)?S:()=>S,k=W=>W.error(b());return new Ie.y(v?W=>v.schedule(k,0,W):k)}var et=R(591),nt=R(7714),me=R(1944);function De(){return(0,me.e)((S,v)=>{let b=null;S._refCount++;const k=(0,xe.x)(v,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(b=null);const W=S._connection,ce=b;b=null,W&&(!ce||W===ce)&&W.unsubscribe(),v.unsubscribe()});S.subscribe(k),k.closed||(b=S.connect())})}class st extends Ie.y{constructor(v,b){super(),this.source=v,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,me.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new nt.w0;const b=this.getSubject();v.add(this.source.subscribe((0,xe.x)(b,void 0,()=>{this._teardown(),b.complete()},k=>{this._teardown(),b.error(k)},()=>this._teardown()))),v.closed&&(this._connection=null,v=nt.w0.EMPTY)}return v}refCount(){return De()(this)}}var ie=R(253),ee=R(6362),oe=R(635),J=R(2673),ge=R(9295),Ne=R(4874),Ae=R(116),Ve=R(9525),qe=R(155),Se=R(3853),Ye=R(9337),it=R(3158),lt=R(4351);function St(S){return S<=0?()=>et.E:(0,me.e)((v,b)=>{let k=[];v.subscribe((0,xe.x)(b,W=>{k.push(W),S<k.length&&k.shift()},()=>{for(const W of k)b.next(W);b.complete()},void 0,()=>{k=null}))})}var Ht=R(7354),qt=R(4744);function an(S,v){const b=arguments.length>=2;return k=>k.pipe(S?(0,Ae.h)((W,ce)=>S(W,ce,k)):Ce.y,St(1),b?(0,qt.d)(v):(0,Ht.T)(()=>new Fe.K))}function tr(S){return(0,me.e)((v,b)=>{try{v.subscribe(b)}finally{b.add(S)}})}var jn=R(1308),Mn=R(318);const z="primary",Rt=Symbol("RouteTitle");class Vt{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const b=this.params[v];return Array.isArray(b)?b[0]:b}return null}getAll(v){if(this.has(v)){const b=this.params[v];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function hn(S){return new Vt(S)}function bt(S,v,b){const k=b.path.split("/");if(k.length>S.length||"full"===b.pathMatch&&(v.hasChildren()||k.length<S.length))return null;const W={};for(let ce=0;ce<k.length;ce++){const ve=k[ce],rt=S[ce];if(ve.startsWith(":"))W[ve.substring(1)]=rt;else if(ve!==rt.path)return null}return{consumed:S.slice(0,k.length),posParams:W}}function Et(S,v){const b=S?Object.keys(S):void 0,k=v?Object.keys(v):void 0;if(!b||!k||b.length!=k.length)return!1;let W;for(let ce=0;ce<b.length;ce++)if(W=b[ce],!cn(S[W],v[W]))return!1;return!0}function cn(S,v){if(Array.isArray(S)&&Array.isArray(v)){if(S.length!==v.length)return!1;const b=[...S].sort(),k=[...v].sort();return b.every((W,ce)=>k[ce]===W)}return S===v}function nr(S){return Array.prototype.concat.apply([],S)}function Gn(S){return S.length>0?S[S.length-1]:null}function Wn(S,v){for(const b in S)S.hasOwnProperty(b)&&v(S[b],b)}function En(S){return(0,c.CqO)(S)?S:(0,c.QGY)(S)?(0,B.D)(Promise.resolve(S)):(0,$.of)(S)}const Bn={exact:function zn(S,v,b){if(!Tn(S.segments,v.segments)||!gr(S.segments,v.segments,b)||S.numberOfChildren!==v.numberOfChildren)return!1;for(const k in v.children)if(!S.children[k]||!zn(S.children[k],v.children[k],b))return!1;return!0},subset:sr},yr={exact:function pr(S,v){return Et(S,v)},subset:function Mr(S,v){return Object.keys(v).length<=Object.keys(S).length&&Object.keys(v).every(b=>cn(S[b],v[b]))},ignored:()=>!0};function _r(S,v,b){return Bn[b.paths](S.root,v.root,b.matrixParams)&&yr[b.queryParams](S.queryParams,v.queryParams)&&!("exact"===b.fragment&&S.fragment!==v.fragment)}function sr(S,v,b){return Zr(S,v,v.segments,b)}function Zr(S,v,b,k){if(S.segments.length>b.length){const W=S.segments.slice(0,b.length);return!(!Tn(W,b)||v.hasChildren()||!gr(W,b,k))}if(S.segments.length===b.length){if(!Tn(S.segments,b)||!gr(S.segments,b,k))return!1;for(const W in v.children)if(!S.children[W]||!sr(S.children[W],v.children[W],k))return!1;return!0}{const W=b.slice(0,S.segments.length),ce=b.slice(S.segments.length);return!!(Tn(S.segments,W)&&gr(S.segments,W,k)&&S.children[z])&&Zr(S.children[z],v,ce,k)}}function gr(S,v,b){return v.every((k,W)=>yr[b](S[W].parameters,k.parameters))}class vr{constructor(v,b,k){this.root=v,this.queryParams=b,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hn(this.queryParams)),this._queryParamMap}toString(){return Xe.serialize(this)}}class Un{constructor(v,b){this.segments=v,this.children=b,this.parent=null,Wn(b,(k,W)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Te(this)}}class In{constructor(v,b){this.path=v,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=hn(this.parameters)),this._parameterMap}toString(){return Hn(this)}}function Tn(S,v){return S.length===v.length&&S.every((b,k)=>b.path===v[k].path)}class Kn{}Kn.\u0275fac=function(v){return new(v||Kn)},Kn.\u0275prov=c.Yz7({token:Kn,factory:function(){return new lr},providedIn:"root"});class lr{parse(v){const b=new zt(v);return new vr(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(v){const b=`/${tt(v.root,!0)}`,k=function X(S){const v=Object.keys(S).map(b=>{const k=S[b];return Array.isArray(k)?k.map(W=>`${Y(b)}=${Y(W)}`).join("&"):`${Y(b)}=${Y(k)}`}).filter(b=>!!b);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${b}${k}${"string"==typeof v.fragment?`#${function je(S){return encodeURI(S)}(v.fragment)}`:""}`}}const Xe=new lr;function Te(S){return S.segments.map(v=>Hn(v)).join("/")}function tt(S,v){if(!S.hasChildren())return Te(S);if(v){const b=S.children[z]?tt(S.children[z],!1):"",k=[];return Wn(S.children,(W,ce)=>{ce!==z&&k.push(`${ce}:${tt(W,!1)}`)}),k.length>0?`${b}(${k.join("//")})`:b}{const b=function Rn(S,v){let b=[];return Wn(S.children,(k,W)=>{W===z&&(b=b.concat(v(k,W)))}),Wn(S.children,(k,W)=>{W!==z&&(b=b.concat(v(k,W)))}),b}(S,(k,W)=>W===z?[tt(S.children[z],!1)]:[`${W}:${tt(k,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[z]?`${Te(S)}/${b[0]}`:`${Te(S)}/(${b.join("//")})`}}function Ue(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Y(S){return Ue(S).replace(/%3B/gi,";")}function Nt(S){return Ue(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function on(S){return decodeURIComponent(S)}function pn(S){return on(S.replace(/\+/g,"%20"))}function Hn(S){return`${Nt(S.path)}${function Ot(S){return Object.keys(S).map(v=>`;${Nt(v)}=${Nt(S[v])}`).join("")}(S.parameters)}`}const He=/^[^\/()?;=#]+/;function At(S){const v=S.match(He);return v?v[0]:""}const Ut=/^[^=?&#]+/;const Qe=/^[^&#]+/;class zt{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(v.length>0||Object.keys(b).length>0)&&(k[z]=new Un(v,b)),k}parseSegment(){const v=At(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new c.vHH(4009,false);return this.capture(v),new In(on(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const b=At(this.remaining);if(!b)return;this.capture(b);let k="";if(this.consumeOptional("=")){const W=At(this.remaining);W&&(k=W,this.capture(k))}v[on(b)]=on(k)}parseQueryParam(v){const b=function Sn(S){const v=S.match(Ut);return v?v[0]:""}(this.remaining);if(!b)return;this.capture(b);let k="";if(this.consumeOptional("=")){const ve=function Je(S){const v=S.match(Qe);return v?v[0]:""}(this.remaining);ve&&(k=ve,this.capture(k))}const W=pn(b),ce=pn(k);if(v.hasOwnProperty(W)){let ve=v[W];Array.isArray(ve)||(ve=[ve],v[W]=ve),ve.push(ce)}else v[W]=ce}parseParens(v){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=At(this.remaining),W=this.remaining[k.length];if("/"!==W&&")"!==W&&";"!==W)throw new c.vHH(4010,false);let ce;k.indexOf(":")>-1?(ce=k.slice(0,k.indexOf(":")),this.capture(ce),this.capture(":")):v&&(ce=z);const ve=this.parseChildren();b[ce]=1===Object.keys(ve).length?ve[z]:new Un([],ve),this.consumeOptional("//")}return b}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new c.vHH(4011,false)}}function un(S){return S.segments.length>0?new Un([],{[z]:S}):S}function xn(S){const v={};for(const k of Object.keys(S.children)){const ce=xn(S.children[k]);(ce.segments.length>0||ce.hasChildren())&&(v[k]=ce)}return function ct(S){if(1===S.numberOfChildren&&S.children[z]){const v=S.children[z];return new Un(S.segments.concat(v.segments),v.children)}return S}(new Un(S.segments,v))}function Z(S){return S instanceof vr}const x=!1;function It(S,v,b,k,W){var ce;if(0===b.length)return cr(v.root,v.root,v.root,k,W);const rt=Lr(b);if(rt.toRoot())return cr(v.root,v.root,new Un([],{}),k,W);return function sn(Ln){var Or;const Yr=function li(S,v,b,k){if(S.isAbsolute)return new jr(v.root,!0,0);if(-1===k){const ve=b===v.root;return new jr(b,ve,0)}const W=_n(S.commands[0])?0:1;return zi(b,k+W,S.numberOfDoubleDots)}(rt,v,null===(Or=S.snapshot)||void 0===Or?void 0:Or._urlSegment,Ln),Ci=Yr.processChildren?pt(Yr.segmentGroup,Yr.index,rt.commands):Re(Yr.segmentGroup,Yr.index,rt.commands);return cr(v.root,Yr.segmentGroup,Ci,k,W)}(null===(ce=S.snapshot)||void 0===ce?void 0:ce._lastPathIndex)}function _n(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Jn(S){return"object"==typeof S&&null!=S&&S.outlets}function cr(S,v,b,k,W){let ve,ce={};k&&Wn(k,(sn,qn)=>{ce[qn]=Array.isArray(sn)?sn.map(Ln=>`${Ln}`):`${sn}`}),ve=S===v?b:Nr(S,v,b);const rt=un(xn(ve));return new vr(rt,ce,W)}function Nr(S,v,b){const k={};return Wn(S.children,(W,ce)=>{k[ce]=W===v?b:Nr(W,v,b)}),new Un(S.segments,k)}class Rr{constructor(v,b,k){if(this.isAbsolute=v,this.numberOfDoubleDots=b,this.commands=k,v&&k.length>0&&_n(k[0]))throw new c.vHH(4003,x);const W=k.find(Jn);if(W&&W!==Gn(k))throw new c.vHH(4004,x)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}function Lr(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Rr(!0,0,S);let v=0,b=!1;const k=S.reduce((W,ce,ve)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const rt={};return Wn(ce.outlets,(sn,qn)=>{rt[qn]="string"==typeof sn?sn.split("/"):sn}),[...W,{outlets:rt}]}if(ce.segmentPath)return[...W,ce.segmentPath]}return"string"!=typeof ce?[...W,ce]:0===ve?(ce.split("/").forEach((rt,sn)=>{0==sn&&"."===rt||(0==sn&&""===rt?b=!0:".."===rt?v++:""!=rt&&W.push(rt))}),W):[...W,ce]},[]);return new Rr(b,v,k)}class jr{constructor(v,b,k){this.segmentGroup=v,this.processChildren=b,this.index=k}}function zi(S,v,b){let k=S,W=v,ce=b;for(;ce>W;){if(ce-=W,k=k.parent,!k)throw new c.vHH(4005,x);W=k.segments.length}return new jr(k,!1,W-ce)}function Re(S,v,b){if(S||(S=new Un([],{})),0===S.segments.length&&S.hasChildren())return pt(S,v,b);const k=function _t(S,v,b){let k=0,W=v;const ce={match:!1,pathIndex:0,commandIndex:0};for(;W<S.segments.length;){if(k>=b.length)return ce;const ve=S.segments[W],rt=b[k];if(Jn(rt))break;const sn=`${rt}`,qn=k<b.length-1?b[k+1]:null;if(W>0&&void 0===sn)break;if(sn&&qn&&"object"==typeof qn&&void 0===qn.outlets){if(!Mt(sn,qn,ve))return ce;k+=2}else{if(!Mt(sn,{},ve))return ce;k++}W++}return{match:!0,pathIndex:W,commandIndex:k}}(S,v,b),W=b.slice(k.commandIndex);if(k.match&&k.pathIndex<S.segments.length){const ce=new Un(S.segments.slice(0,k.pathIndex),{});return ce.children[z]=new Un(S.segments.slice(k.pathIndex),S.children),pt(ce,0,W)}return k.match&&0===W.length?new Un(S.segments,{}):k.match&&!S.hasChildren()?$t(S,v,b):k.match?pt(S,0,W):$t(S,v,b)}function pt(S,v,b){if(0===b.length)return new Un(S.segments,{});{const k=function se(S){return Jn(S[0])?S[0].outlets:{[z]:S}}(b),W={};return Wn(k,(ce,ve)=>{"string"==typeof ce&&(ce=[ce]),null!==ce&&(W[ve]=Re(S.children[ve],v,ce))}),Wn(S.children,(ce,ve)=>{void 0===k[ve]&&(W[ve]=ce)}),new Un(S.segments,W)}}function $t(S,v,b){const k=S.segments.slice(0,v);let W=0;for(;W<b.length;){const ce=b[W];if(Jn(ce)){const sn=we(ce.outlets);return new Un(k,sn)}if(0===W&&_n(b[0])){const sn=S.segments[v];k.push(new In(sn.path,ut(b[0]))),W++;continue}const ve=Jn(ce)?ce.outlets[z]:`${ce}`,rt=W<b.length-1?b[W+1]:null;ve&&rt&&_n(rt)?(k.push(new In(ve,ut(rt))),W+=2):(k.push(new In(ve,{})),W++)}return new Un(k,{})}function we(S){const v={};return Wn(S,(b,k)=>{"string"==typeof b&&(b=[b]),null!==b&&(v[k]=$t(new Un([],{}),0,b))}),v}function ut(S){const v={};return Wn(S,(b,k)=>v[k]=`${b}`),v}function Mt(S,v,b){return S==b.path&&Et(v,b.parameters)}class jt{constructor(v,b){this.id=v,this.url=b}}class en extends jt{constructor(v,b,k="imperative",W=null){super(v,b),this.type=0,this.navigationTrigger=k,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class An extends jt{constructor(v,b,k){super(v,b),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zn extends jt{constructor(v,b,k,W){super(v,b),this.reason=k,this.code=W,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class or extends jt{constructor(v,b,k,W){super(v,b),this.error=k,this.target=W,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ai extends jt{constructor(v,b,k,W){super(v,b),this.urlAfterRedirects=k,this.state=W,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fr extends jt{constructor(v,b,k,W){super(v,b),this.urlAfterRedirects=k,this.state=W,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ui extends jt{constructor(v,b,k,W,ce){super(v,b),this.urlAfterRedirects=k,this.state=W,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bi extends jt{constructor(v,b,k,W){super(v,b),this.urlAfterRedirects=k,this.state=W,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ys extends jt{constructor(v,b,k,W){super(v,b),this.urlAfterRedirects=k,this.state=W,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class As{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ti{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pi{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qs{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bs{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{constructor(v,b,k){this.routerEvent=v,this.position=b,this.anchor=k,this.type=15}toString(){const v=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${v}')`}}class vt{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const b=this.pathFromRoot(v);return b.length>1?b[b.length-2]:null}children(v){const b=gt(v,this._root);return b?b.children.map(k=>k.value):[]}firstChild(v){const b=gt(v,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(v){const b=kt(v,this._root);return b.length<2?[]:b[b.length-2].children.map(W=>W.value).filter(W=>W!==v)}pathFromRoot(v){return kt(v,this._root).map(b=>b.value)}}function gt(S,v){if(S===v.value)return v;for(const b of v.children){const k=gt(S,b);if(k)return k}return null}function kt(S,v){if(S===v.value)return[v];for(const b of v.children){const k=kt(S,b);if(k.length)return k.unshift(v),k}return[]}class Qt{constructor(v,b){this.value=v,this.children=b}toString(){return`TreeNode(${this.value})`}}function vn(S){const v={};return S&&S.children.forEach(b=>v[b.value.outlet]=b),v}class Vn extends vt{constructor(v,b){super(v),this.snapshot=b,Ai(this,v)}toString(){return this.snapshot.toString()}}function Ar(S,v){const b=function ei(S,v){const ve=new Pr([],{},{},"",{},z,v,null,S.root,-1,{});return new Yi("",new Qt(ve,[]))}(S,v),k=new Le.X([new In("",{})]),W=new Le.X({}),ce=new Le.X({}),ve=new Le.X({}),rt=new Le.X(""),sn=new Sr(k,W,ve,rt,ce,z,v,b.root);return sn.snapshot=b.root,new Vn(new Qt(sn,[]),b)}class Sr{constructor(v,b,k,W,ce,ve,rt,sn){var qn,Ln;this.url=v,this.params=b,this.queryParams=k,this.fragment=W,this.data=ce,this.outlet=ve,this.component=rt,this.title=null!==(Ln=null===(qn=this.data)||void 0===qn?void 0:qn.pipe((0,oe.U)(Or=>Or[Rt])))&&void 0!==Ln?Ln:(0,$.of)(void 0),this._futureSnapshot=sn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,oe.U)(v=>hn(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,oe.U)(v=>hn(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xr(S,v="emptyOnly"){const b=S.pathFromRoot;let k=0;if("always"!==v)for(k=b.length-1;k>=1;){const W=b[k],ce=b[k-1];if(W.routeConfig&&""===W.routeConfig.path)k--;else{if(ce.component)break;k--}}return function Xi(S){return S.reduce((v,b)=>{var k;return{params:Object.assign(Object.assign({},v.params),b.params),data:Object.assign(Object.assign({},v.data),b.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},b.data),v.resolve),null===(k=b.routeConfig)||void 0===k?void 0:k.data),b._resolvedData)}},{params:{},data:{},resolve:{}})}(b.slice(k))}class Pr{constructor(v,b,k,W,ce,ve,rt,sn,qn,Ln,Or,Yr){var Ci;this.url=v,this.params=b,this.queryParams=k,this.fragment=W,this.data=ce,this.outlet=ve,this.component=rt,this.title=null===(Ci=this.data)||void 0===Ci?void 0:Ci[Rt],this.routeConfig=sn,this._urlSegment=qn,this._lastPathIndex=Ln,this._correctedLastPathIndex=null!=Yr?Yr:Ln,this._resolve=Or}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yi extends vt{constructor(v,b){super(b),this.url=v,Ai(this,b)}toString(){return ii(this._root)}}function Ai(S,v){v.value._routerState=S,v.children.forEach(b=>Ai(S,b))}function ii(S){const v=S.children.length>0?` { ${S.children.map(ii).join(", ")} } `:"";return`${S.value}${v}`}function hs(S){if(S.snapshot){const v=S.snapshot,b=S._futureSnapshot;S.snapshot=b,Et(v.queryParams,b.queryParams)||S.queryParams.next(b.queryParams),v.fragment!==b.fragment&&S.fragment.next(b.fragment),Et(v.params,b.params)||S.params.next(b.params),function rn(S,v){if(S.length!==v.length)return!1;for(let b=0;b<S.length;++b)if(!Et(S[b],v[b]))return!1;return!0}(v.url,b.url)||S.url.next(b.url),Et(v.data,b.data)||S.data.next(b.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function Rs(S,v){const b=Et(S.params,v.params)&&function Wt(S,v){return Tn(S,v)&&S.every((b,k)=>Et(b.parameters,v[k].parameters))}(S.url,v.url),k=!S.parent!=!v.parent;return b&&!k&&(!S.parent||Rs(S.parent,v.parent))}function ti(S,v,b){if(b&&S.shouldReuseRoute(v.value,b.value.snapshot)){const k=b.value;k._futureSnapshot=v.value;const W=function ws(S,v,b){return v.children.map(k=>{for(const W of b.children)if(S.shouldReuseRoute(k.value,W.value.snapshot))return ti(S,k,W);return ti(S,k)})}(S,v,b);return new Qt(k,W)}{if(S.shouldAttach(v.value)){const ce=S.retrieve(v.value);if(null!==ce){const ve=ce.route;return ve.value._futureSnapshot=v.value,ve.children=v.children.map(rt=>ti(S,rt)),ve}}const k=function fs(S){return new Sr(new Le.X(S.url),new Le.X(S.params),new Le.X(S.queryParams),new Le.X(S.fragment),new Le.X(S.data),S.outlet,S.component,S)}(v.value),W=v.children.map(ce=>ti(S,ce));return new Qt(k,W)}}const ps="ngNavigationCancelingError";function Vs(S,v){const{redirectTo:b,navigationBehaviorOptions:k}=Z(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,W=fi(!1,0,v);return W.url=b,W.navigationBehaviorOptions=k,W}function fi(S,v,b){const k=new Error("NavigationCancelingError: "+(S||""));return k[ps]=!0,k.cancellationCode=v,b&&(k.url=b),k}function Ze(S){return ke(S)&&Z(S.url)}function ke(S){return S&&S[ps]}class ft{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Lt,this.attachRef=null}}class Lt{constructor(){this.contexts=new Map}onChildOutletCreated(v,b){const k=this.getOrCreateContext(v);k.outlet=b,this.contexts.set(v,k)}onChildOutletDestroyed(v){const b=this.getContext(v);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let b=this.getContext(v);return b||(b=new ft,this.contexts.set(v,b)),b}getContext(v){return this.contexts.get(v)||null}}Lt.\u0275fac=function(v){return new(v||Lt)},Lt.\u0275prov=c.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"});const Zt=!1;class Cn{constructor(v,b,k,W,ce){this.parentContexts=v,this.location=b,this.changeDetector=W,this.environmentInjector=ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=k||z,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){var v;(null===(v=this.parentContexts.getContext(this.name))||void 0===v?void 0:v.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Zt);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Zt);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Zt);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,b){this.activated=v,this._activatedRoute=b,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,b){if(this.isActivated)throw new c.vHH(4013,Zt);this._activatedRoute=v;const k=this.location,ce=v._futureSnapshot.component,ve=this.parentContexts.getOrCreateContext(this.name).children,rt=new Nn(v,ve,k.injector);if(b&&function Yn(S){return!!S.resolveComponentFactory}(b)){const sn=b.resolveComponentFactory(ce);this.activated=k.createComponent(sn,k.length,rt)}else{const sn=null!=b?b:this.environmentInjector;this.activated=k.createComponent(ce,{index:k.length,injector:rt,environmentInjector:sn})}this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}Cn.\u0275fac=function(v){return new(v||Cn)(c.Y36(Lt),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},Cn.\u0275dir=c.lG2({type:Cn,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0});class Nn{constructor(v,b,k){this.route=v,this.childContexts=b,this.parent=k}get(v,b){return v===Sr?this.route:v===Lt?this.childContexts:this.parent.get(v,b)}}class Cr{}function Wr(S,v){var b;return S.providers&&!S._injector&&(S._injector=(0,c.MMx)(S.providers,v,`Route: ${S.path}`)),null!==(b=S._injector)&&void 0!==b?b:v}function _s(S){const v=S.children&&S.children.map(_s),b=v?Object.assign(Object.assign({},S),{children:v}):Object.assign({},S);return!b.component&&!b.loadComponent&&(v||b.loadChildren)&&b.outlet&&b.outlet!==z&&(b.component=Cr),b}function ki(S){return S.outlet||z}function Li(S,v){const b=S.filter(k=>ki(k)===v);return b.push(...S.filter(k=>ki(k)!==v)),b}function es(S){var v;if(!S)return null;if(null!==(v=S.routeConfig)&&void 0!==v&&v._injector)return S.routeConfig._injector;for(let b=S.parent;b;b=b.parent){const k=b.routeConfig;if(null!=k&&k._loadedInjector)return k._loadedInjector;if(null!=k&&k._injector)return k._injector}return null}Cr.\u0275fac=function(v){return new(v||Cr)},Cr.\u0275cmp=c.Xpm({type:Cr,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(v,b){1&v&&c._UZ(0,"router-outlet")},dependencies:[Cn],encapsulation:2});class yn{constructor(v,b,k,W){this.routeReuseStrategy=v,this.futureState=b,this.currState=k,this.forwardEvent=W}activate(v){const b=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,k,v),hs(this.futureState.root),this.activateChildRoutes(b,k,v)}deactivateChildRoutes(v,b,k){const W=vn(b);v.children.forEach(ce=>{const ve=ce.value.outlet;this.deactivateRoutes(ce,W[ve],k),delete W[ve]}),Wn(W,(ce,ve)=>{this.deactivateRouteAndItsChildren(ce,k)})}deactivateRoutes(v,b,k){const W=v.value,ce=b?b.value:null;if(W===ce)if(W.component){const ve=k.getContext(W.outlet);ve&&this.deactivateChildRoutes(v,b,ve.children)}else this.deactivateChildRoutes(v,b,k);else ce&&this.deactivateRouteAndItsChildren(b,k)}deactivateRouteAndItsChildren(v,b){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,b):this.deactivateRouteAndOutlet(v,b)}detachAndStoreRouteSubtree(v,b){const k=b.getContext(v.value.outlet),W=k&&v.value.component?k.children:b,ce=vn(v);for(const ve of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[ve],W);if(k&&k.outlet){const ve=k.outlet.detach(),rt=k.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:ve,route:v,contexts:rt})}}deactivateRouteAndOutlet(v,b){const k=b.getContext(v.value.outlet),W=k&&v.value.component?k.children:b,ce=vn(v);for(const ve of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[ve],W);k&&k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated(),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(v,b,k){const W=vn(b);v.children.forEach(ce=>{this.activateRoutes(ce,W[ce.value.outlet],k),this.forwardEvent(new Bs(ce.value.snapshot))}),v.children.length&&this.forwardEvent(new qs(v.value.snapshot))}activateRoutes(v,b,k){var W;const ce=v.value,ve=b?b.value:null;if(hs(ce),ce===ve)if(ce.component){const rt=k.getOrCreateContext(ce.outlet);this.activateChildRoutes(v,b,rt.children)}else this.activateChildRoutes(v,b,k);else if(ce.component){const rt=k.getOrCreateContext(ce.outlet);if(this.routeReuseStrategy.shouldAttach(ce.snapshot)){const sn=this.routeReuseStrategy.retrieve(ce.snapshot);this.routeReuseStrategy.store(ce.snapshot,null),rt.children.onOutletReAttached(sn.contexts),rt.attachRef=sn.componentRef,rt.route=sn.route.value,rt.outlet&&rt.outlet.attach(sn.componentRef,sn.route.value),hs(sn.route.value),this.activateChildRoutes(v,null,rt.children)}else{const sn=es(ce.snapshot),qn=null!==(W=null==sn?void 0:sn.get(c._Vd))&&void 0!==W?W:null;rt.attachRef=null,rt.route=ce,rt.resolver=qn,rt.injector=sn,rt.outlet&&rt.outlet.activateWith(ce,rt.injector),this.activateChildRoutes(v,null,rt.children)}}else this.activateChildRoutes(v,null,k)}}class $r{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class Do{constructor(v,b){this.component=v,this.route=b}}function Qi(S,v,b){const k=S._root;return U(k,v?v._root:null,b,[k.value])}function E(S,v){const b=Symbol(),k=v.get(S,b);return k===b?"function"!=typeof S||(0,c.Z0I)(S)?v.get(S):S:k}function U(S,v,b,k,W={canDeactivateChecks:[],canActivateChecks:[]}){const ce=vn(v);return S.children.forEach(ve=>{(function ae(S,v,b,k,W={canDeactivateChecks:[],canActivateChecks:[]}){const ce=S.value,ve=v?v.value:null,rt=b?b.getContext(S.value.outlet):null;if(ve&&ce.routeConfig===ve.routeConfig){const sn=function Bt(S,v,b){if("function"==typeof b)return b(S,v);switch(b){case"pathParamsChange":return!Tn(S.url,v.url);case"pathParamsOrQueryParamsChange":return!Tn(S.url,v.url)||!Et(S.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rs(S,v)||!Et(S.queryParams,v.queryParams);default:return!Rs(S,v)}}(ve,ce,ce.routeConfig.runGuardsAndResolvers);sn?W.canActivateChecks.push(new $r(k)):(ce.data=ve.data,ce._resolvedData=ve._resolvedData),ce.component?U(S,v,rt?rt.children:null,k,W):U(S,v,b,k,W),sn&&rt&&rt.outlet&&rt.outlet.isActivated&&W.canDeactivateChecks.push(new Do(rt.outlet.component,ve))}else ve&&gn(v,rt,W),W.canActivateChecks.push(new $r(k)),ce.component?U(S,null,rt?rt.children:null,k,W):U(S,null,b,k,W);return W})(ve,ce[ve.value.outlet],b,k.concat([ve.value]),W),delete ce[ve.value.outlet]}),Wn(ce,(ve,rt)=>gn(ve,b.getContext(rt),W)),W}function gn(S,v,b){const k=vn(S),W=S.value;Wn(k,(ce,ve)=>{W.component?gn(ce,v?v.children.getContext(ve):null,b):gn(ce,v,b)}),W.component&&v&&v.outlet&&v.outlet.isActivated?b.canDeactivateChecks.push(new Do(v.outlet.component,W)):b.canDeactivateChecks.push(new Do(null,W))}function ur(S){return"function"==typeof S}function Os(S){return S instanceof Fe.K||"EmptyError"===(null==S?void 0:S.name)}const ys=Symbol("INITIAL_VALUE");function bo(){return(0,J.w)(S=>Be(S.map(v=>v.pipe((0,ge.q)(1),(0,Ne.O)(ys)))).pipe((0,oe.U)(v=>{for(const b of v)if(!0!==b){if(b===ys)return ys;if(!1===b||b instanceof vr)return b}return!0}),(0,Ae.h)(v=>v!==ys),(0,ge.q)(1)))}function Sa(S,v){return(0,Ve.z)(b=>{const{targetSnapshot:k,currentSnapshot:W,guards:{canActivateChecks:ce,canDeactivateChecks:ve}}=b;return 0===ve.length&&0===ce.length?(0,$.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function $s(S,v,b,k){return(0,B.D)(S).pipe((0,Ve.z)(W=>function Wa(S,v,b,k,W){const ce=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,$.of)(!0);const ve=ce.map(rt=>{var sn;const qn=null!==(sn=es(v))&&void 0!==sn?sn:W,Ln=E(rt,qn);return En(function ot(S){return S&&ur(S.canDeactivate)}(Ln)?Ln.canDeactivate(S,v,b,k):qn.runInContext(()=>Ln(S,v,b,k))).pipe((0,qe.P)())});return(0,$.of)(ve).pipe(bo())}(W.component,W.route,b,v,k)),(0,qe.P)(W=>!0!==W,!0))}(ve,k,W,S).pipe((0,Ve.z)(rt=>rt&&function xr(S){return"boolean"==typeof S}(rt)?function qo(S,v,b,k){return(0,B.D)(v).pipe((0,Se.b)(W=>(0,Me.z)(function ko(S,v){return null!==S&&v&&v(new Pi(S)),(0,$.of)(!0)}(W.route.parent,k),function ac(S,v){return null!==S&&v&&v(new Ss(S)),(0,$.of)(!0)}(W.route,k),function Il(S,v,b){const k=v[v.length-1],ce=v.slice(0,v.length-1).reverse().map(ve=>function q(S){const v=S.routeConfig?S.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:S,guards:v}:null}(ve)).filter(ve=>null!==ve).map(ve=>Ee(()=>{const rt=ve.guards.map(sn=>{var qn;const Ln=null!==(qn=es(ve.node))&&void 0!==qn?qn:b,Or=E(sn,Ln);return En(function H(S){return S&&ur(S.canActivateChild)}(Or)?Or.canActivateChild(k,S):Ln.runInContext(()=>Or(k,S))).pipe((0,qe.P)())});return(0,$.of)(rt).pipe(bo())}));return(0,$.of)(ce).pipe(bo())}(S,W.path,b),function Ac(S,v,b){const k=v.routeConfig?v.routeConfig.canActivate:null;if(!k||0===k.length)return(0,$.of)(!0);const W=k.map(ce=>Ee(()=>{var ve;const rt=null!==(ve=es(v))&&void 0!==ve?ve:b,sn=E(ce,rt);return En(function D(S){return S&&ur(S.canActivate)}(sn)?sn.canActivate(v,S):rt.runInContext(()=>sn(v,S))).pipe((0,qe.P)())}));return(0,$.of)(W).pipe(bo())}(S,W.route,b))),(0,qe.P)(W=>!0!==W,!0))}(k,ce,S,v):(0,$.of)(rt)),(0,oe.U)(rt=>Object.assign(Object.assign({},b),{guardsResult:rt})))})}function cc(S,v,b,k){const W=v.canLoad;if(void 0===W||0===W.length)return(0,$.of)(!0);const ce=W.map(ve=>{const rt=E(ve,S);return En(function te(S){return S&&ur(S.canLoad)}(rt)?rt.canLoad(v,b):S.runInContext(()=>rt(v,b)))});return(0,$.of)(ce).pipe(bo(),Ga(k))}function Ga(S){return(0,xt.z)((0,Ye.b)(v=>{if(Z(v))throw Vs(0,v)}),(0,oe.U)(v=>!0===v))}function lc(S,v,b,k){const W=v.canMatch;if(!W||0===W.length)return(0,$.of)(!0);const ce=W.map(ve=>{const rt=E(ve,S);return En(function Jt(S){return S&&ur(S.canMatch)}(rt)?rt.canMatch(v,b):S.runInContext(()=>rt(v,b)))});return(0,$.of)(ce).pipe(bo(),Ga())}const V={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function T(S,v,b,k,W){const ce=re(S,v,b);return ce.matched?lc(k=Wr(v,k),v,b).pipe((0,oe.U)(ve=>!0===ve?ce:Object.assign({},V))):(0,$.of)(ce)}function re(S,v,b){var k;if(""===v.path)return"full"===v.pathMatch&&(S.hasChildren()||b.length>0)?Object.assign({},V):{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const ce=(v.matcher||bt)(b,S,v);if(!ce)return Object.assign({},V);const ve={};Wn(ce.posParams,(sn,qn)=>{ve[qn]=sn.path});const rt=ce.consumed.length>0?Object.assign(Object.assign({},ve),ce.consumed[ce.consumed.length-1].parameters):ve;return{matched:!0,consumedSegments:ce.consumed,remainingSegments:b.slice(ce.consumed.length),parameters:rt,positionalParamSegments:null!==(k=ce.posParams)&&void 0!==k?k:{}}}function Pe(S,v,b,k,W="corrected"){if(b.length>0&&function On(S,v,b){return b.some(k=>di(S,v,k)&&ki(k)!==z)}(S,b,k)){const ve=new Un(v,function Xt(S,v,b,k){const W={};W[z]=k,k._sourceSegment=S,k._segmentIndexShift=v.length;for(const ce of b)if(""===ce.path&&ki(ce)!==z){const ve=new Un([],{});ve._sourceSegment=S,ve._segmentIndexShift=v.length,W[ki(ce)]=ve}return W}(S,v,k,new Un(b,S.children)));return ve._sourceSegment=S,ve._segmentIndexShift=v.length,{segmentGroup:ve,slicedSegments:[]}}if(0===b.length&&function wr(S,v,b){return b.some(k=>di(S,v,k))}(S,b,k)){const ve=new Un(S.segments,function Tt(S,v,b,k,W,ce){const ve={};for(const rt of k)if(di(S,b,rt)&&!W[ki(rt)]){const sn=new Un([],{});sn._sourceSegment=S,sn._segmentIndexShift="legacy"===ce?S.segments.length:v.length,ve[ki(rt)]=sn}return Object.assign(Object.assign({},W),ve)}(S,v,b,k,S.children,W));return ve._sourceSegment=S,ve._segmentIndexShift=v.length,{segmentGroup:ve,slicedSegments:b}}const ce=new Un(S.segments,S.children);return ce._sourceSegment=S,ce._segmentIndexShift=v.length,{segmentGroup:ce,slicedSegments:b}}function di(S,v,b){return(!(S.hasChildren()||v.length>0)||"full"!==b.pathMatch)&&""===b.path}function _i(S,v,b,k){return!!(ki(S)===k||k!==z&&di(v,b,S))&&("**"===S.path||re(v,S,b).matched)}function yi(S,v,b){return 0===v.length&&!S.children[b]}const Gr=!1;class os{constructor(v){this.segmentGroup=v||null}}class Oi{constructor(v){this.urlTree=v}}function xi(S){return yt(new os(S))}function Lo(S){return yt(new Oi(S))}class Ps{constructor(v,b,k,W,ce){this.injector=v,this.configLoader=b,this.urlSerializer=k,this.urlTree=W,this.config=ce,this.allowRedirects=!0}apply(){const v=Pe(this.urlTree.root,[],[],this.config).segmentGroup,b=new Un(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,b,z).pipe((0,oe.U)(ce=>this.createUrlTree(xn(ce),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,it.K)(ce=>{if(ce instanceof Oi)return this.allowRedirects=!1,this.match(ce.urlTree);throw ce instanceof os?this.noMatchError(ce):ce}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,z).pipe((0,oe.U)(W=>this.createUrlTree(xn(W),v.queryParams,v.fragment))).pipe((0,it.K)(W=>{throw W instanceof os?this.noMatchError(W):W}))}noMatchError(v){return new c.vHH(4002,Gr)}createUrlTree(v,b,k){const W=un(v);return new vr(W,b,k)}expandSegmentGroup(v,b,k,W){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(v,b,k).pipe((0,oe.U)(ce=>new Un([],ce))):this.expandSegment(v,k,b,k.segments,W,!0)}expandChildren(v,b,k){const W=[];for(const ce of Object.keys(k.children))"primary"===ce?W.unshift(ce):W.push(ce);return(0,B.D)(W).pipe((0,Se.b)(ce=>{const ve=k.children[ce],rt=Li(b,ce);return this.expandSegmentGroup(v,rt,ve,ce).pipe((0,oe.U)(sn=>({segment:sn,outlet:ce})))}),(0,lt.R)((ce,ve)=>(ce[ve.outlet]=ve.segment,ce),{}),an())}expandSegment(v,b,k,W,ce,ve){return(0,B.D)(k).pipe((0,Se.b)(rt=>this.expandSegmentAgainstRoute(v,b,k,rt,W,ce,ve).pipe((0,it.K)(qn=>{if(qn instanceof os)return(0,$.of)(null);throw qn}))),(0,qe.P)(rt=>!!rt),(0,it.K)((rt,sn)=>{if(Os(rt))return yi(b,W,ce)?(0,$.of)(new Un([],{})):xi(b);throw rt}))}expandSegmentAgainstRoute(v,b,k,W,ce,ve,rt){return _i(W,b,ce,ve)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(v,b,W,ce,ve):rt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,b,k,W,ce,ve):xi(b):xi(b)}expandSegmentAgainstRouteUsingRedirect(v,b,k,W,ce,ve){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,k,W,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(v,b,k,W,ce,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,b,k,W){const ce=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?Lo(ce):this.lineralizeSegments(k,ce).pipe((0,Ve.z)(ve=>{const rt=new Un(ve,{});return this.expandSegment(v,rt,b,ve,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,b,k,W,ce,ve){const{matched:rt,consumedSegments:sn,remainingSegments:qn,positionalParamSegments:Ln}=re(b,W,ce);if(!rt)return xi(b);const Or=this.applyRedirectCommands(sn,W.redirectTo,Ln);return W.redirectTo.startsWith("/")?Lo(Or):this.lineralizeSegments(W,Or).pipe((0,Ve.z)(Yr=>this.expandSegment(v,b,k,Yr.concat(qn),ve,!1)))}matchSegmentAgainstRoute(v,b,k,W,ce){return"**"===k.path?(v=Wr(k,v),k.loadChildren?(k._loadedRoutes?(0,$.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):this.configLoader.loadChildren(v,k)).pipe((0,oe.U)(rt=>(k._loadedRoutes=rt.routes,k._loadedInjector=rt.injector,new Un(W,{})))):(0,$.of)(new Un(W,{}))):T(b,k,W,v,this.urlSerializer).pipe((0,J.w)(({matched:ve,consumedSegments:rt,remainingSegments:sn})=>{var qn;return ve?(v=null!==(qn=k._injector)&&void 0!==qn?qn:v,this.getChildConfig(v,k,W).pipe((0,Ve.z)(Or=>{var Yr;const Ci=null!==(Yr=Or.injector)&&void 0!==Yr?Yr:v,Is=Or.routes,{segmentGroup:uo,slicedSegments:ho}=Pe(b,rt,sn,Is),so=new Un(uo.segments,uo.children);if(0===ho.length&&so.hasChildren())return this.expandChildren(Ci,Is,so).pipe((0,oe.U)(xc=>new Un(rt,xc)));if(0===Is.length&&0===ho.length)return(0,$.of)(new Un(rt,{}));const ma=ki(k)===ce;return this.expandSegment(Ci,so,Is,ho,ma?z:ce,!0).pipe((0,oe.U)(ts=>new Un(rt.concat(ts.segments),ts.children)))}))):xi(b)}))}getChildConfig(v,b,k){return b.children?(0,$.of)({routes:b.children,injector:v}):b.loadChildren?void 0!==b._loadedRoutes?(0,$.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):cc(v,b,k,this.urlSerializer).pipe((0,Ve.z)(W=>W?this.configLoader.loadChildren(v,b).pipe((0,Ye.b)(ce=>{b._loadedRoutes=ce.routes,b._loadedInjector=ce.injector})):function la(S){return yt(fi(Gr,3))}())):(0,$.of)({routes:[],injector:v})}lineralizeSegments(v,b){let k=[],W=b.root;for(;;){if(k=k.concat(W.segments),0===W.numberOfChildren)return(0,$.of)(k);if(W.numberOfChildren>1||!W.children[z])return v.redirectTo,yt(new c.vHH(4e3,Gr));W=W.children[z]}}applyRedirectCommands(v,b,k){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),v,k)}applyRedirectCreateUrlTree(v,b,k,W){const ce=this.createSegmentGroup(v,b.root,k,W);return new vr(ce,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(v,b){const k={};return Wn(v,(W,ce)=>{if("string"==typeof W&&W.startsWith(":")){const rt=W.substring(1);k[ce]=b[rt]}else k[ce]=W}),k}createSegmentGroup(v,b,k,W){const ce=this.createSegments(v,b.segments,k,W);let ve={};return Wn(b.children,(rt,sn)=>{ve[sn]=this.createSegmentGroup(v,rt,k,W)}),new Un(ce,ve)}createSegments(v,b,k,W){return b.map(ce=>ce.path.startsWith(":")?this.findPosParam(v,ce,W):this.findOrReturn(ce,k))}findPosParam(v,b,k){const W=k[b.path.substring(1)];if(!W)throw new c.vHH(4001,Gr);return W}findOrReturn(v,b){let k=0;for(const W of b){if(W.path===v.path)return b.splice(k),W;k++}return v}}function Ji(S,v,b,k){return(0,J.w)(W=>function Zo(S,v,b,k,W){return new Ps(S,v,b,k,W).apply()}(S,v,b,W.extractedUrl,k).pipe((0,oe.U)(ce=>Object.assign(Object.assign({},W),{urlAfterRedirects:ce}))))}class Ku{}function ou(S,v,b,k,W,ce,ve="emptyOnly",rt="legacy"){return new Ud(S,v,b,k,W,ve,rt,ce).recognize().pipe((0,J.w)(sn=>null===sn?function da(S){return new Ie.y(v=>v.error(S))}(new Ku):(0,$.of)(sn)))}class Ud{constructor(v,b,k,W,ce,ve,rt,sn){this.injector=v,this.rootComponentType=b,this.config=k,this.urlTree=W,this.url=ce,this.paramsInheritanceStrategy=ve,this.relativeLinkResolution=rt,this.urlSerializer=sn}recognize(){const v=Pe(this.urlTree.root,[],[],this.config.filter(b=>void 0===b.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,z).pipe((0,oe.U)(b=>{if(null===b)return null;const k=new Pr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},z,this.rootComponentType,null,this.urlTree.root,-1,{}),W=new Qt(k,b),ce=new Yi(this.url,W);return this.inheritParamsAndData(ce._root),ce}))}inheritParamsAndData(v){const b=v.value,k=Xr(b,this.paramsInheritanceStrategy);b.params=Object.freeze(k.params),b.data=Object.freeze(k.data),v.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(v,b,k,W){return 0===k.segments.length&&k.hasChildren()?this.processChildren(v,b,k):this.processSegment(v,b,k,k.segments,W)}processChildren(v,b,k){return(0,B.D)(Object.keys(k.children)).pipe((0,Se.b)(W=>{const ce=k.children[W],ve=Li(b,W);return this.processSegmentGroup(v,ve,ce,W)}),(0,lt.R)((W,ce)=>W&&ce?(W.push(...ce),W):null),function Fn(S,v=!1){return(0,me.e)((b,k)=>{let W=0;b.subscribe((0,xe.x)(k,ce=>{const ve=S(ce,W++);(ve||v)&&k.next(ce),!ve&&k.complete()}))})}(W=>null!==W),(0,qt.d)(null),an(),(0,oe.U)(W=>{if(null===W)return null;const ce=ha(W);return function Cl(S){S.sort((v,b)=>v.value.outlet===z?-1:b.value.outlet===z?1:v.value.outlet.localeCompare(b.value.outlet))}(ce),ce}))}processSegment(v,b,k,W,ce){return(0,B.D)(b).pipe((0,Se.b)(ve=>{var rt;return this.processSegmentAgainstRoute(null!==(rt=ve._injector)&&void 0!==rt?rt:v,ve,k,W,ce)}),(0,qe.P)(ve=>!!ve),(0,it.K)(ve=>{if(Os(ve))return yi(k,W,ce)?(0,$.of)([]):(0,$.of)(null);throw ve}))}processSegmentAgainstRoute(v,b,k,W,ce){var ve,rt;if(b.redirectTo||!_i(b,k,W,ce))return(0,$.of)(null);let sn;if("**"===b.path){const qn=W.length>0?Gn(W).parameters:{},Ln=Jc(k)+W.length,Or=new Pr(W,qn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bs(b),ki(b),null!==(rt=null!==(ve=b.component)&&void 0!==ve?ve:b._loadedComponent)&&void 0!==rt?rt:null,b,uc(k),Ln,Hs(b),Ln);sn=(0,$.of)({snapshot:Or,consumedSegments:[],remainingSegments:[]})}else sn=T(k,b,W,v,this.urlSerializer).pipe((0,oe.U)(({matched:qn,consumedSegments:Ln,remainingSegments:Or,parameters:Yr})=>{var Ci,Is;if(!qn)return null;const uo=Jc(k)+Ln.length;return{snapshot:new Pr(Ln,Yr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bs(b),ki(b),null!==(Is=null!==(Ci=b.component)&&void 0!==Ci?Ci:b._loadedComponent)&&void 0!==Is?Is:null,b,uc(k),uo,Hs(b),uo),consumedSegments:Ln,remainingSegments:Or}}));return sn.pipe((0,J.w)(qn=>{var Ln,Or;if(null===qn)return(0,$.of)(null);const{snapshot:Yr,consumedSegments:Ci,remainingSegments:Is}=qn;v=null!==(Ln=b._injector)&&void 0!==Ln?Ln:v;const uo=null!==(Or=b._loadedInjector)&&void 0!==Or?Or:v,ho=function wl(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(b),{segmentGroup:so,slicedSegments:ma}=Pe(k,Ci,Is,ho.filter(ts=>void 0===ts.redirectTo),this.relativeLinkResolution);if(0===ma.length&&so.hasChildren())return this.processChildren(uo,ho,so).pipe((0,oe.U)(ts=>null===ts?null:[new Qt(Yr,ts)]));if(0===ho.length&&0===ma.length)return(0,$.of)([new Qt(Yr,[])]);const Oo=ki(b)===ce;return this.processSegment(uo,ho,so,ma,Oo?z:ce).pipe((0,oe.U)(ts=>null===ts?null:[new Qt(Yr,ts)]))}))}}function Vd(S){const v=S.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function ha(S){const v=[],b=new Set;for(const k of S){if(!Vd(k)){v.push(k);continue}const W=v.find(ce=>k.value.routeConfig===ce.value.routeConfig);void 0!==W?(W.children.push(...k.children),b.add(W)):v.push(k)}for(const k of b){const W=ha(k.children);v.push(new Qt(k.value,W))}return v.filter(k=>!b.has(k))}function uc(S){let v=S;for(;v._sourceSegment;)v=v._sourceSegment;return v}function Jc(S){var v,b;let k=S,W=null!==(v=k._segmentIndexShift)&&void 0!==v?v:0;for(;k._sourceSegment;)k=k._sourceSegment,W+=null!==(b=k._segmentIndexShift)&&void 0!==b?b:0;return W-1}function bs(S){return S.data||{}}function Hs(S){return S.resolve||{}}function _o(S,v){return(0,Ve.z)(b=>{const{targetSnapshot:k,guards:{canActivateChecks:W}}=b;if(!W.length)return(0,$.of)(b);let ce=0;return(0,B.D)(W).pipe((0,Se.b)(ve=>function bl(S,v,b,k){const W=S.routeConfig,ce=S._resolve;return void 0!==(null==W?void 0:W.title)&&!gs(W)&&(ce[Rt]=W.title),function Pn(S,v,b,k){const W=function qi(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===W.length)return(0,$.of)({});const ce={};return(0,B.D)(W).pipe((0,Ve.z)(ve=>function To(S,v,b,k){var W;const ce=null!==(W=es(v))&&void 0!==W?W:k,ve=E(S,ce);return En(ve.resolve?ve.resolve(v,b):ce.runInContext(()=>ve(v,b)))}(S[ve],v,b,k).pipe((0,qe.P)(),(0,Ye.b)(rt=>{ce[ve]=rt}))),St(1),function ir(S){return(0,oe.U)(()=>S)}(ce),(0,it.K)(ve=>Os(ve)?et.E:yt(ve)))}(ce,S,v,k).pipe((0,oe.U)(ve=>(S._resolvedData=ve,S.data=Xr(S,b).resolve,W&&gs(W)&&(S.data[Rt]=W.title),null)))}(ve.route,k,S,v)),(0,Ye.b)(()=>ce++),St(1),(0,Ve.z)(ve=>ce===W.length?(0,$.of)(b):et.E))})}function gs(S){return"string"==typeof S.title||null===S.title}function Ir(S){return(0,J.w)(v=>{const b=S(v);return b?(0,B.D)(b).pipe((0,oe.U)(()=>v)):(0,$.of)(v)})}class ar{buildTitle(v){var b;let k,W=v.root;for(;void 0!==W;)k=null!==(b=this.getResolvedTitleForRoute(W))&&void 0!==b?b:k,W=W.children.find(ce=>ce.outlet===z);return k}getResolvedTitleForRoute(v){return v.data[Rt]}}ar.\u0275fac=function(v){return new(v||ar)},ar.\u0275prov=c.Yz7({token:ar,factory:function(){return(0,c.f3M)(Qo)},providedIn:"root"});class Qo extends ar{constructor(v){super(),this.title=v}updateTitle(v){const b=this.buildTitle(v);void 0!==b&&this.title.setTitle(b)}}Qo.\u0275fac=function(v){return new(v||Qo)(c.LFG(Mn.Dx))},Qo.\u0275prov=c.Yz7({token:Qo,factory:Qo.\u0275fac,providedIn:"root"});class tn{}class vs extends class fn{shouldDetach(v){return!1}store(v,b){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,b){return v.routeConfig===b.routeConfig}}{}const dc=new c.OlP("",{providedIn:"root",factory:()=>({})}),ro=new c.OlP("ROUTES");class Zs{constructor(v,b){this.injector=v,this.compiler=b,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,$.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const b=En(v.loadComponent()).pipe((0,Ye.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=W}),tr(()=>{this.componentLoaders.delete(v)})),k=new st(b,()=>new ie.x).pipe(De());return this.componentLoaders.set(v,k),k}loadChildren(v,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,$.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const W=this.loadModuleFactoryOrRoutes(b.loadChildren).pipe((0,oe.U)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(b);let rt,sn,qn=!1;Array.isArray(ve)?(sn=ve,qn=!0):(rt=ve.create(v).injector,sn=nr(rt.get(ro,[],c.XFs.Self|c.XFs.Optional)));const Ln=sn.map(_s);return{routes:Ln,injector:rt}}),tr(()=>{this.childrenLoaders.delete(b)})),ce=new st(W,()=>new ie.x).pipe(De());return this.childrenLoaders.set(b,ce),ce}loadModuleFactoryOrRoutes(v){return En(v()).pipe((0,Ve.z)(b=>b instanceof c.YKP||Array.isArray(b)?(0,$.of)(b):(0,B.D)(this.compiler.compileModuleAsync(b))))}}Zs.\u0275fac=function(v){return new(v||Zs)(c.LFG(c.zs3),c.LFG(c.Sil))},Zs.\u0275prov=c.Yz7({token:Zs,factory:Zs.\u0275fac,providedIn:"root"});class Yu{}class Ka{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,b){return v}}const fa=!1;function hc(S){throw S}function Xs(S,v,b){return v.parse("/")}const Sc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function au(){var S,v;const b=(0,c.f3M)(Kn),k=(0,c.f3M)(Lt),W=(0,c.f3M)(ee.Ye),ce=(0,c.f3M)(c.zs3),ve=(0,c.f3M)(c.Sil),rt=null!==(S=(0,c.f3M)(ro,{optional:!0}))&&void 0!==S?S:[],sn=null!==(v=(0,c.f3M)(dc,{optional:!0}))&&void 0!==v?v:{},qn=(0,c.f3M)(Qo),Ln=(0,c.f3M)(ar,{optional:!0}),Or=(0,c.f3M)(Yu,{optional:!0}),Yr=(0,c.f3M)(tn,{optional:!0}),Ci=new Kr(null,b,k,W,ce,ve,nr(rt));return Or&&(Ci.urlHandlingStrategy=Or),Yr&&(Ci.routeReuseStrategy=Yr),Ci.titleStrategy=null!=Ln?Ln:qn,function Jo(S,v){S.errorHandler&&(v.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(v.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(v.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(v.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.relativeLinkResolution&&(v.relativeLinkResolution=S.relativeLinkResolution),S.urlUpdateStrategy&&(v.urlUpdateStrategy=S.urlUpdateStrategy),S.canceledNavigationResolution&&(v.canceledNavigationResolution=S.canceledNavigationResolution)}(sn,Ci),Ci}class Kr{constructor(v,b,k,W,ce,ve,rt){this.rootComponentType=v,this.urlSerializer=b,this.rootContexts=k,this.location=W,this.config=rt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ie.x,this.errorHandler=hc,this.malformedUriErrorHandler=Xs,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,$.of)(void 0),this.urlHandlingStrategy=new Ka,this.routeReuseStrategy=new vs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace";this.configLoader=ce.get(Zs),this.configLoader.onLoadEndListener=Or=>this.triggerEvent(new Ti(Or)),this.configLoader.onLoadStartListener=Or=>this.triggerEvent(new As(Or)),this.ngModule=ce.get(c.h0i),this.console=ce.get(c.c2e);const Ln=ce.get(c.R0b);this.isNgZoneEnabled=Ln instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(rt),this.currentUrlTree=function bn(){return new vr(new Un([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ar(this.currentUrlTree,this.rootComponentType),this.transitions=new Le.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null===(v=this.location.getState())||void 0===v?void 0:v.\u0275routerPageId}setupNavigations(v){const b=this.events;return v.pipe((0,Ae.h)(k=>0!==k.id),(0,oe.U)(k=>Object.assign(Object.assign({},k),{extractedUrl:this.urlHandlingStrategy.extract(k.rawUrl)})),(0,J.w)(k=>{let W=!1,ce=!1;return(0,$.of)(k).pipe((0,Ye.b)(ve=>{this.currentNavigation={id:ve.id,initialUrl:ve.rawUrl,extractedUrl:ve.extractedUrl,trigger:ve.source,extras:ve.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,J.w)(ve=>{const rt=this.browserUrlTree.toString(),sn=!this.navigated||ve.extractedUrl.toString()!==rt||rt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||sn)&&this.urlHandlingStrategy.shouldProcessUrl(ve.rawUrl))return Ya(ve.source)&&(this.browserUrlTree=ve.extractedUrl),(0,$.of)(ve).pipe((0,J.w)(Ln=>{const Or=this.transitions.getValue();return b.next(new en(Ln.id,this.serializeUrl(Ln.extractedUrl),Ln.source,Ln.restoredState)),Or!==this.transitions.getValue()?et.E:Promise.resolve(Ln)}),Ji(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ye.b)(Ln=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ln.urlAfterRedirects}),k.urlAfterRedirects=Ln.urlAfterRedirects}),function Xo(S,v,b,k,W,ce){return(0,Ve.z)(ve=>ou(S,v,b,ve.urlAfterRedirects,k.serialize(ve.urlAfterRedirects),k,W,ce).pipe((0,oe.U)(rt=>Object.assign(Object.assign({},ve),{targetSnapshot:rt}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ye.b)(Ln=>{if(k.targetSnapshot=Ln.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Ln.extras.skipLocationChange){const Yr=this.urlHandlingStrategy.merge(Ln.urlAfterRedirects,Ln.rawUrl);this.setBrowserUrl(Yr,Ln)}this.browserUrlTree=Ln.urlAfterRedirects}const Or=new ai(Ln.id,this.serializeUrl(Ln.extractedUrl),this.serializeUrl(Ln.urlAfterRedirects),Ln.targetSnapshot);b.next(Or)}));if(sn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Or,extractedUrl:Yr,source:Ci,restoredState:Is,extras:uo}=ve,ho=new en(Or,this.serializeUrl(Yr),Ci,Is);b.next(ho);const so=Ar(Yr,this.rootComponentType).snapshot;return k=Object.assign(Object.assign({},ve),{targetSnapshot:so,urlAfterRedirects:Yr,extras:Object.assign(Object.assign({},uo),{skipLocationChange:!1,replaceUrl:!1})}),(0,$.of)(k)}return this.rawUrlTree=ve.rawUrl,ve.resolve(null),et.E}),(0,Ye.b)(ve=>{const rt=new Fr(ve.id,this.serializeUrl(ve.extractedUrl),this.serializeUrl(ve.urlAfterRedirects),ve.targetSnapshot);this.triggerEvent(rt)}),(0,oe.U)(ve=>k=Object.assign(Object.assign({},ve),{guards:Qi(ve.targetSnapshot,ve.currentSnapshot,this.rootContexts)})),Sa(this.ngModule.injector,ve=>this.triggerEvent(ve)),(0,Ye.b)(ve=>{if(k.guardsResult=ve.guardsResult,Z(ve.guardsResult))throw Vs(this.urlSerializer,ve.guardsResult);const rt=new ui(ve.id,this.serializeUrl(ve.extractedUrl),this.serializeUrl(ve.urlAfterRedirects),ve.targetSnapshot,!!ve.guardsResult);this.triggerEvent(rt)}),(0,Ae.h)(ve=>!!ve.guardsResult||(this.restoreHistory(ve),this.cancelNavigationTransition(ve,"",3),!1)),Ir(ve=>{if(ve.guards.canActivateChecks.length)return(0,$.of)(ve).pipe((0,Ye.b)(rt=>{const sn=new bi(rt.id,this.serializeUrl(rt.extractedUrl),this.serializeUrl(rt.urlAfterRedirects),rt.targetSnapshot);this.triggerEvent(sn)}),(0,J.w)(rt=>{let sn=!1;return(0,$.of)(rt).pipe(_o(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ye.b)({next:()=>sn=!0,complete:()=>{sn||(this.restoreHistory(rt),this.cancelNavigationTransition(rt,"",2))}}))}),(0,Ye.b)(rt=>{const sn=new Ys(rt.id,this.serializeUrl(rt.extractedUrl),this.serializeUrl(rt.urlAfterRedirects),rt.targetSnapshot);this.triggerEvent(sn)}))}),Ir(ve=>{const rt=sn=>{var qn;const Ln=[];(null===(qn=sn.routeConfig)||void 0===qn?void 0:qn.loadComponent)&&!sn.routeConfig._loadedComponent&&Ln.push(this.configLoader.loadComponent(sn.routeConfig).pipe((0,Ye.b)(Or=>{sn.component=Or}),(0,oe.U)(()=>{})));for(const Or of sn.children)Ln.push(...rt(Or));return Ln};return Be(rt(ve.targetSnapshot.root)).pipe((0,qt.d)(),(0,ge.q)(1))}),Ir(()=>this.afterPreactivation()),(0,oe.U)(ve=>{const rt=function Vi(S,v,b){const k=ti(S,v._root,b?b._root:void 0);return new Vn(k,v)}(this.routeReuseStrategy,ve.targetSnapshot,ve.currentRouterState);return k=Object.assign(Object.assign({},ve),{targetRouterState:rt})}),(0,Ye.b)(ve=>{this.currentUrlTree=ve.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ve.urlAfterRedirects,ve.rawUrl),this.routerState=ve.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ve.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ve),this.browserUrlTree=ve.urlAfterRedirects)}),((S,v,b)=>(0,oe.U)(k=>(new yn(v,k.targetRouterState,k.currentRouterState,b).activate(S),k)))(this.rootContexts,this.routeReuseStrategy,ve=>this.triggerEvent(ve)),(0,Ye.b)({next(){W=!0},complete(){W=!0}}),tr(()=>{var ve;if(!W&&!ce){const rt="";this.cancelNavigationTransition(k,rt,1)}(null===(ve=this.currentNavigation)||void 0===ve?void 0:ve.id)===k.id&&(this.currentNavigation=null)}),(0,it.K)(ve=>{var rt;if(ce=!0,ke(ve)){Ze(ve)||(this.navigated=!0,this.restoreHistory(k,!0));const sn=new Zn(k.id,this.serializeUrl(k.extractedUrl),ve.message,ve.cancellationCode);if(b.next(sn),Ze(ve)){const qn=this.urlHandlingStrategy.merge(ve.url,this.rawUrlTree),Ln={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ya(k.source)};this.scheduleNavigation(qn,"imperative",null,Ln,{resolve:k.resolve,reject:k.reject,promise:k.promise})}else k.resolve(!1)}else{this.restoreHistory(k,!0);const sn=new or(k.id,this.serializeUrl(k.extractedUrl),ve,null!==(rt=k.targetSnapshot)&&void 0!==rt?rt:void 0);b.next(sn);try{k.resolve(this.errorHandler(ve))}catch(qn){k.reject(qn)}}return et.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),v))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const b="popstate"===v.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{var k;const W={replaceUrl:!0},ce=null!==(k=v.state)&&void 0!==k&&k.navigationId?v.state:null;if(ce){const rt=Object.assign({},ce);delete rt.navigationId,delete rt.\u0275routerPageId,0!==Object.keys(rt).length&&(W.state=rt)}const ve=this.parseUrl(v.url);this.scheduleNavigation(ve,b,ce,W)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){this.config=v.map(_s),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,b={}){const{relativeTo:k,queryParams:W,fragment:ce,queryParamsHandling:ve,preserveFragment:rt}=b,sn=k||this.routerState.root,qn=rt?this.currentUrlTree.fragment:ce;let Ln=null;switch(ve){case"merge":Ln=Object.assign(Object.assign({},this.currentUrlTree.queryParams),W);break;case"preserve":Ln=this.currentUrlTree.queryParams;break;default:Ln=W||null}return null!==Ln&&(Ln=this.removeEmptyProps(Ln)),It(sn,this.currentUrlTree,v,Ln,null!=qn?qn:null)}navigateByUrl(v,b={skipLocationChange:!1}){const k=Z(v)?v:this.parseUrl(v),W=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,b)}navigate(v,b={skipLocationChange:!1}){return function Br(S){for(let v=0;v<S.length;v++){const b=S[v];if(null==b)throw new c.vHH(4008,fa)}}(v),this.navigateByUrl(this.createUrlTree(v,b),b)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let b;try{b=this.urlSerializer.parse(v)}catch(k){b=this.malformedUriErrorHandler(k,this.urlSerializer,v)}return b}isActive(v,b){let k;if(k=!0===b?Object.assign({},Sc):!1===b?Object.assign({},zr):b,Z(v))return _r(this.currentUrlTree,v,k);const W=this.parseUrl(v);return _r(this.currentUrlTree,W,k)}removeEmptyProps(v){return Object.keys(v).reduce((b,k)=>{const W=v[k];return null!=W&&(b[k]=W),b},{})}processNavigations(){this.navigations.subscribe(v=>{var b;this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new An(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(b=this.titleStrategy)||void 0===b||b.updateTitle(this.routerState.snapshot),v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,b,k,W,ce){var ve,rt;if(this.disposed)return Promise.resolve(!1);let sn,qn,Ln;ce?(sn=ce.resolve,qn=ce.reject,Ln=ce.promise):Ln=new Promise((Ci,Is)=>{sn=Ci,qn=Is});const Or=++this.navigationId;let Yr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(k=this.location.getState()),Yr=k&&k.\u0275routerPageId?k.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?null!==(ve=this.browserPageId)&&void 0!==ve?ve:0:(null!==(rt=this.browserPageId)&&void 0!==rt?rt:0)+1):Yr=0,this.setTransition({id:Or,targetPageId:Yr,source:b,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:W,resolve:sn,reject:qn,promise:Ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ln.catch(Ci=>Promise.reject(Ci))}setBrowserUrl(v,b){const k=this.urlSerializer.serialize(v),W=Object.assign(Object.assign({},b.extras.state),this.generateNgRouterState(b.id,b.targetPageId));this.location.isCurrentPathEqualTo(k)||b.extras.replaceUrl?this.location.replaceState(k,"",W):this.location.go(k,"",W)}restoreHistory(v,b=!1){var k,W;if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(k=this.currentNavigation)||void 0===k?void 0:k.finalUrl)||0===ce?this.currentUrlTree===(null===(W=this.currentNavigation)||void 0===W?void 0:W.finalUrl)&&0===ce&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ce)}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,b,k){const W=new Zn(v.id,this.serializeUrl(v.extractedUrl),b,k);this.triggerEvent(W),v.resolve(!1)}generateNgRouterState(v,b){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:b}:{navigationId:v}}}function Ya(S){return"imperative"!==S}Kr.\u0275fac=function(v){c.$Z()},Kr.\u0275prov=c.Yz7({token:Kr,factory:function(){return au()},providedIn:"root"});class Jr{constructor(v,b,k,W,ce){this.router=v,this.route=b,this.tabIndexAttribute=k,this.renderer=W,this.el=ce,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ie.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(v){this._preserveFragment=(0,c.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,c.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,c.D6c)(v)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(v){if(null!=this.tabIndexAttribute)return;const b=this.renderer,k=this.el.nativeElement;null!==v?b.setAttribute(k,"tabindex",v):b.removeAttribute(k,"tabindex")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const v={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,v),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}Jr.\u0275fac=function(v){return new(v||Jr)(c.Y36(Kr),c.Y36(Sr),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},Jr.\u0275dir=c.lG2({type:Jr,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,b){1&v&&c.NdJ("click",function(){return b.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]});class yo{constructor(v,b,k){this.router=v,this.route=b,this.locationStrategy=k,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ie.x,this.subscription=v.events.subscribe(W=>{W instanceof An&&this.updateTargetUrlAndHref()})}set preserveFragment(v){this._preserveFragment=(0,c.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,c.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,c.D6c)(v)}get replaceUrl(){return this._replaceUrl}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,b,k,W,ce){if(0!==v||b||k||W||ce||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ve={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,ve),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}yo.\u0275fac=function(v){return new(v||yo)(c.Y36(Kr),c.Y36(Sr),c.Y36(ee.S$))},yo.\u0275dir=c.lG2({type:yo,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,b){1&v&&c.NdJ("click",function(W){return b.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&v&&c.uIk("target",b.target)("href",b.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]});class Mi{constructor(v,b,k,W,ce,ve){this.router=v,this.element=b,this.renderer=k,this.cdr=W,this.link=ce,this.linkWithHref=ve,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=v.events.subscribe(rt=>{rt instanceof An&&this.update()})}ngAfterContentInit(){(0,$.of)(this.links.changes,this.linksWithHrefs.changes,(0,$.of)(null)).pipe((0,jn.J)()).subscribe(v=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var v;null===(v=this.linkInputChangesSubscription)||void 0===v||v.unsubscribe();const b=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(k=>!!k).map(k=>k.onChanges);this.linkInputChangesSubscription=(0,B.D)(b).pipe((0,jn.J)()).subscribe(k=>{this.isActive!==this.isLinkActive(this.router)(k)&&this.update()})}set routerLinkActive(v){const b=Array.isArray(v)?v:v.split(" ");this.classes=b.filter(k=>!!k)}ngOnChanges(v){this.update()}ngOnDestroy(){var v;this.routerEventsSubscription.unsubscribe(),null===(v=this.linkInputChangesSubscription)||void 0===v||v.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const v=this.hasActiveLinks();this.isActive!==v&&(this.isActive=v,this.cdr.markForCheck(),this.classes.forEach(b=>{v?this.renderer.addClass(this.element.nativeElement,b):this.renderer.removeClass(this.element.nativeElement,b)}),v&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(v))})}isLinkActive(v){const b=function Xn(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return k=>!!k.urlTree&&v.isActive(k.urlTree,b)}hasActiveLinks(){const v=this.isLinkActive(this.router);return this.link&&v(this.link)||this.linkWithHref&&v(this.linkWithHref)||this.links.some(v)||this.linksWithHrefs.some(v)}}Mi.\u0275fac=function(v){return new(v||Mi)(c.Y36(Kr),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(Jr,8),c.Y36(yo,8))},Mi.\u0275dir=c.lG2({type:Mi,selectors:[["","routerLinkActive",""]],contentQueries:function(v,b,k){if(1&v&&(c.Suo(k,Jr,5),c.Suo(k,yo,5)),2&v){let W;c.iGM(W=c.CRH())&&(b.links=W),c.iGM(W=c.CRH())&&(b.linksWithHrefs=W)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.TTD]});class ea{}class Fo{preload(v,b){return b().pipe((0,it.K)(()=>(0,$.of)(null)))}}Fo.\u0275fac=function(v){return new(v||Fo)},Fo.\u0275prov=c.Yz7({token:Fo,factory:Fo.\u0275fac,providedIn:"root"});class Qs{preload(v,b){return(0,$.of)(null)}}Qs.\u0275fac=function(v){return new(v||Qs)},Qs.\u0275prov=c.Yz7({token:Qs,factory:Qs.\u0275fac,providedIn:"root"});class Ao{constructor(v,b,k,W,ce){this.router=v,this.injector=k,this.preloadingStrategy=W,this.loader=ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ae.h)(v=>v instanceof An),(0,Se.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,b){var k,W,ce;const ve=[];for(const rt of b){rt.providers&&!rt._injector&&(rt._injector=(0,c.MMx)(rt.providers,v,`Route: ${rt.path}`));const sn=null!==(k=rt._injector)&&void 0!==k?k:v,qn=null!==(W=rt._loadedInjector)&&void 0!==W?W:sn;rt.loadChildren&&!rt._loadedRoutes&&void 0===rt.canLoad||rt.loadComponent&&!rt._loadedComponent?ve.push(this.preloadConfig(sn,rt)):(rt.children||rt._loadedRoutes)&&ve.push(this.processRoutes(qn,null!==(ce=rt.children)&&void 0!==ce?ce:rt._loadedRoutes))}return(0,B.D)(ve).pipe((0,jn.J)())}preloadConfig(v,b){return this.preloadingStrategy.preload(b,()=>{let k;k=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(v,b):(0,$.of)(null);const W=k.pipe((0,Ve.z)(ce=>{var ve;return null===ce?(0,$.of)(void 0):(b._loadedRoutes=ce.routes,b._loadedInjector=ce.injector,this.processRoutes(null!==(ve=ce.injector)&&void 0!==ve?ve:v,ce.routes))}));if(b.loadComponent&&!b._loadedComponent){const ce=this.loader.loadComponent(b);return(0,B.D)([W,ce]).pipe((0,jn.J)())}return W})}}Ao.\u0275fac=function(v){return new(v||Ao)(c.LFG(Kr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(ea),c.LFG(Zs))},Ao.\u0275prov=c.Yz7({token:Ao,factory:Ao.\u0275fac,providedIn:"root"});const io=new c.OlP("");class qa{constructor(v,b,k={}){this.router=v,this.viewportScroller=b,this.options=k,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},k.scrollPositionRestoration=k.scrollPositionRestoration||"disabled",k.anchorScrolling=k.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof en?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof An&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Us&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,b){this.router.triggerEvent(new Us(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}qa.\u0275fac=function(v){c.$Z()},qa.\u0275prov=c.Yz7({token:qa,factory:qa.\u0275fac});function fc(S){return S.routerState.root}function Ts(S,v){return{\u0275kind:S,\u0275providers:v}}function Rc(S){return[{provide:ro,multi:!0,useValue:S}]}function lu(){const S=(0,c.f3M)(c.zs3);return v=>{var b,k;const W=S.get(c.z2F);if(v!==W.components[0])return;const ce=S.get(Kr),ve=S.get(pa);1===S.get(So)&&ce.initialNavigation(),null===(b=S.get(Ra,null,c.XFs.Optional))||void 0===b||b.setUpPreloading(),null===(k=S.get(io,null,c.XFs.Optional))||void 0===k||k.init(),ce.resetRootComponentType(W.componentTypes[0]),ve.next(),ve.complete()}}const pa=new c.OlP("",{factory:()=>new ie.x}),So=new c.OlP("",{providedIn:"root",factory:()=>1});function nn(){return Ts(2,[{provide:So,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:v=>{const b=v.get(ee.V_,Promise.resolve());let k=!1;return()=>b.then(()=>new Promise(ce=>{const ve=v.get(Kr),rt=v.get(pa);(function W(ce){v.get(Kr).events.pipe((0,Ae.h)(rt=>rt instanceof An||rt instanceof Zn||rt instanceof or),(0,oe.U)(rt=>rt instanceof An||rt instanceof Zn&&(0===rt.code||1===rt.code)&&null),(0,Ae.h)(rt=>null!==rt),(0,ge.q)(1)).subscribe(()=>{ce()})})(()=>{ce(!0),k=!0}),ve.afterPreactivation=()=>(ce(!0),k||rt.closed?(0,$.of)(void 0):rt),ve.initialNavigation()}))}}])}const Ra=new c.OlP("");const Go=new c.OlP("ROUTER_FORROOT_GUARD"),Mc=[ee.Ye,{provide:Kn,useClass:lr},{provide:Kr,useFactory:au},Lt,{provide:Sr,useFactory:fc,deps:[Kr]},Zs];function pc(){return new c.PXZ("Router",Kr)}class vo{constructor(v){}static forRoot(v,b){return{ngModule:vo,providers:[Mc,[],Rc(v),{provide:Go,useFactory:gc,deps:[[Kr,new c.FiY,new c.tp0]]},{provide:dc,useValue:b||{}},null!=b&&b.useHash?{provide:ee.S$,useClass:ee.Do}:{provide:ee.S$,useClass:ee.b0},{provide:io,useFactory:()=>{const S=(0,c.f3M)(Kr),v=(0,c.f3M)(ee.EM),b=(0,c.f3M)(dc);return b.scrollOffset&&v.setOffset(b.scrollOffset),new qa(S,v,b)}},null!=b&&b.preloadingStrategy?(S=b.preloadingStrategy,Ts(0,[{provide:Ra,useExisting:Ao},{provide:ea,useExisting:S}])).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:pc},null!=b&&b.initialNavigation?Es(b):[],[{provide:Pc,useFactory:lu},{provide:c.tb,multi:!0,useExisting:Pc}]]};var S}static forChild(v){return{ngModule:vo,providers:[Rc(v)]}}}function gc(S){return"guarded"}function Es(S){return["disabled"===S.initialNavigation?Ts(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const v=(0,c.f3M)(Kr);return()=>{v.setUpLocationChangeListener()}}},{provide:So,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?nn().\u0275providers:[]]}vo.\u0275fac=function(v){return new(v||vo)(c.LFG(Go,8))},vo.\u0275mod=c.oAB({type:vo}),vo.\u0275inj=c.cJS({imports:[Cr]});const Pc=new c.OlP("");new c.GfV("14.2.6")},5003:(ln,at,R)=>{"use strict";R.d(at,{Z:()=>Ge});var c=R(7748),B=R(4692),$=R(8770),Le=R(8118);class Fe{constructor(Me,be){this._delegate=Me,this.firebase=be,(0,$._addComponent)(Me,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(Me,be=$._DEFAULT_ENTRY_NAME){var Ee;this._delegate.checkDestroyed();const xt=this._delegate.container.getProvider(Me);return!xt.isInitialized()&&"EXPLICIT"===(null===(Ee=xt.getComponent())||void 0===Ee?void 0:Ee.instantiationMode)&&xt.initialize(),xt.getImmediate({identifier:be})}_removeServiceInstance(Me,be=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(be)}_addComponent(Me){(0,$._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,$._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},le=new c.LL("app-compat","Firebase",Ie);const ue=function $e(){const dt=function Ce(dt){const Me={},be={__esModule:!0,initializeApp:function mt(me,De={}){const st=$.initializeApp(me,De);if((0,c.r3)(Me,st.name))return Me[st.name];const ie=new dt(st,be);return Me[st.name]=ie,ie},app:xt,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function et(me){const De=me.name,st=De.replace("-compat","");if($._registerComponent(me)&&"PUBLIC"===me.type){const ie=(ee=xt())=>{if("function"!=typeof ee[st])throw le.create("invalid-app-argument",{appName:De});return ee[st]()};void 0!==me.serviceProps&&(0,c.ZB)(ie,me.serviceProps),be[st]=ie,dt.prototype[st]=function(...ee){return this._getService.bind(this,De).apply(this,me.multipleInstances?ee:[])}}return"PUBLIC"===me.type?be[st]:null},removeApp:function Ee(me){delete Me[me]},useAsService:function nt(me,De){return"serverAuth"===De?null:De},modularAPIs:$}};function xt(me){if(me=me||$._DEFAULT_ENTRY_NAME,!(0,c.r3)(Me,me))throw le.create("no-app",{appName:me});return Me[me]}return be.default=be,Object.defineProperty(be,"apps",{get:function yt(){return Object.keys(Me).map(me=>Me[me])}}),xt.App=dt,be}(Fe);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function Me(be){(0,c.ZB)(dt,be)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),dt}(),_e=new Le.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){_e.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&_e.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=ue;!function Be(dt){(0,$.registerVersion)("@firebase/app-compat","0.1.39",dt)}()},8770:(ln,at,R)=>{"use strict";R.r(at),R.d(at,{FirebaseError:()=>Le.ZR,SDK_VERSION:()=>Mn,_DEFAULT_ENTRY_NAME:()=>qe,_addComponent:()=>lt,_addOrOverwriteComponent:()=>St,_apps:()=>Ye,_clearComponents:()=>Fn,_components:()=>it,_getProvider:()=>qt,_registerComponent:()=>Ht,_removeServiceInstance:()=>an,deleteApp:()=>hn,getApp:()=>Rt,getApps:()=>Vt,initializeApp:()=>z,onLog:()=>Et,registerVersion:()=>rn,setLogLevel:()=>cn});var c=R(1670),B=R(4692),$=R(8118),Le=R(7748),Fe=R(3688);class Ie{constructor(Wt){this.container=Wt}getPlatformInfoString(){return this.container.getProviders().map(Tn=>{if(function le(In){const Wt=In.getComponent();return"VERSION"===(null==Wt?void 0:Wt.type)}(Tn)){const Rn=Tn.getImmediate();return`${Rn.library}/${Rn.version}`}return null}).filter(Tn=>Tn).join(" ")}}const Ce="@firebase/app",ue=new $.Yd("@firebase/app"),qe="[DEFAULT]",Se={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ye=new Map,it=new Map;function lt(In,Wt){try{In.container.addComponent(Wt)}catch(Tn){ue.debug(`Component ${Wt.name} failed to register with FirebaseApp ${In.name}`,Tn)}}function St(In,Wt){In.container.addOrOverwriteComponent(Wt)}function Ht(In){const Wt=In.name;if(it.has(Wt))return ue.debug(`There were multiple attempts to register component ${Wt}.`),!1;it.set(Wt,In);for(const Tn of Ye.values())lt(Tn,In);return!0}function qt(In,Wt){const Tn=In.container.getProvider("heartbeat").getImmediate({optional:!0});return Tn&&Tn.triggerHeartbeat(),In.container.getProvider(Wt)}function an(In,Wt,Tn=qe){qt(In,Wt).clearInstance(Tn)}function Fn(){it.clear()}const ir={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},tr=new Le.LL("app","Firebase",ir);class jn{constructor(Wt,Tn,Rn){this._isDeleted=!1,this._options=Object.assign({},Wt),this._config=Object.assign({},Tn),this._name=Tn.name,this._automaticDataCollectionEnabled=Tn.automaticDataCollectionEnabled,this._container=Rn,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Wt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Wt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Wt){this._isDeleted=Wt}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}const Mn="9.14.0";function z(In,Wt={}){let Tn=In;"object"!=typeof Wt&&(Wt={name:Wt});const Rn=Object.assign({name:qe,automaticDataCollectionEnabled:!1},Wt),Kn=Rn.name;if("string"!=typeof Kn||!Kn)throw tr.create("bad-app-name",{appName:String(Kn)});if(Tn||(Tn=(0,Le.aH)()),!Tn)throw tr.create("no-options");const lr=Ye.get(Kn);if(lr){if((0,Le.vZ)(Tn,lr.options)&&(0,Le.vZ)(Rn,lr.config))return lr;throw tr.create("duplicate-app",{appName:Kn})}const Xe=new B.H0(Kn);for(const tt of it.values())Xe.addComponent(tt);const Te=new jn(Tn,Rn,Xe);return Ye.set(Kn,Te),Te}function Rt(In=qe){const Wt=Ye.get(In);if(!Wt&&In===qe)return z();if(!Wt)throw tr.create("no-app",{appName:In});return Wt}function Vt(){return Array.from(Ye.values())}function hn(In){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(In){const Wt=In.name;Ye.has(Wt)&&(Ye.delete(Wt),yield Promise.all(In.container.getProviders().map(Tn=>Tn.delete())),In.isDeleted=!0)})).apply(this,arguments)}function rn(In,Wt,Tn){var Rn;let Kn=null!==(Rn=Se[In])&&void 0!==Rn?Rn:In;Tn&&(Kn+=`-${Tn}`);const lr=Kn.match(/\s|\//),Xe=Wt.match(/\s|\//);if(lr||Xe){const Te=[`Unable to register library "${Kn}" with version "${Wt}":`];return lr&&Te.push(`library name "${Kn}" contains illegal characters (whitespace or "/")`),lr&&Xe&&Te.push("and"),Xe&&Te.push(`version name "${Wt}" contains illegal characters (whitespace or "/")`),void ue.warn(Te.join(" "))}Ht(new B.wA(`${Kn}-version`,()=>({library:Kn,version:Wt}),"VERSION"))}function Et(In,Wt){if(null!==In&&"function"!=typeof In)throw tr.create("invalid-log-argument");(0,$.Am)(In,Wt)}function cn(In){(0,$.Ub)(In)}const hr="firebase-heartbeat-store";let Wn=null;function En(){return Wn||(Wn=(0,Fe.X3)("firebase-heartbeat-database",1,{upgrade:(In,Wt)=>{if(0===Wt)In.createObjectStore(hr)}}).catch(In=>{throw tr.create("idb-open",{originalErrorMessage:In.message})})),Wn}function bn(){return(bn=(0,c.Z)(function*(In){var Wt;try{return(yield En()).transaction(hr).objectStore(hr).get(_r(In))}catch(Tn){if(Tn instanceof Le.ZR)ue.warn(Tn.message);else{const Rn=tr.create("idb-get",{originalErrorMessage:null===(Wt=Tn)||void 0===Wt?void 0:Wt.message});ue.warn(Rn.message)}}})).apply(this,arguments)}function Bn(In,Wt){return yr.apply(this,arguments)}function yr(){return(yr=(0,c.Z)(function*(In,Wt){var Tn;try{const Kn=(yield En()).transaction(hr,"readwrite");return yield Kn.objectStore(hr).put(Wt,_r(In)),Kn.done}catch(Rn){if(Rn instanceof Le.ZR)ue.warn(Rn.message);else{const Kn=tr.create("idb-set",{originalErrorMessage:null===(Tn=Rn)||void 0===Tn?void 0:Tn.message});ue.warn(Kn.message)}}})).apply(this,arguments)}function _r(In){return`${In.name}!${In.options.appId}`}class Mr{constructor(Wt){this.container=Wt,this._heartbeatsCache=null;const Tn=this.container.getProvider("app").getImmediate();this._storage=new gr(Tn),this._heartbeatsCachePromise=this._storage.read().then(Rn=>(this._heartbeatsCache=Rn,Rn))}triggerHeartbeat(){var Wt=this;return(0,c.Z)(function*(){const Rn=Wt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kn=sr();if(null===Wt._heartbeatsCache&&(Wt._heartbeatsCache=yield Wt._heartbeatsCachePromise),Wt._heartbeatsCache.lastSentHeartbeatDate!==Kn&&!Wt._heartbeatsCache.heartbeats.some(lr=>lr.date===Kn))return Wt._heartbeatsCache.heartbeats.push({date:Kn,agent:Rn}),Wt._heartbeatsCache.heartbeats=Wt._heartbeatsCache.heartbeats.filter(lr=>{const Xe=new Date(lr.date).valueOf();return Date.now()-Xe<=2592e6}),Wt._storage.overwrite(Wt._heartbeatsCache)})()}getHeartbeatsHeader(){var Wt=this;return(0,c.Z)(function*(){if(null===Wt._heartbeatsCache&&(yield Wt._heartbeatsCachePromise),null===Wt._heartbeatsCache||0===Wt._heartbeatsCache.heartbeats.length)return"";const Tn=sr(),{heartbeatsToSend:Rn,unsentEntries:Kn}=function Zr(In,Wt=1024){const Tn=[];let Rn=In.slice();for(const Kn of In){const lr=Tn.find(Xe=>Xe.agent===Kn.agent);if(lr){if(lr.dates.push(Kn.date),vr(Tn)>Wt){lr.dates.pop();break}}else if(Tn.push({agent:Kn.agent,dates:[Kn.date]}),vr(Tn)>Wt){Tn.pop();break}Rn=Rn.slice(1)}return{heartbeatsToSend:Tn,unsentEntries:Rn}}(Wt._heartbeatsCache.heartbeats),lr=(0,Le.L)(JSON.stringify({version:2,heartbeats:Rn}));return Wt._heartbeatsCache.lastSentHeartbeatDate=Tn,Kn.length>0?(Wt._heartbeatsCache.heartbeats=Kn,yield Wt._storage.overwrite(Wt._heartbeatsCache)):(Wt._heartbeatsCache.heartbeats=[],Wt._storage.overwrite(Wt._heartbeatsCache)),lr})()}}function sr(){return(new Date).toISOString().substring(0,10)}class gr{constructor(Wt){this.app=Wt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,Le.hl)()&&(0,Le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Wt=this;return(0,c.Z)(function*(){return(yield Wt._canUseIndexedDBPromise)&&(yield function $n(In){return bn.apply(this,arguments)}(Wt.app))||{heartbeats:[]}})()}overwrite(Wt){var Tn=this;return(0,c.Z)(function*(){var Rn;if(yield Tn._canUseIndexedDBPromise){const lr=yield Tn.read();return Bn(Tn.app,{lastSentHeartbeatDate:null!==(Rn=Wt.lastSentHeartbeatDate)&&void 0!==Rn?Rn:lr.lastSentHeartbeatDate,heartbeats:Wt.heartbeats})}})()}add(Wt){var Tn=this;return(0,c.Z)(function*(){var Rn;if(yield Tn._canUseIndexedDBPromise){const lr=yield Tn.read();return Bn(Tn.app,{lastSentHeartbeatDate:null!==(Rn=Wt.lastSentHeartbeatDate)&&void 0!==Rn?Rn:lr.lastSentHeartbeatDate,heartbeats:[...lr.heartbeats,...Wt.heartbeats]})}})()}}function vr(In){return(0,Le.L)(JSON.stringify({version:2,heartbeats:In})).length}!function Un(In){Ht(new B.wA("platform-logger",Wt=>new Ie(Wt),"PRIVATE")),Ht(new B.wA("heartbeat",Wt=>new Mr(Wt),"PRIVATE")),rn(Ce,"0.8.4",In),rn(Ce,"0.8.4","esm2017"),rn("fire-js","")}("")},4692:(ln,at,R)=>{"use strict";R.d(at,{H0:()=>Ce,wA:()=>$,zt:()=>Fe});var c=R(1670),B=R(7748);class ${constructor(ue,_e,xe){this.name=ue,this.instanceFactory=_e,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const Le="[DEFAULT]";class Fe{constructor(ue,_e){this.name=ue,this.container=_e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const _e=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(_e)){const xe=new B.BH;if(this.instancesDeferred.set(_e,xe),this.isInitialized(_e)||this.shouldAutoInitialize())try{const de=this.getOrInitializeService({instanceIdentifier:_e});de&&xe.resolve(de)}catch(de){}}return this.instancesDeferred.get(_e).promise}getImmediate(ue){var _e;const xe=this.normalizeInstanceIdentifier(null==ue?void 0:ue.identifier),de=null!==(_e=null==ue?void 0:ue.optional)&&void 0!==_e&&_e;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(de)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(Be){if(de)return null;throw Be}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if(function le($e){return"EAGER"===$e.instantiationMode}(ue))try{this.getOrInitializeService({instanceIdentifier:Le})}catch(_e){}for(const[_e,xe]of this.instancesDeferred.entries()){const de=this.normalizeInstanceIdentifier(_e);try{const Be=this.getOrInitializeService({instanceIdentifier:de});xe.resolve(Be)}catch(Be){}}}}clearInstance(ue=Le){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,c.Z)(function*(){const _e=Array.from(ue.instances.values());yield Promise.all([..._e.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),..._e.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=Le){return this.instances.has(ue)}getOptions(ue=Le){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:_e={}}=ue,xe=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const de=this.getOrInitializeService({instanceIdentifier:xe,options:_e});for(const[Be,Ge]of this.instancesDeferred.entries()){xe===this.normalizeInstanceIdentifier(Be)&&Ge.resolve(de)}return de}onInit(ue,_e){var xe;const de=this.normalizeInstanceIdentifier(_e),Be=null!==(xe=this.onInitCallbacks.get(de))&&void 0!==xe?xe:new Set;Be.add(ue),this.onInitCallbacks.set(de,Be);const Ge=this.instances.get(de);return Ge&&ue(Ge,de),()=>{Be.delete(ue)}}invokeOnInitCallbacks(ue,_e){const xe=this.onInitCallbacks.get(_e);if(xe)for(const de of xe)try{de(ue,_e)}catch(Be){}}getOrInitializeService({instanceIdentifier:ue,options:_e={}}){let xe=this.instances.get(ue);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:($e=ue,$e===Le?void 0:$e),options:_e}),this.instances.set(ue,xe),this.instancesOptions.set(ue,_e),this.invokeOnInitCallbacks(xe,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,xe)}catch(de){}var $e;return xe||null}normalizeInstanceIdentifier(ue=Le){return this.component?this.component.multipleInstances?ue:Le:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const _e=this.getProvider(ue.name);if(_e.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);_e.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const _e=new Fe(ue,this);return this.providers.set(ue,_e),_e}getProviders(){return Array.from(this.providers.values())}}},7152:(ln,at,R)=>{"use strict";var c=R(1670),B=R(8770),$=R(4692),Le=R(7748),Fe=R(3688);const Ie="@firebase/installations",le="0.5.16",Ce=1e4,$e=`w:${le}`,ue="FIS_v2",Ge={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},dt=new Le.LL("installations","Installations",Ge);function Me(ct){return ct instanceof Le.ZR&&ct.code.includes("request-failed")}function be({projectId:ct}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ct}/installations`}function Ee(ct){return{token:ct.token,requestStatus:2,expiresIn:De(ct.expiresIn),creationTime:Date.now()}}function xt(ct,Z){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(ct,Z){const j=(yield Z.json()).error;return dt.create("request-failed",{requestName:ct,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function yt({apiKey:ct}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ct})}function et(ct,{refreshToken:Z}){const x=yt(ct);return x.append("Authorization",function st(ct){return`${ue} ${ct}`}(Z)),x}function nt(ct){return me.apply(this,arguments)}function me(){return(me=(0,c.Z)(function*(ct){const Z=yield ct();return Z.status>=500&&Z.status<600?ct():Z})).apply(this,arguments)}function De(ct){return Number(ct.replace("s","000"))}function ie(ct,Z){return ee.apply(this,arguments)}function ee(){return(ee=(0,c.Z)(function*({appConfig:ct,heartbeatServiceProvider:Z},{fid:x}){const j=be(ct),ye=yt(ct),Ct=Z.getImmediate({optional:!0});if(Ct){const cr=yield Ct.getHeartbeatsHeader();cr&&ye.append("x-firebase-client",cr)}const It={fid:x,authVersion:ue,appId:ct.appId,sdkVersion:$e},_n={method:"POST",headers:ye,body:JSON.stringify(It)},Jn=yield nt(()=>fetch(j,_n));if(Jn.ok){const cr=yield Jn.json();return{fid:cr.fid||x,registrationStatus:2,refreshToken:cr.refreshToken,authToken:Ee(cr.authToken)}}throw yield xt("Create Installation",Jn)})).apply(this,arguments)}function oe(ct){return new Promise(Z=>{setTimeout(Z,ct)})}const ge=/^[cdef][\w-]{21}$/;function Ae(){try{const ct=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ct),ct[0]=112+ct[0]%16;const x=function Ve(ct){return function J(ct){return btoa(String.fromCharCode(...ct)).replace(/\+/g,"-").replace(/\//g,"_")}(ct).substr(0,22)}(ct);return ge.test(x)?x:""}catch(ct){return""}}function qe(ct){return`${ct.appName}!${ct.appId}`}const Se=new Map;function Ye(ct,Z){const x=qe(ct);St(x,Z),function Ht(ct,Z){const x=an();x&&x.postMessage({key:ct,fid:Z}),Fn()}(x,Z)}function St(ct,Z){const x=Se.get(ct);if(x)for(const j of x)j(Z)}let qt=null;function an(){return!qt&&"BroadcastChannel"in self&&(qt=new BroadcastChannel("[Firebase] FID Change"),qt.onmessage=ct=>{St(ct.data.key,ct.data.fid)}),qt}function Fn(){0===Se.size&&qt&&(qt.close(),qt=null)}const jn="firebase-installations-store";let Mn=null;function z(){return Mn||(Mn=(0,Fe.X3)("firebase-installations-database",1,{upgrade:(ct,Z)=>{if(0===Z)ct.createObjectStore(jn)}})),Mn}function Rt(ct,Z){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(ct,Z){const x=qe(ct),ye=(yield z()).transaction(jn,"readwrite"),Ct=ye.objectStore(jn),It=yield Ct.get(x);return yield Ct.put(Z,x),yield ye.done,(!It||It.fid!==Z.fid)&&Ye(ct,Z.fid),Z})).apply(this,arguments)}function hn(ct){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(ct){const Z=qe(ct),j=(yield z()).transaction(jn,"readwrite");yield j.objectStore(jn).delete(Z),yield j.done})).apply(this,arguments)}function rn(ct,Z){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(ct,Z){const x=qe(ct),ye=(yield z()).transaction(jn,"readwrite"),Ct=ye.objectStore(jn),It=yield Ct.get(x),_n=Z(It);return void 0===_n?yield Ct.delete(x):yield Ct.put(_n,x),yield ye.done,_n&&(!It||It.fid!==_n.fid)&&Ye(ct,_n.fid),_n})).apply(this,arguments)}function cn(ct){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(ct){let Z;const x=yield rn(ct.appConfig,j=>{const ye=Gn(j),Ct=hr(ct,ye);return Z=Ct.registrationPromise,Ct.installationEntry});return""===x.fid?{installationEntry:yield Z}:{installationEntry:x,registrationPromise:Z}})).apply(this,arguments)}function Gn(ct){return yr(ct||{fid:Ae(),registrationStatus:0})}function hr(ct,Z){if(0===Z.registrationStatus){if(!navigator.onLine){return{installationEntry:Z,registrationPromise:Promise.reject(dt.create("app-offline"))}}const x={fid:Z.fid,registrationStatus:1,registrationTime:Date.now()},j=function Wn(ct,Z){return En.apply(this,arguments)}(ct,x);return{installationEntry:x,registrationPromise:j}}return 1===Z.registrationStatus?{installationEntry:Z,registrationPromise:$n(ct)}:{installationEntry:Z}}function En(){return(En=(0,c.Z)(function*(ct,Z){try{const x=yield ie(ct,Z);return Rt(ct.appConfig,x)}catch(x){throw Me(x)&&409===x.customData.serverCode?yield hn(ct.appConfig):yield Rt(ct.appConfig,{fid:Z.fid,registrationStatus:0}),x}})).apply(this,arguments)}function $n(ct){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(ct){let Z=yield Bn(ct.appConfig);for(;1===Z.registrationStatus;)yield oe(100),Z=yield Bn(ct.appConfig);if(0===Z.registrationStatus){const{installationEntry:x,registrationPromise:j}=yield cn(ct);return j||x}return Z})).apply(this,arguments)}function Bn(ct){return rn(ct,Z=>{if(!Z)throw dt.create("installation-not-found");return yr(Z)})}function yr(ct){return function _r(ct){return 1===ct.registrationStatus&&ct.registrationTime+1e4<Date.now()}(ct)?{fid:ct.fid,registrationStatus:0}:ct}function pr(ct,Z){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*({appConfig:ct,heartbeatServiceProvider:Z},x){const j=Mr(ct,x),ye=et(ct,x),Ct=Z.getImmediate({optional:!0});if(Ct){const cr=yield Ct.getHeartbeatsHeader();cr&&ye.append("x-firebase-client",cr)}const It={installation:{sdkVersion:$e,appId:ct.appId}},_n={method:"POST",headers:ye,body:JSON.stringify(It)},Jn=yield nt(()=>fetch(j,_n));if(Jn.ok){return Ee(yield Jn.json())}throw yield xt("Generate Auth Token",Jn)})).apply(this,arguments)}function Mr(ct,{fid:Z}){return`${be(ct)}/${Z}/authTokens:generate`}function sr(ct){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(ct,Z=!1){let x;const j=yield rn(ct.appConfig,Ct=>{if(!Tn(Ct))throw dt.create("not-registered");const It=Ct.authToken;if(!Z&&Rn(It))return Ct;if(1===It.requestStatus)return x=gr(ct,Z),Ct;{if(!navigator.onLine)throw dt.create("app-offline");const _n=lr(Ct);return x=In(ct,_n),_n}});return x?yield x:j.authToken})).apply(this,arguments)}function gr(ct,Z){return vr.apply(this,arguments)}function vr(){return(vr=(0,c.Z)(function*(ct,Z){let x=yield Un(ct.appConfig);for(;1===x.authToken.requestStatus;)yield oe(100),x=yield Un(ct.appConfig);const j=x.authToken;return 0===j.requestStatus?sr(ct,Z):j})).apply(this,arguments)}function Un(ct){return rn(ct,Z=>{if(!Tn(Z))throw dt.create("not-registered");return function Xe(ct){return 1===ct.requestStatus&&ct.requestTime+Ce<Date.now()}(Z.authToken)?Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}}):Z})}function In(ct,Z){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(ct,Z){try{const x=yield pr(ct,Z),j=Object.assign(Object.assign({},Z),{authToken:x});return yield Rt(ct.appConfig,j),x}catch(x){if(!Me(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const j=Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}});yield Rt(ct.appConfig,j)}else yield hn(ct.appConfig);throw x}})).apply(this,arguments)}function Tn(ct){return void 0!==ct&&2===ct.registrationStatus}function Rn(ct){return 2===ct.requestStatus&&!function Kn(ct){const Z=Date.now();return Z<ct.creationTime||ct.creationTime+ct.expiresIn<Z+36e5}(ct)}function lr(ct){const Z={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ct),{authToken:Z})}function tt(){return(tt=(0,c.Z)(function*(ct){const Z=ct,{installationEntry:x,registrationPromise:j}=yield cn(Z);return j?j.catch(console.error):sr(Z).catch(console.error),x.fid})).apply(this,arguments)}function Y(){return(Y=(0,c.Z)(function*(ct,Z=!1){const x=ct;return yield je(x),(yield sr(x,Z)).token})).apply(this,arguments)}function je(ct){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(ct){const{registrationPromise:Z}=yield cn(ct);Z&&(yield Z)})).apply(this,arguments)}function Sn(ct){return dt.create("missing-app-config-values",{valueName:ct})}const Qe="installations",zt=ct=>{const Z=ct.getProvider("app").getImmediate(),x=function Ut(ct){if(!ct||!ct.options)throw Sn("App Configuration");if(!ct.name)throw Sn("App Name");const Z=["projectId","apiKey","appId"];for(const x of Z)if(!ct.options[x])throw Sn(x);return{appName:ct.name,projectId:ct.options.projectId,apiKey:ct.options.apiKey,appId:ct.options.appId}}(Z);return{app:Z,appConfig:x,heartbeatServiceProvider:(0,B._getProvider)(Z,"heartbeat"),_delete:()=>Promise.resolve()}},un=ct=>{const Z=ct.getProvider("app").getImmediate(),x=(0,B._getProvider)(Z,Qe).getImmediate();return{getId:()=>function Te(ct){return tt.apply(this,arguments)}(x),getToken:ye=>function Ue(ct){return Y.apply(this,arguments)}(x,ye)}};(function xn(){(0,B._registerComponent)(new $.wA(Qe,zt,"PUBLIC")),(0,B._registerComponent)(new $.wA("installations-internal",un,"PRIVATE"))})(),(0,B.registerVersion)(Ie,le),(0,B.registerVersion)(Ie,le,"esm2017")},8118:(ln,at,R)=>{"use strict";R.d(at,{Am:()=>$e,Ub:()=>Ce,Yd:()=>le,in:()=>B});const c=[];var B,ue;(ue=B||(B={}))[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT";const $={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},Le=B.INFO,Fe={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},Ie=(ue,_e,...xe)=>{if(_e<ue.logLevel)return;const de=(new Date).toISOString(),Be=Fe[_e];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`);console[Be](`[${de}]  ${ue.name}:`,...xe)};class le{constructor(_e){this.name=_e,this._logLevel=Le,this._logHandler=Ie,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in B))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel="string"==typeof _e?$[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if("function"!=typeof _e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,..._e),this._logHandler(this,B.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,..._e),this._logHandler(this,B.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,B.INFO,..._e),this._logHandler(this,B.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,B.WARN,..._e),this._logHandler(this,B.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,B.ERROR,..._e),this._logHandler(this,B.ERROR,..._e)}}function Ce(ue){c.forEach(_e=>{_e.setLogLevel(ue)})}function $e(ue,_e){for(const xe of c){let de=null;_e&&_e.level&&(de=$[_e.level]),xe.userLogHandler=null===ue?null:(Be,Ge,...dt)=>{const Me=dt.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch(Ee){return null}}).filter(be=>be).join(" ");Ge>=(null!=de?de:Be.logLevel)&&ue({level:B[Ge].toLowerCase(),message:Me,args:dt,type:Be.name})}}}},4557:(ln,at,R)=>{"use strict";R.d(at,{Gb:()=>Nt,LP:()=>He,pQ:()=>Ut,ps:()=>Sn});var c=R(1670),$=(R(7152),R(4692)),Le=R(3688),Fe=R(7748),Ie=R(8770);const le="/firebase-messaging-sw.js",Ce="/firebase-cloud-messaging-push-scope",$e="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_e="google.c.a.c_id",xe="google.c.a.c_l",de="google.c.a.ts",Be="google.c.a.e";var Ge,Qe,dt;function Me(Qe){const Je=new Uint8Array(Qe);return btoa(String.fromCharCode(...Je)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function be(Qe){const zt=(Qe+"=".repeat((4-Qe.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),un=atob(zt),xn=new Uint8Array(un.length);for(let ct=0;ct<un.length;++ct)xn[ct]=un.charCodeAt(ct);return xn}(Qe=Ge||(Ge={}))[Qe.DATA_MESSAGE=1]="DATA_MESSAGE",Qe[Qe.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",function(Qe){Qe.PUSH_RECEIVED="push-received",Qe.NOTIFICATION_CLICKED="notification-clicked"}(dt||(dt={}));const Ee="fcm_token_details_db",mt="fcm_token_object_Store";function yt(Qe){return et.apply(this,arguments)}function et(){return et=(0,c.Z)(function*(Qe){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ct=>ct.name).includes(Ee))return null;let Je=null;return(yield(0,Le.X3)(Ee,5,{upgrade:(un=(0,c.Z)(function*(xn,ct,Z,x){var j;if(ct<2||!xn.objectStoreNames.contains(mt))return;const ye=x.objectStore(mt),Ct=yield ye.index("fcmSenderId").get(Qe);if(yield ye.clear(),Ct)if(2===ct){const It=Ct;if(!It.auth||!It.p256dh||!It.endpoint)return;Je={token:It.fcmToken,createTime:null!==(j=It.createTime)&&void 0!==j?j:Date.now(),subscriptionOptions:{auth:It.auth,p256dh:It.p256dh,endpoint:It.endpoint,swScope:It.swScope,vapidKey:"string"==typeof It.vapidKey?It.vapidKey:Me(It.vapidKey)}}}else if(3===ct){const It=Ct;Je={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:Me(It.auth),p256dh:Me(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:Me(It.vapidKey)}}}else if(4===ct){const It=Ct;Je={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:Me(It.auth),p256dh:Me(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:Me(It.vapidKey)}}}}),function(ct,Z,x,j){return un.apply(this,arguments)})})).close(),yield(0,Le.Lj)(Ee),yield(0,Le.Lj)("fcm_vapid_details_db"),yield(0,Le.Lj)("undefined"),nt(Je)?Je:null;var un}),et.apply(this,arguments)}function nt(Qe){if(!Qe||!Qe.subscriptionOptions)return!1;const{subscriptionOptions:Je}=Qe;return"number"==typeof Qe.createTime&&Qe.createTime>0&&"string"==typeof Qe.token&&Qe.token.length>0&&"string"==typeof Je.auth&&Je.auth.length>0&&"string"==typeof Je.p256dh&&Je.p256dh.length>0&&"string"==typeof Je.endpoint&&Je.endpoint.length>0&&"string"==typeof Je.swScope&&Je.swScope.length>0&&"string"==typeof Je.vapidKey&&Je.vapidKey.length>0}const st="firebase-messaging-store";let ie=null;function ee(){return ie||(ie=(0,Le.X3)("firebase-messaging-database",1,{upgrade:(Qe,Je)=>{if(0===Je)Qe.createObjectStore(st)}})),ie}function oe(Qe){return J.apply(this,arguments)}function J(){return J=(0,c.Z)(function*(Qe){const Je=qe(Qe),un=yield(yield ee()).transaction(st).objectStore(st).get(Je);if(un)return un;{const xn=yield yt(Qe.appConfig.senderId);if(xn)return yield ge(Qe,xn),xn}}),J.apply(this,arguments)}function ge(Qe,Je){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,c.Z)(function*(Qe,Je){const zt=qe(Qe),xn=(yield ee()).transaction(st,"readwrite");return yield xn.objectStore(st).put(Je,zt),yield xn.done,Je}),Ne.apply(this,arguments)}function Ae(Qe){return Ve.apply(this,arguments)}function Ve(){return Ve=(0,c.Z)(function*(Qe){const Je=qe(Qe),un=(yield ee()).transaction(st,"readwrite");yield un.objectStore(st).delete(Je),yield un.done}),Ve.apply(this,arguments)}function qe({appConfig:Qe}){return Qe.appId}const Se={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ye=new Fe.LL("messaging","Messaging",Se);function it(Qe,Je){return lt.apply(this,arguments)}function lt(){return lt=(0,c.Z)(function*(Qe,Je){var zt;const un=yield ir(Qe),xn=jn(Je),ct={method:"POST",headers:un,body:JSON.stringify(xn)};let Z;try{Z=yield(yield fetch(Fn(Qe.appConfig),ct)).json()}catch(x){throw Ye.create("token-subscribe-failed",{errorInfo:null===(zt=x)||void 0===zt?void 0:zt.toString()})}if(Z.error){const x=Z.error.message;throw Ye.create("token-subscribe-failed",{errorInfo:x})}if(!Z.token)throw Ye.create("token-subscribe-no-token");return Z.token}),lt.apply(this,arguments)}function St(Qe,Je){return Ht.apply(this,arguments)}function Ht(){return Ht=(0,c.Z)(function*(Qe,Je){var zt;const un=yield ir(Qe),xn=jn(Je.subscriptionOptions),ct={method:"PATCH",headers:un,body:JSON.stringify(xn)};let Z;try{Z=yield(yield fetch(`${Fn(Qe.appConfig)}/${Je.token}`,ct)).json()}catch(x){throw Ye.create("token-update-failed",{errorInfo:null===(zt=x)||void 0===zt?void 0:zt.toString()})}if(Z.error){const x=Z.error.message;throw Ye.create("token-update-failed",{errorInfo:x})}if(!Z.token)throw Ye.create("token-update-no-token");return Z.token}),Ht.apply(this,arguments)}function qt(Qe,Je){return an.apply(this,arguments)}function an(){return an=(0,c.Z)(function*(Qe,Je){var zt;const xn={method:"DELETE",headers:yield ir(Qe)};try{const Z=yield(yield fetch(`${Fn(Qe.appConfig)}/${Je}`,xn)).json();if(Z.error){const x=Z.error.message;throw Ye.create("token-unsubscribe-failed",{errorInfo:x})}}catch(ct){throw Ye.create("token-unsubscribe-failed",{errorInfo:null===(zt=ct)||void 0===zt?void 0:zt.toString()})}}),an.apply(this,arguments)}function Fn({projectId:Qe}){return`https://fcmregistrations.googleapis.com/v1/projects/${Qe}/registrations`}function ir(Qe){return tr.apply(this,arguments)}function tr(){return tr=(0,c.Z)(function*({appConfig:Qe,installations:Je}){const zt=yield Je.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Qe.apiKey,"x-goog-firebase-installations-auth":`FIS ${zt}`})}),tr.apply(this,arguments)}function jn({p256dh:Qe,auth:Je,endpoint:zt,vapidKey:un}){const xn={web:{endpoint:zt,auth:Je,p256dh:Qe}};return un!==$e&&(xn.web.applicationPubKey=un),xn}const Mn=6048e5;function z(Qe){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,c.Z)(function*(Qe){const Je=yield nr(Qe.swRegistration,Qe.vapidKey),zt={vapidKey:Qe.vapidKey,swScope:Qe.swRegistration.scope,endpoint:Je.endpoint,auth:Me(Je.getKey("auth")),p256dh:Me(Je.getKey("p256dh"))},un=yield oe(Qe.firebaseDependencies);if(un){if(hr(un.subscriptionOptions,zt))return Date.now()>=un.createTime+Mn?bt(Qe,{token:un.token,createTime:Date.now(),subscriptionOptions:zt}):un.token;try{yield qt(Qe.firebaseDependencies,un.token)}catch(xn){console.warn(xn)}return Et(Qe.firebaseDependencies,zt)}return Et(Qe.firebaseDependencies,zt)}),Rt.apply(this,arguments)}function Vt(Qe){return hn.apply(this,arguments)}function hn(){return hn=(0,c.Z)(function*(Qe){const Je=yield oe(Qe.firebaseDependencies);Je&&(yield qt(Qe.firebaseDependencies,Je.token),yield Ae(Qe.firebaseDependencies));const zt=yield Qe.swRegistration.pushManager.getSubscription();return!zt||zt.unsubscribe()}),hn.apply(this,arguments)}function bt(Qe,Je){return rn.apply(this,arguments)}function rn(){return rn=(0,c.Z)(function*(Qe,Je){try{const zt=yield St(Qe.firebaseDependencies,Je),un=Object.assign(Object.assign({},Je),{token:zt,createTime:Date.now()});return yield ge(Qe.firebaseDependencies,un),zt}catch(zt){throw yield Vt(Qe),zt}}),rn.apply(this,arguments)}function Et(Qe,Je){return cn.apply(this,arguments)}function cn(){return cn=(0,c.Z)(function*(Qe,Je){const un={token:yield it(Qe,Je),createTime:Date.now(),subscriptionOptions:Je};return yield ge(Qe,un),un.token}),cn.apply(this,arguments)}function nr(Qe,Je){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,c.Z)(function*(Qe,Je){return(yield Qe.pushManager.getSubscription())||Qe.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:be(Je)})}),Gn.apply(this,arguments)}function hr(Qe,Je){const zt=Je.vapidKey===Qe.vapidKey,un=Je.endpoint===Qe.endpoint,xn=Je.auth===Qe.auth,ct=Je.p256dh===Qe.p256dh;return zt&&un&&xn&&ct}function Wn(Qe){const Je={from:Qe.from,collapseKey:Qe.collapse_key,messageId:Qe.fcmMessageId};return function En(Qe,Je){if(!Je.notification)return;Qe.notification={};const zt=Je.notification.title;zt&&(Qe.notification.title=zt);const un=Je.notification.body;un&&(Qe.notification.body=un);const xn=Je.notification.image;xn&&(Qe.notification.image=xn);const ct=Je.notification.icon;ct&&(Qe.notification.icon=ct)}(Je,Qe),function $n(Qe,Je){!Je.data||(Qe.data=Je.data)}(Je,Qe),function bn(Qe,Je){var zt,un,xn,ct,Z;if(!(Je.fcmOptions||null!==(zt=Je.notification)&&void 0!==zt&&zt.click_action))return;Qe.fcmOptions={};const x=null!==(xn=null===(un=Je.fcmOptions)||void 0===un?void 0:un.link)&&void 0!==xn?xn:null===(ct=Je.notification)||void 0===ct?void 0:ct.click_action;x&&(Qe.fcmOptions.link=x);const j=null===(Z=Je.fcmOptions)||void 0===Z?void 0:Z.analytics_label;j&&(Qe.fcmOptions.analyticsLabel=j)}(Je,Qe),Je}function Bn(Qe){return"object"==typeof Qe&&!!Qe&&_e in Qe}function yr(Qe,Je){const zt=[];for(let un=0;un<Qe.length;un++)zt.push(Qe.charAt(un)),un<Je.length&&zt.push(Je.charAt(un));return zt.join("")}function pr(Qe){return Ye.create("missing-app-config-values",{valueName:Qe})}yr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zn{constructor(Je,zt,un){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xn=function _r(Qe){if(!Qe||!Qe.options)throw pr("App Configuration Object");if(!Qe.name)throw pr("App Name");const Je=["projectId","apiKey","appId","messagingSenderId"],{options:zt}=Qe;for(const un of Je)if(!zt[un])throw pr(un);return{appName:Qe.name,projectId:zt.projectId,apiKey:zt.apiKey,appId:zt.appId,senderId:zt.messagingSenderId}}(Je);this.firebaseDependencies={app:Je,appConfig:xn,installations:zt,analyticsProvider:un}}_delete(){return Promise.resolve()}}function Mr(Qe){return sr.apply(this,arguments)}function sr(){return sr=(0,c.Z)(function*(Qe){var Je;try{Qe.swRegistration=yield navigator.serviceWorker.register(le,{scope:Ce}),Qe.swRegistration.update().catch(()=>{})}catch(zt){throw Ye.create("failed-service-worker-registration",{browserErrorMessage:null===(Je=zt)||void 0===Je?void 0:Je.message})}}),sr.apply(this,arguments)}function Zr(Qe,Je){return gr.apply(this,arguments)}function gr(){return gr=(0,c.Z)(function*(Qe,Je){if(!Je&&!Qe.swRegistration&&(yield Mr(Qe)),Je||!Qe.swRegistration){if(!(Je instanceof ServiceWorkerRegistration))throw Ye.create("invalid-sw-registration");Qe.swRegistration=Je}}),gr.apply(this,arguments)}function vr(Qe,Je){return Un.apply(this,arguments)}function Un(){return Un=(0,c.Z)(function*(Qe,Je){Je?Qe.vapidKey=Je:Qe.vapidKey||(Qe.vapidKey=$e)}),Un.apply(this,arguments)}function In(Qe,Je){return Wt.apply(this,arguments)}function Wt(){return Wt=(0,c.Z)(function*(Qe,Je){if(!navigator)throw Ye.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ye.create("permission-blocked");return yield vr(Qe,null==Je?void 0:Je.vapidKey),yield Zr(Qe,null==Je?void 0:Je.serviceWorkerRegistration),z(Qe)}),Wt.apply(this,arguments)}function Tn(Qe,Je,zt){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,c.Z)(function*(Qe,Je,zt){const un=Kn(Je);(yield Qe.firebaseDependencies.analyticsProvider.get()).logEvent(un,{message_id:zt[_e],message_name:zt[xe],message_time:zt[de],message_device_time:Math.floor(Date.now()/1e3)})}),Rn.apply(this,arguments)}function Kn(Qe){switch(Qe){case dt.NOTIFICATION_CLICKED:return"notification_open";case dt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xe(){return Xe=(0,c.Z)(function*(Qe,Je){const zt=Je.data;if(!zt.isFirebaseMessaging)return;Qe.onMessageHandler&&zt.messageType===dt.PUSH_RECEIVED&&("function"==typeof Qe.onMessageHandler?Qe.onMessageHandler(Wn(zt)):Qe.onMessageHandler.next(Wn(zt)));const un=zt.data;Bn(un)&&"1"===un[Be]&&(yield Tn(Qe,zt.messageType,un))}),Xe.apply(this,arguments)}const Te="@firebase/messaging",Ue=Qe=>{const Je=new zn(Qe.getProvider("app").getImmediate(),Qe.getProvider("installations-internal").getImmediate(),Qe.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",zt=>function lr(Qe,Je){return Xe.apply(this,arguments)}(Je,zt)),Je},Y=Qe=>{const Je=Qe.getProvider("messaging").getImmediate();return{getToken:un=>In(Je,un)}};function Nt(){return on.apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(){try{yield(0,Fe.eu)()}catch(Qe){return!1}return"undefined"!=typeof window&&(0,Fe.hl)()&&(0,Fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Hn(){return Hn=(0,c.Z)(function*(Qe){if(!navigator)throw Ye.create("only-available-in-window");return Qe.swRegistration||(yield Mr(Qe)),Vt(Qe)}),Hn.apply(this,arguments)}function He(Qe,Je){return At.apply(this,arguments)}function At(){return At=(0,c.Z)(function*(Qe,Je){return In(Qe=(0,Fe.m9)(Qe),Je)}),At.apply(this,arguments)}function Ut(Qe){return function pn(Qe){return Hn.apply(this,arguments)}(Qe=(0,Fe.m9)(Qe))}function Sn(Qe,Je){return function Ot(Qe,Je){if(!navigator)throw Ye.create("only-available-in-window");return Qe.onMessageHandler=Je,()=>{Qe.onMessageHandler=null}}(Qe=(0,Fe.m9)(Qe),Je)}!function je(){(0,Ie._registerComponent)(new $.wA("messaging",Ue,"PUBLIC")),(0,Ie._registerComponent)(new $.wA("messaging-internal",Y,"PRIVATE")),(0,Ie.registerVersion)(Te,"0.11.0"),(0,Ie.registerVersion)(Te,"0.11.0","esm2017")}()},3688:(ln,at,R)=>{"use strict";R.d(at,{Lj:()=>mt,X3:()=>xt});var c=R(1670);let $,Le;const le=new WeakMap,Ce=new WeakMap,$e=new WeakMap,ue=new WeakMap,_e=new WeakMap;let Be={get(De,st,ie){if(De instanceof IDBTransaction){if("done"===st)return Ce.get(De);if("objectStoreNames"===st)return De.objectStoreNames||$e.get(De);if("store"===st)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return be(De[st])},set:(De,st,ie)=>(De[st]=ie,!0),has:(De,st)=>De instanceof IDBTransaction&&("done"===st||"store"===st)||st in De};function dt(De){return De!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return Le||(Le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(De)?function(...st){return De.apply(Ee(this),st),be(le.get(this))}:function(...st){return be(De.apply(Ee(this),st))}:function(st,...ie){const ee=De.call(Ee(this),st,...ie);return $e.set(ee,st.sort?st.sort():[st]),be(ee)}}function Me(De){return"function"==typeof De?dt(De):(De instanceof IDBTransaction&&function de(De){if(Ce.has(De))return;const st=new Promise((ie,ee)=>{const oe=()=>{De.removeEventListener("complete",J),De.removeEventListener("error",ge),De.removeEventListener("abort",ge)},J=()=>{ie(),oe()},ge=()=>{ee(De.error||new DOMException("AbortError","AbortError")),oe()};De.addEventListener("complete",J),De.addEventListener("error",ge),De.addEventListener("abort",ge)});Ce.set(De,st)}(De),((De,st)=>st.some(ie=>De instanceof ie))(De,function Fe(){return $||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(De,Be):De)}function be(De){if(De instanceof IDBRequest)return function xe(De){const st=new Promise((ie,ee)=>{const oe=()=>{De.removeEventListener("success",J),De.removeEventListener("error",ge)},J=()=>{ie(be(De.result)),oe()},ge=()=>{ee(De.error),oe()};De.addEventListener("success",J),De.addEventListener("error",ge)});return st.then(ie=>{ie instanceof IDBCursor&&le.set(ie,De)}).catch(()=>{}),_e.set(st,De),st}(De);if(ue.has(De))return ue.get(De);const st=Me(De);return st!==De&&(ue.set(De,st),_e.set(st,De)),st}const Ee=De=>_e.get(De);function xt(De,st,{blocked:ie,upgrade:ee,blocking:oe,terminated:J}={}){const ge=indexedDB.open(De,st),Ne=be(ge);return ee&&ge.addEventListener("upgradeneeded",Ae=>{ee(be(ge.result),Ae.oldVersion,Ae.newVersion,be(ge.transaction))}),ie&&ge.addEventListener("blocked",()=>ie()),Ne.then(Ae=>{J&&Ae.addEventListener("close",()=>J()),oe&&Ae.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Ne}function mt(De,{blocked:st}={}){const ie=indexedDB.deleteDatabase(De);return st&&ie.addEventListener("blocked",()=>st()),be(ie).then(()=>{})}const yt=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],nt=new Map;function me(De,st){if(!(De instanceof IDBDatabase)||st in De||"string"!=typeof st)return;if(nt.get(st))return nt.get(st);const ie=st.replace(/FromIndex$/,""),ee=st!==ie,oe=et.includes(ie);if(!(ie in(ee?IDBIndex:IDBObjectStore).prototype)||!oe&&!yt.includes(ie))return;const J=function(){var ge=(0,c.Z)(function*(Ne,...Ae){const Ve=this.transaction(Ne,oe?"readwrite":"readonly");let qe=Ve.store;return ee&&(qe=qe.index(Ae.shift())),(yield Promise.all([qe[ie](...Ae),oe&&Ve.done]))[0]});return function(Ae){return ge.apply(this,arguments)}}();return nt.set(st,J),J}!function Ge(De){Be=De(Be)}(De=>lI(cI({},De),{get:(st,ie,ee)=>me(st,ie)||De.get(st,ie,ee),has:(st,ie)=>!!me(st,ie)||De.has(st,ie)}))},1670:(ln,at,R)=>{"use strict";function c($,Le,Fe,Ie,le,Ce,$e){try{var ue=$[Ce]($e),_e=ue.value}catch(xe){return void Fe(xe)}ue.done?Le(_e):Promise.resolve(_e).then(Ie,le)}function B($){return function(){var Le=this,Fe=arguments;return new Promise(function(Ie,le){var Ce=$.apply(Le,Fe);function $e(_e){c(Ce,Ie,le,$e,ue,"next",_e)}function ue(_e){c(Ce,Ie,le,$e,ue,"throw",_e)}$e(void 0)})}}R.d(at,{Z:()=>B})}},ln=>{var c;c=5478,ln(ln.s=c)}]);
//# sourceMappingURL=main.9cffcb331e17a371.js.map